(function(){'use strict';var g;Object.clone=Object.clone||function(a){let b={};for(let c=0,d=Object.keys(a);c<d.length;c++)b[d[c]]=a[d[c]];return b};function aa(a,b,c){let d=[];for(;a<=b;a+=c)d.push(a);return d}function A(a,b={},c=!0){b=Object.clone(b);for(let d=0,e=Object.keys(a);d<e.length;d++){let f=e[d],k=a[f],l=b[f],m=Object.prototype.toString.call(k).slice(8,-1),h=Object.prototype.toString.call(l).slice(8,-1);"Object"==m&&c&&(b[f]=A(k,l,c));"Undefined"!=m&&"Null"!=m&&h!==m&&(b[f]=a[f])}return b}
function ba(a,b,c=1E-6){for(let d=0;d<b.length;d++)if(Math.abs(b[d]-a)<=c)return d;return-1}window.i=A;function H(a,b,c={}){var d={width:200,height:200,u:Math.ceil(window.devicePixelRatio||1),D:!0,F:!0,ca:!1,I:!1,zd:!1,ba:0,J:void 0,ga:void 0,textAlign:"start",textBaseline:"alphabetic",fillStyle:"#ffffff",background:"#ffffff",strokeStyle:"#000000",qa:"rgba",lineWidth:1,fontSize:"20px",fontFamily:"serif",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",lineHeight:1.2,font:"20px serif",K:{}};c=A(d,c);let e;"string"===typeof b?b=document.querySelector(b):b instanceof HTMLElement||
(b=document.body);let f=b.querySelector("canvas");f?e=f:e=H.ta(c);"number"!==typeof b.pa&&(b.pa=1);let k=b.pa,l=b.id||b.classList.item(0),m=c.name||e.name;"string"!=typeof m&&(m=l+"-C-"+k,c.name=m);e.id=m;e.classList.add(m);b.appendChild(e);f?H.h=e.context:(H.ja(e,c),e.context=Object.assign(e.getContext("2d"),c),e.context.setTransform(c.u,0,0,c.u,0,0),H.h=e.context,H.h.sa=b,H.h.ka=d,H.h.ha=[]);H.X[m]=e.context;b={};for(let h in c.K)if(d=c.K[h])e.addEventListener(h,d),b[h]=d;e.K=b;a()}H.X={};H.h={};
H.h.sa={};H.ja=function(a,b){const c=b.width,d=b.height;b=b.u||window.devicePixelRatio;a.style.width=c+"px";a.style.height=d+"px";a.width=b*c;a.height=b*d};H.ta=function(a){const b=document.createElement("canvas");this.ja(b,a);return b};H.Y=!1;H.debug=function(a){H.Y="boolean"!==typeof a?!0:a};H.fa=[];window.C=H;var ca={kb:"#f0f8ff",lb:"#faebd7",mb:"#00ffff",nb:"#7fffd4",ob:"#f0ffff",pb:"#f5f5dc",qb:"#ffe4c4",rb:"#000000",sb:"#ffebcd",blue:"#0000ff",tb:"#8a2be2",ub:"#a52a2a",vb:"#deb887",wb:"#5f9ea0",xb:"#7fff00",yb:"#d2691e",zb:"#ff7f50",Ab:"#6495ed",Bb:"#fff8dc",Cb:"#dc143c",Db:"#00ffff",Eb:"#00008b",Fb:"#008b8b",Gb:"#b8860b",Hb:"#a9a9a9",Ib:"#006400",Jb:"#a9a9a9",Kb:"#bdb76b",Lb:"#8b008b",Mb:"#556b2f",Nb:"#ff8c00",Ob:"#9932cc",Pb:"#8b0000",Qb:"#e9967a",Rb:"#8fbc8f",Sb:"#483d8b",Tb:"#2f4f4f",Ub:"#2f4f4f",
Vb:"#00ced1",Wb:"#9400d3",Yb:"#ff1493",Zb:"#00bfff",$b:"#696969",ac:"#696969",bc:"#1e90ff",cc:"#b22222",dc:"#fffaf0",ec:"#228b22",fc:"#ff00ff",hc:"#dcdcdc",lc:"#f8f8ff",mc:"#ffd700",nc:"#daa520",oc:"#808080",green:"#008000",pc:"#adff2f",qc:"#808080",rc:"#f0fff0",sc:"#ff69b4",tc:"#cd5c5c",uc:"#4b0082",vc:"#fffff0",wc:"#f0e68c",xc:"#e6e6fa",yc:"#fff0f5",zc:"#7cfc00",Ac:"#fffacd",Bc:"#add8e6",Cc:"#f08080",Dc:"#e0ffff",Ec:"#fafad2",Fc:"#d3d3d3",Gc:"#90ee90",Hc:"#d3d3d3",Ic:"#ffb6c1",Jc:"#ffa07a",Kc:"#20b2aa",
Lc:"#87cefa",Mc:"#778899",Nc:"#778899",Oc:"#b0c4de",Pc:"#ffffe0",Qc:"#00ff00",Rc:"#32cd32",Sc:"#faf0e6",Tc:"#ff00ff",Uc:"#800000",Vc:"#66cdaa",Wc:"#0000cd",Xc:"#ba55d3",Yc:"#9370db",Zc:"#3cb371",$c:"#7b68ee",ad:"#00fa9a",bd:"#48d1cc",cd:"#c71585",dd:"#191970",ed:"#f5fffa",fd:"#ffe4e1",gd:"#ffe4b5",md:"#ffdead",nd:"#000080",od:"#fdf5e6",pd:"#808000",qd:"#6b8e23",rd:"#ffa500",sd:"#ff4500",td:"#da70d6",ud:"#eee8aa",vd:"#98fb98",wd:"#afeeee",xd:"#db7093",yd:"#ffefd5",Ad:"#ffdab9",Bd:"#cd853f",Cd:"#ffc0cb",
Ed:"#dda0dd",Gd:"#b0e0e6",Hd:"#800080",Id:"#663399",red:"#ff0000",Kd:"#bc8f8f",Ld:"#4169e1",Md:"#8b4513",Nd:"#fa8072",Od:"#f4a460",Pd:"#2e8b57",Qd:"#fff5ee",Rd:"#a0522d",Sd:"#c0c0c0",Td:"#87ceeb",Ud:"#6a5acd",Vd:"#708090",Wd:"#708090",Xd:"#fffafa",Yd:"#00ff7f",Zd:"#4682b4",tan:"#d2b48c",ae:"#008080",be:"#d8bfd8",fe:"#ff6347",ge:"#40e0d0",he:"#ee82ee",ie:"#f5deb3",je:"#ffffff",ke:"#f5f5f5",le:"#ffff00",me:"#9acd32"};let da=/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,ea=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,fa=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,ha=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,ia=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,ja=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(?:(\d+(?:\.\d+)?)|(?:\.\d+))\)$/i;
function I(...a){var b;Array.isArray(a[0])&&(a=a[0]);let c=a[0];if("number"===typeof c)1===a.length?b=[c,c,c,1]:2===a.length?b=[c,a[1],0,1]:3===a.length?b=[c,a[1],a[2],1]:4===a.length&&(b=[c,a[1],a[2],a[3]]);else if("string"==typeof c)if(b=c.replace(/\s/g,"").toLowerCase(),ca[b])b=I(ca[b]).da;else if(da.test(b))b=da.exec(b).slice(1).map(f=>parseInt(f+f,16)),b[3]=1;else if(fa.test(b))b=fa.exec(b).slice(1).map(f=>parseInt(f,16)),b[3]=1;else if(ea.test(b))b=ea.exec(b).slice(1).map(f=>parseInt(f+f,16));
else if(ha.test(b))b=ha.exec(b).slice(1).map(f=>parseInt(f,16));else if(ia.test(b))b=ia.exec(b).slice(1).map(f=>parseInt(f)),b[3]=1;else if(ja.test(b))b=ja.exec(b).slice(1).map((f,k)=>3==k?parseFloat(f):parseInt(f));else throw console.log(b),Error("Given color is not valid");else return b=c,{da:b,Ya:b,Fa:b,$:b,Ea:b,Ga:b};a=b[3];b[3]*=255;let d="#";b.map((f,k)=>{3>k&&(f=Math.round(f).toString(16),d+=1==f.length?"0"+f:f)});let e="#";b.map((f,k)=>{4>k&&(f=Math.round(f).toString(16),e+=1==f.length?"0"+
f:f)});b[3]=a;return{da:b,Ya:`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]})`,Fa:d,$:e,Ea:e,Ga:`hsl(${b[0]}, ${b[1]}, ${b[2]})`}};function na(a,b,c,d,e=1){return[b[0]+(c[0]-a[0])/6*e,b[1]+(c[1]-a[1])/6*e,c[0]-(d[0]-b[0])/6*e,c[1]-(d[1]-b[1])/6*e]}function oa(a,b=1,c=!0){for(let d=0;d<a.length-1;d++){let e=a[d+1],f=na(0<d?a[d-1]:c?a[a.length-2]:a[0],a[d],e,d!=a.length-2?a[d+2]:c?a[1]:e,b);H.h.bezierCurveTo(f[0],f[1],f[2],f[3],e[0],e[1])}}function pa(a,b=1,c=!0){let d=H.h;d.beginPath();d.moveTo(a[0][0],a[0][1]);oa(a,b,c);d.D&&c&&d.fill();d.F&&d.stroke();d.closePath()}
function J(a,b,c,d){let e=H.h;e.beginPath();e.moveTo(a,b);e.lineTo(c,d);e.stroke();e.closePath()};var qa=1;function L(a,b=0){H.h.translate(a,b)}function ra(a,b=a){H.h.scale(a,b)}function sa(a){let b=H.h;b.rotate(a);b.ba=(b.ba+a)%Math.PI*2}function ta(){Object.assign(H.h,H.ka);H.h.restore()}function ua(...a){let b=H.h;0<arguments.length?(b.strokeStyle=I(a).$,b.F=!0):b.stroke()}function va(...a){let b=H.h;0!==arguments.length?(b.fillStyle=I(a).$,b.D=!0):b.fill()}
function O(a){a=H.X[a]||H.h;return{background:a.background,qa:a.qa,strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,F:a.F,D:a.D,ca:a.ca,I:a.I,ba:a.ba,fontStyle:a.fontStyle,fontVariant:a.fontVariant,fontWeight:a.fontWeight,fontStretch:a.fontStretch,fontSize:a.fontSize,lineHeight:a.lineHeight,fontFamily:a.fontFamily,font:a.font,textAlign:a.textAlign,textBaseline:a.textBaseline,onclick:a.onclick,onmousemove:a.onmousemove,onmouseout:a.onmouseout,onmousedown:a.onmousedown,onmouseup:a.onmouseup,
onmousewheel:a.onmousewheel,onkeydown:a.onkeydown,onkeyup:a.onkeyup,onkeypress:a.onkeypress,oncopy:a.oncopy,onpaste:a.onpaste,oncut:a.oncut,ontouchstart:a.ontouchstart,ontouchmove:a.ontouchmove,ontouchend:a.ontouchend,ontouchcancel:a.ontouchcancel,onresize:a.onresize,onblur:a.onblur,onfocus:a.onfocus,onchange:a.onchange,oninput:a.oninput,onload:a.onload,onscroll:a.onscroll,onwheel:a.onwheel,Qa:a.Qa,Ta:a.Ta,Wa:a.Wa,Pa:a.Pa,Va:a.Va,Ua:a.Ua,Ra:a.Ra,Sa:a.Sa,Oa:a.Oa}}
function wa(a,b,c,d,e=100,f={},k){function l(){h.J=window.requestAnimationFrame(l);H.h=h;let t=O(c);f&&Object.assign(H.h,x);b(window.performance.now()-h.xa,m());f&&Object.assign(H.h,t)}function m(){let t=window.performance.now(),v=t-h.va;h.va=t;h.ea.push(v);h.W+=v;h.ea.length>e&&(h.W-=h.ea.shift());return h.ea.length/(h.W/1E3)}let h;"function"==typeof a&&(f=d=c=b=a=qa++,k=arguments[4]);c?h=H.X[c]:(h=H.h,c=h.name);h.ea=[];h.W=0;let x=Object.assign(O(c),f);if(void 0!=h.J)H.Y&&(console.log(c+": "+a+
" %cdelayed","color: orange;"),H.fa.push({canvas:h,animationName:a,state:"delayed",la:x})),h.ha.push({name:a,la:x,Ca:b,za:c,hb:d,de:e,O:k});else{if(H.Y){let t=`${c}: ${a} %crunning`,v=["color: yellow;"];void 0!=k&&(t+=`%c for %c${k}ms`,v.push("color: #adacdf;","color: #9afcad;"));H.fa.push({canvas:h,animationName:a,state:"running",la:x,O:k});console.log(t,...v)}h.va=window.performance.now();h.xa=window.performance.now();isNaN(d)?l():(h.ga=a,h.J=setInterval(function(){H.h=h;let t=O(c);Object.assign(H.h,
x);b(window.performance.now()-h.xa,m());Object.assign(H.h,t)},d))}}function xa(){var a;let b=H.h;a?b=H.X[a]:a=b.name;clearInterval(b.J);window.cancelAnimationFrame(b.J);b.J=void 0;H.Y&&(console.log(`${a}: ${b.ga} %cfinished`,...["color: #3aff5f;"]),H.fa.push({canvas:b,animationName:b.ga,state:"finished",endTime:void 0}));0<b.ha.length&&(a=b.ha.shift(),wa(a.name,a.Ca,a.za,a.hb,a.ee,a.la,a.O))}
function ya(a){let b=H.h;b.fontSize="number"===typeof a?a+"px":a;{let {fontStyle:c,fontVariant:d,fontWeight:e,fontStretch:f,fontSize:k,lineHeight:l,fontFamily:m}=H.h;a=`${c} ${d} ${e} ${f} ${k}/${l} ${m}`}b.font=a}function za(){let a=H.h;a.scale(1,-1);a.I=!a.I};function Aa(a,b=0,c=0){let d=H.h;d.I&&(ra(1,-1),c*=-1);d.D?d.fillText(a,b,c,void 0):d.F&&d.strokeText(a,b,c,void 0);d.I&&ra(1,-1)};function Ba(a,b,c,d){var e=0;let f=H.h,k=f.lineWidth;var l=Math.sqrt(Math.pow(a-b,2)+Math.pow(-e,2));isNaN(c)&&(c=l);d=d||c/1.2;let m=c-l;var h=Math.sqrt(Math.pow(m,2)+Math.pow(d/2,2));d=Math.atan(d/(2*m));l>c&&(d+=Math.PI);c=Math.atan2(e,b-a);l=[a-Math.cos(d+c)*h,-(Math.sin(d+c)*h)];h=[a-Math.cos(-d+c)*h,-(Math.sin(-d+c)*h)];f.F&&"bevel"!=f.lineJoin&&(b-=Math.cos(c)*k,e-=Math.sin(c)*k);f.save();f.ca||f.beginPath();f.moveTo(a,0);f.lineTo(l[0],l[1]);f.lineTo(b,e);f.lineTo(h[0],h[1]);f.lineTo(a,0);
f.ca||(f.D&&f.fill(),f.F&&f.stroke(),f.closePath());f.restore()};const Ca={then:function(a){a();return Ca}};var Da=1;const Ea=[0,10,.1],Fa=[1,1];
function Ga(a){function b(){let r=H.h;for(let y=0;y<m.length;y++){var q=m[y];if(e)pa(q,f,l);else{r.beginPath();r.moveTo(q[0][0],q[0][1]);for(let p=1;p<q.length;p++)r.lineTo(q[p][0],q[p][1]);r.closePath();q=r;q.D&&q.fill();q.F&&q.stroke()}}}a=A({ma:1,m:Fa,l:Fa,j:Ea,Ba:[],N:!0,closed:!1,Z:!0,O:4E3},a);let {ua:c,j:d,N:e,ma:f,Ba:k,closed:l}=a;Array.isArray(d)&&2==d.length&&d.push((d[1]-d[0])/20);let m=[[]];var h=d[0];let x=d[1],t=d[2];Array.isArray(k)||(k=[]);let v=1E-6,w=0,E=0,D=a.l[0]/a.m[0],u=a.l[1]/
a.m[1];for(t<v&&(v=t/2);h<=x+v;h+=t){if(-1<ba(h,k,v)){-1<ba(h+t,k,v)&&(w++,m.push([]));continue}let r=c(h);m[w].push([r[0]*D,r[1]*u]);E++}a.Z&&b();let z=H.h;return{Fd:m[0],O:a.O,name:"parametric-plot-"+Da++,closed:a.closed,ma:a.ma||1,N:a.N,Xa:a.Xa,cb:a.cb||!1,Z:function(r=2E3){function q(n){return function(){n>=p.length-2&&(xa(),z.closePath(),z.D&&this.Z());let B=p[n],C=p[n+1],K=na(0<n?p[n-1]:l?p[p.length-2]:p[0],B,C,n!=p.length-2?p[n+2]:l?p[1]:C);n++;z.beginPath();z.moveTo(B[0],B[1]);z.bezierCurveTo(K[0],
K[1],K[2],K[3],C[0],C[1]);z.stroke()}}function y(n){return function(){n>=p.length-2&&(xa(),z.D&&this.Z());let B=p[n],C=p[++n];J(B[0],B[1],C[0],C[1])}}r/=E;for(let n=0;n<m.length;n++){var p=m[n];e?wa("parametric-plot-"+Da++,q(0),H.h.name,r):wa("parametric-plot-"+Da++,y(0),H.h.name,r)}return Ca}}}function Ha(a){let b=a.ua;a.ua=c=>[c,b(c)];return Ga(a)}
function Ia(a){function b(u){if(u>=D)return"rgba("+e[D].join()+")";if(u<=E)return"rgba("+e[E].join()+")";for(let z=0;z<v.length-1;z++){let r=v[z],q=v[z+1],y=e[r],p=e[q],n=l((u-r)/(q-r));if(u>=r&&u<q)return"rgba("+[(p[0]-y[0])*n+y[0],(p[1]-y[1])*n+y[1],(p[2]-y[2])*n+y[2],(p[3]-y[3])*n+y[3]].join()+")"}}a=A({min:[-4,-4],max:[4,4],ra:{"-5":"#b36e38b0","-3":"#ff9c52b0","-1":"#ffcea9b0",0:"#dcdcddb0",1:"#9fcaedb0",3:"#3d96dab0",5:"#2b6b99b0"},l:Fa,m:Fa,V:1,Ha:u=>u},a,!1);let {min:c,max:d,ra:e,V:f,Dd:k,
Ha:l}=a,m=H.h,h=a.l[0]/a.m[0],x=a.l[1]/a.m[1],t=a.m[0]/a.l[0];a=a.m[1]/a.l[1];let v=Object.keys(e).sort();for(var w of v)e[w]=I(e[w]).da;let E=Math.min(...v),D=Math.max(...v);m.save();for(w=c[0];w<=d[0];w+=f*t)for(let u=c[1];u<=d[1];u+=f*a)m.fillStyle=b(k(w,u)),m.fillRect(w*h,u*x,f,f);m.restore();return{min:E,max:D,ra:e}};function Ja(a,b,c={}){return{kc:function(d){d.l=a;d.m=b;return Ga(d)},ic:function(d){d.l=a;d.m=b;return Ha(d)},jc:function(d){d.l=a;d.m=b;d.min=d.min||[c.A.j[0],c.B.j[0]];d.max=d.max||[c.A.j[1],c.B.j[1]];return Ia(d)}}}const Ma=[0,0];
function Na(a={}){var b=H.h;a=A({A:{length:b.width,U:!0,R:!0,T:!0,P:!0,S:!1},B:{length:b.height,rotation:Math.PI/2,na:-Math.PI/2,wa:[0,.4],U:!0,R:!0,T:!0,P:!0,S:!1},v:Ma},a);var c=a.A,d=a.B;a=a.v;var e=c.j,f=d.j;e=c.length/2+e[0]/e[2]*(c.length/((e[1]-e[0])/e[2]));f=d.length/2+f[0]/f[2]*(d.length/((f[1]-f[0])/f[2]));b.save();b.beginPath();b.translate(a[0],a[1]);b.translate(e,0);c=Oa(c);b.translate(-e,f);const k=Oa(d);d=[c.l,k.l];e=[c.m,k.m];b.translate(-a[0],-a[1]-f);b.closePath();b.restore();b={v:a,
A:c,B:k,m:e,l:d};return Object.assign(b,Ja(d,e,b))}
function Oa(a={}){function b(){ua(e);d.lineWidth=h;var F=D?1:0;const M=u?R.length-1:R.length;for(;F<M&&0>z.indexOf(R[0][F]);F++){const G=R[F];if(0===Number(G)&&q)continue;let X=v;-1<p.indexOf(G)&&(X*=y);J(N*F,-X/2,N*F,X/2)}}function c(){const F=0<r.length?r:R;va(a.eb);ya(m);const M=-m/3*Math.cos(w)+E[1]*m;var G=D?1:0;const X=u?F.length-1:F.length;for(;G<X&&0>z.indexOf(F[G]);G++){var ka="number"==typeof F[G]?F[G].toFixed(B):F[G];if(0===Number(ka)&&q)continue;const la=d.measureText(ka).width,Ka=-la/
2*Math.cos(w)+E[0]*m+m/2*Math.sin(w);L(N*G+Ka,M-la*Math.sin(w));sa(w);var La=0;let ma=H.h;ma.I&&(ra(1,-1),La*=-1);ma.fillText(ka,0,La,void 0);ma.I&&ra(1,-1);sa(-w);L(-(N*G+Ka),-(M-la*Math.sin(w)))}}const d=H.h;a=A({rotation:0,lineWidth:2,jb:13,fb:17,ib:10,gb:10,na:0,length:d.width,Ja:1.5,v:Ma,j:[-5,5,1],Ma:[],La:[],wa:[-.3,-0],Na:[],U:!0,S:!0,R:!1,T:!1,P:!1,color:"#888888",eb:"#ffffff"},a);const e=a.color,f=a.v,k=a.rotation,l=a.jb,m=a.fb,h=a.lineWidth,x=a.ib,t=a.length,v=a.gb,w=a.na,E=a.wa,D=a.R,
u=a.T,z=a.La,r=a.Ma,q=a.P,y=a.Ja,p=a.Na;let {j:n,Xb:B}=a;Array.isArray(n)&&2===n.length&&(n=[n[0],n[1],1]);isNaN(B)&&(B=(n[2].toString().split(".")[1]||[]).length||0);const C=n[0],K=n[1],Y=n[2],N=t/((K-C)/Y),R=aa(C,K,Y);d.beginPath();H.ka=O();H.h.save();L(f[0]*N,f[1]*N);sa(k);L(-t/2,0);a.U&&b();a.S&&c();L(t/2,0);(function(){ua(e);d.lineWidth=h;va(e);const F=Math.atan(x/2);let M=-t/2,G=t/2;D&&(Ba(M+l,M,l,x),M+=l*Math.cos(F));u&&(Ba(G-l,G,l,x),G-=l*Math.cos(F));J(M,0,G,0)})();d.closePath();ta();return{j:n,
v:f,ce:R,m:Y,l:N}}
function Pa(){var a={A:{j:[-P[0],P[1],.6]},B:{j:[-P[0],P[1],.6]}},b=H.h;a=A({A:{length:b.width,U:!0,S:!0,R:!1,T:!1,P:!0,l:50},B:{length:b.height,na:-Math.PI/2,l:50,U:!0,S:!0,R:!1,T:!1,P:!0},Da:{bb:1,lineWidth:1,ab:.7,color:"#58c4dda0",$a:"#88888850"},v:Ma},a);const c=a.A,d=a.B,e=a.Da,f=e.bb;a=a.v;Array.isArray(c.j)?(isNaN(c.j[2])&&(c.j[2]=1),c.l=c.length/((c.j[1]-c.j[0])/c.j[2])):(b=c.length/c.l/2,c.j=[-b,b,1]);Array.isArray(d.j)?(isNaN(d.j[2])&&(d.j[2]=1),d.l=d.length/((d.j[1]-d.j[0])/d.j[2])):(b=
d.length/d.l/2,d.j=[-b,b,1]);b=c.j;var k=d.j;const l=(b[1]-b[0])/b[2],m=(k[1]-k[0])/k[2],h=c.l,x=d.l,t=b[0]/b[2]*h,v=b[1]/b[2]*h,w=k[0]/k[2]*x,E=k[1]/k[2]*x,D=[h/f,x/f];H.ka=O();H.h.save();a[0]*=h;a[1]*=x;L(a[0],a[1]);const u=Na({A:c,B:d});(function(){function z(n,B,C,K,Y,N){L(n,B);H.h.lineWidth=Number(e.lineWidth);ua(e.color);J(C,K,Y,N)}function r(n,B,C,K){H.h.lineWidth=Number(e.ab);ua(e.$a);J(n,B,C,K)}L(t,0);var q=D[0];const y=D[1];for(var p=0;p<=l;p++)if(p!=c.v-c.j[0]){z(p*h,0,0,w,0,E);for(let n=
1;n<=f&&p<l;n++)r(n*q,w,n*q,E);L(-p*h)}L(-t,w);for(q=0;q<=m;q++)if(q!=d.v-d.j[0]){z(0,q*x,t,0,v,0);for(p=1;p<=f&&q<m;p++)r(t,p*y,v,p*y);L(0,-q*x)}L(0,-w)})();b=u.l;k=u.m;ta();a={v:a,m:k,l:b,A:u.A,B:u.B,$d:D};Object.assign(a,Ja(b,k,a))};function Qa(a){let b;Array.isArray(a[0])&&16==a[0].length?b=a[0]:16==a.length?b=a:a[0]instanceof Q?b=a[0].g:b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new Float32Array(b)}
class Q{constructor(a){this.g=Qa(arguments);return this}multiply(a){let b=Qa(arguments),c=this.g[0],d=this.g[1],e=this.g[2],f=this.g[3];this.g[0]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.g[1]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.g[2]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.g[3]=c*b[3]+d*b[7]+e*b[11]+f*b[15];c=this.g[4];d=this.g[5];e=this.g[6];f=this.g[7];this.g[4]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.g[5]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.g[6]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.g[7]=c*b[3]+d*b[7]+e*b[11]+f*b[15];c=
this.g[8];d=this.g[9];e=this.g[10];f=this.g[11];this.g[8]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.g[9]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.g[10]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.g[11]=c*b[3]+d*b[7]+e*b[11]+f*b[15];c=this.g[12];d=this.g[13];e=this.g[14];f=this.g[15];this.g[12]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.g[13]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.g[14]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.g[15]=c*b[3]+d*b[7]+e*b[11]+f*b[15];return this}rotate(a,b,c,d){b instanceof Array&&(c=b[1],d=b[2],b=b[0]);var e=Math.sqrt(b*
b+c*c+d*d);b*=1/e;c*=1/e;d*=1/e;e=this.g[0];const f=this.g[1],k=this.g[2],l=this.g[3],m=this.g[4],h=this.g[5],x=this.g[6],t=this.g[7],v=this.g[8],w=this.g[9],E=this.g[10],D=this.g[11],u=Math.sin(a),z=Math.cos(a),r=1-z;a=b*b*r+z;const q=c*b*r+d*u,y=d*b*r-c*u,p=b*c*r-d*u,n=c*c*r+z,B=d*c*r+b*u,C=b*d*r+c*u;b=c*d*r-b*u;d=d*d*r+z;this.g[0]=e*a+m*q+v*y;this.g[1]=f*a+h*q+w*y;this.g[2]=k*a+x*q+E*y;this.g[3]=l*a+t*q+D*y;this.g[4]=e*p+m*n+v*B;this.g[5]=f*p+h*n+w*B;this.g[6]=k*p+x*n+E*B;this.g[7]=l*p+t*n+D*B;
this.g[8]=e*C+m*b+v*d;this.g[9]=f*C+h*b+w*d;this.g[10]=k*C+x*b+E*d;this.g[11]=l*C+t*b+D*d;return this}scale(a,b,c){a instanceof Array&&(b=a[1],c=a[2],a=a[0]);this.g[0]*=a;this.g[1]*=a;this.g[2]*=a;this.g[3]*=a;this.g[4]*=b;this.g[5]*=b;this.g[6]*=b;this.g[7]*=b;this.g[8]*=c;this.g[9]*=c;this.g[10]*=c;this.g[11]*=c;return this}translate(a,b,c=0){this.g[12]+=this.g[0]*a+this.g[4]*b+this.g[8]*c;this.g[13]+=this.g[1]*a+this.g[5]*b+this.g[9]*c;this.g[14]+=this.g[2]*a+this.g[6]*b+this.g[10]*c;this.g[15]+=
this.g[3]*a+this.g[7]*b+this.g[11]*c;return this}clone(){let a=[];for(let b=0;b<this.g.length;b++)a.push(this.g[b]);return new Q(a)}};function Ra(a,b){let c=a.i,d={},e={};b.H instanceof HTMLScriptElement&&(b.H=b.H.textContent.trim());b.G instanceof HTMLScriptElement&&(b.G=b.G.textContent.trim());var f=b.G;const k=Sa(a,a.i.VERTEX_SHADER,b.H);f=Sa(a,a.i.FRAGMENT_SHADER,f);{const l=a.i.createProgram();a.i.attachShader(l,k);a.i.attachShader(l,f);a.i.linkProgram(l);a.i.getProgramParameter(l,a.i.LINK_STATUS)?a=l:(console.error(a.i.getProgramInfoLog(l)),a.i.deleteProgram(l),a=null)}for(let l in b.attributes)e[l]=c.getAttribLocation(a,
b.attributes[l]);for(let l in b.o)d[l]=c.getUniformLocation(a,b.o[l]);return{s:a,o:d,attributes:e,H:b.H,G:b.G}}function Sa(a,b,c){b=a.i.createShader(b);a.i.shaderSource(b,c);a.i.compileShader(b);return a.i.getShaderParameter(b,a.i.COMPILE_STATUS)?b:(console.error(a.i.getShaderInfoLog(b)),a.i.deleteShader(b),null)}function Ta(a,b,c=3,d=a.i.FLOAT,e=!1,f=0,k=0){a.i.enableVertexAttribArray(b);a.i.vertexAttribPointer(b,c,d,e,f,k)}
class Ua{constructor(a){let b=a.getContext("webgl");b||(b=a.getContext("experimental-webgl"));if(!b)throw Error("WebGL is not supported");b.viewport(0,0,a.width,a.height);this.i=b;this.canvas=a;this.width=a.width;this.height=a.height;this.u=a.u||Math.ceil(window.devicePixelRatio);this.canvas=a;this.L={Za:{H:"attribute vec3 a_position;\n\t\t\t\t\tuniform vec2 u_resolution;\n\t\t\t\t\tuniform mat4 u_matrix;\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_Position = u_matrix * vec4(a_position, 1) / vec4(u_resolution, 1, 1);\n\t\t\t\t\t}",
G:"precision mediump float;\n\t\t\t\t\tuniform vec4 u_color;\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_FragColor = u_color;\n\t\t\t\t\t}",o:{V:"u_resolution",M:"u_matrix",ya:"u_color"},attributes:{oa:"a_position"},s:null},ld:{H:"attribute vec3 a_position;\n\t\t\t\t\tattribute vec4 aVertexColor;\n\t\t\t\t\tuniform vec2 u_resolution;\n\t\t\t\t\tuniform mat4 u_matrix;\n\t\t\t\t\tvarying lowp vec4 vColor;\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_Position = u_matrix * vec4(a_position, 1);\n\t\t\t\t\t\t// / vec4(u_resolution, 1, 1);\n\t\t\t\t\t\tvColor = aVertexColor;\n\t\t\t\t\t}",
G:"precision mediump float;\n\t\t\t\t\tvarying lowp vec4 vColor;\n\t\t\t\t\tvoid main(void) {\n\t\t\t\t\t\tgl_FragColor = vColor;\n\t\t\t\t\t}",o:{V:"u_resolution",M:"u_matrix"},attributes:{oa:"a_position",ya:"aVertexColor"},s:null}};for(let c in this.L)this.L[c]=Ra(this,this.L[c]);this.s=this.L.Za;b.useProgram(this.s.s);this.Ia=new Q;this.ia=new Q;this.Ka=new Q;this.M=new Q;b.uniform2f(this.s.o.V,a.width/2/this.u,a.height/2/this.u);this.aa={fillColor:[1,0,1,1],strokeColor:[1,1,0,1],lineWidth:1}}useProgram(a){if(this.L[a])this.s=
this.L[a],this.i.useProgram(this.s.s),this.i.uniform2f(this.s.o.V,this.canvas.width/2/this.u,this.canvas.height/2/this.u);else if(a.s)this.s=a,this.i.useProgram(a.s);else throw Error(`${a} not fouund`);}ja(a=300,b=300){var c=window.devicePixelRatio;const d=Math.round(a*c);c=Math.round(b*c);this.canvas.style.width=a+"px";this.canvas.style.height=b+"px";this.canvas.width=d;this.canvas.height=c}};g=Ua.prototype;g.background=function(a,b,c,d){this.i.clearColor(a,b,c,d);this.i.clear(this.i.COLOR_BUFFER_BIT|this.i.DEPTH_BUFFER_BIT);return this};function Va(a,b,c=a.i.ARRAY_BUFFER,d=a.i.STATIC_DRAW){var e=a.i.createBuffer();a.i.bindBuffer(c,e);a.i.bufferData(c,new Float32Array(b),d)}
function Wa(a,b,c=3,d=0,e=a.i.TRIANGLES){let f=a.i,k=a.s;a.M=a.Ia.clone();a.M.multiply(a.Ka).multiply(a.ia);f.uniformMatrix4fv(k.o.M,!1,a.M.g);f.uniform4fv(k.o.ya,a.aa.fillColor);let l=[];if(0==b.length%c)if(2==b.length/c)for(let m=0;m<b.length;m+=2)l.push(b[m],b[m+1],0);else l=b;else throw Error("excess component in points");Va(a,l);f.enableVertexAttribArray(k.attributes.oa);f.vertexAttribPointer(k.attributes.oa,3,f.FLOAT,!1,0,0);f.drawArrays(e,d,c)}
g.translate=function(a,b=0,c=0){this.ia.translate(a,b,c);return this};g.scale=function(a,b=a,c=1){this.ia.scale(a,b,c);return this};g.fill=function(...a){a=I(a).da;this.aa.fillColor=[a[0]/255,a[1]/255,a[2]/255,a[3]]};g.fillRect=function(){let a,b,c,d;var e=0;a=arguments[e++];b=arguments[e++];4==arguments.length?c=0:c=arguments[e++];d=arguments[e++];e=arguments[e++];Wa(this,[a,b,c,a+d,b,c,a+d,b+e,c,a+d,b+e,c,a,b+e,c,a,b,c],6)};g.lineWidth=function(a){this.aa.lineWidth=a};
g.stroke=function(...a){a=I(a).Jd;this.aa.strokeColor=[a[0]/255,a[1]/255,a[2]/255,a[3]]};let Xa=[],Ya=Math.ceil(window.devicePixelRatio),S=[400,400],P=[1.8,1.8],Za=[S[0],S[1]],$a=document.querySelector("#shift"),ab=document.querySelector("#smoothen"),bb=document.querySelector("#shift-out"),cb=document.querySelector("#re"),db=document.querySelector("#im");for(let a=-S[0]/2*Ya;a<S[0]/2*Ya;a++)for(let b=-S[1]/2*Ya;b<S[1]/2*Ya;b++)Xa.push(a/Za[0]*P[0],b/Za[1]*P[1]);var T=!1,U=[-1.61,0],eb=null,V=null,W=null,fb=0,gb=0,hb=!1;
window.onload=()=>H(()=>{var a=H.h;var b=A({Aa:!1,u:Math.ceil(window.devicePixelRatio),width:a.canvas.width,height:a.canvas.height},b);var c=a.sa,d=H.ta(b);b.Aa?c.removeChild(a.canvas):(c.style.position="relative",d.style.position="absolute",d.style.top="0",d.style.left="0");for(var e in a.canvas.K)d.addEventListener(e,a.canvas.K[e]);c.append(d);b=new Ua(d);a=b.i;eb=b;V=a;W=Ra(b,{H:document.getElementById("vertex"),G:document.getElementById("fragment"),attributes:{position:"position"},o:{c:"c",shift:"shift",
N:"smoothen",j:"range"}});c=H.h;c.translate(c.width/2,c.height/2);za();c=I([0]).$;d=H.h;d.background=c;d.save();e=H.h;e.setTransform(e.u,0,0,e.u,0,0);d.fillStyle=c;d.fillRect(0,0,d.width,d.height);d.restore();Pa();var f;"string"!=typeof f&&(f=H.h.canvas.toDataURL("image/png"));c=H.h.canvas.style;c.background="url('"+f+"')";c.backgroundPosition="center";c.backgroundSize="cover";ya(18);za();L(-S[0]/2,-S[1]/2);b.useProgram(W);Va(b,Xa);Ta(b,W.attributes.position,2);a.uniform1f(W.o.shift,gb);a.uniform1f(W.o.N,
hb);a.uniform2fv(W.o.j,P);U[0]=Number(window.localStorage.getItem("julia-set-re"))||U[0];U[1]=Number(window.localStorage.getItem("julia-set-im"))||U[1];Z(U[0],U[0],!0)},".container",{width:S[0],height:S[1],name:"julia-set",K:{hd:function(){T=!0},kd:function(){T=!1},jd:ib,click:ib}});window.onkeydown=function(a){"Control"==a.key&&(T=!0)};window.onkeyup=function(){T=!1};
function Z(a=U[0],b=U[1],c=!1,d=!0){if((a!=U[0]&&b!=U[1]||c)&&50<Date.now()-fb){U[0]=a;U[1]=b;window.localStorage.setItem("julia-set-re",a);window.localStorage.setItem("julia-set-im",b);d&&(cb.value=a.toFixed(2),db.value=b.toFixed(2));eb.background(0,0,0,0);V.uniform2f(W.o.c,a,b);V.drawArrays(V.POINTS,0,Xa.length);fb=Date.now();c=H.h;d=c.u;c.save();c.setTransform(d,0,0,d,0,0);c.clearRect(0,0,c.width,c.height);c.restore();let e=(a+P[0])*S[0]/(2*P[0]),f=(-b+P[1])*S[1]/(2*P[1]);c=e;d=f;let k=H.h;k.beginPath();
k.arc(c,d,5,0,2*Math.PI);k.fill();k.beginPath();Aa(a.toFixed(2)+(0>b?"":"+")+b.toFixed(2)+"i",e+10,f)}}function ib(a){(T||"click"==a.type)&&Z(a.layerX/(S[0]/(2*P[0]))-P[0],-(a.layerY/(S[1]/(2*P[1]))-P[1]))}$a.addEventListener("input",function(){gb=Number($a.value);bb.innerHTML=gb+"\u00b0";V.uniform1f(W.o.shift,gb/360);Z(U[0],U[1],!0)});cb.addEventListener("input",function(){U[0]=Number(cb.value);Z(U[0],U[1],!0,!1)});db.addEventListener("input",function(){U[1]=Number(db.value);Z(U[0],U[1],!0,!1)});
ab.addEventListener("input",function(){hb=Number(ab.checked);V.uniform1f(W.o.N,hb);Z(U[0],U[1],!0)});}).call(this);
