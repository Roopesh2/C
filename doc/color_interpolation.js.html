<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: color/interpolation.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: color/interpolation.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** @module Color lear */
import { readColor } from "./color_reader.js";

/**
 * gives an interpolated color.
 *
 * @param {string} color1 color
 * @param {string} color2 color
 * @param {number} v should be between 0 and 1. This function may not work for values outside 0 &amp; 1.
 */
export function lerpColor(color1, color2, v) {
	const c1 = readColor(color1).rgbaA;
	const c2 = readColor(color2).rgbaA;
	return readColor(
		Math.min(Math.max(0, (c2[0] - c1[0]) * v + c1[0]), 255),
		Math.min(Math.max(0, (c2[1] - c1[1]) * v + c1[1]), 255),
		Math.min(Math.max(0, (c2[2] - c1[2]) * v + c1[2]), 255),
		Math.min(Math.max(0, (c2[3] - c1[3]) * v + c1[3]), 255),
	).hex8;
}

/**
 * Lerps across a color Object
 *
 * @param {Object} colorObj
 * @param {number} v
 * @return {string}
 */
export function lerpColorObject(colorObj, v) {
	const stopes = Object.keys(colorObj || {}).sort();
	const min = Math.min(...stopes);
	const max = Math.max(...stopes);
	let color = "#000000";
	if (v >= max) return colorObj[max];
	if (v &lt;= min) return colorObj[min];
	for (let i = 0; i &lt; stopes.length - 1; i++) {
		let a = stopes[i];
		if (v > a) {
			color = lerpColor(
				colorObj[a],
				colorObj[stopes[i + 1]],
				(v - a) / (stopes[i + 1] - a),
			);
			break;
		} else if (v == a) {
			color = colorObj[a];
			break;
		}
	}
	return color;
}

/**
 * Lerps across a color Array
 * From &lt;https://github.com/yuki-koyama/tinycolormap/blob/fe597277c782c583eb40362de98a08df62efc628/include/tinycolormap.hpp#L159>
 * @param {Array&lt;string>} colorArr array that contains color as string
 * @param {number} v value to interpolate
 * @param {number} [min = 0] minimum value of the range
 * @param {number} [max = 1] maximum value of the range
 * @return {string} lerped color
 */
export function lerpColorArray(colorArr, v, min = 0, max = 1) {
	let len = colorArr.length - 1;
	if (v >= max) return colorArr[len];
	if (v &lt;= min) return colorArr[0];

	// map to [0, 1]
	v = (v - min) / (max - min);
	let a = v * len, // between 0 and len
		b = Math.floor(a);
	return lerpColor(colorArr[b], colorArr[b + 1], a - b);
}

/**
 *
 * @param {Array&lt;string>} colorPalatte Array of color palettes
 * @param {number} [min=0] minimum of range
 * @param {number} [max=5] maximum of range
 * @param {number} [alpha=1] value of alpha channel. This value must be between 0 &amp; 1
 * @returns {Object} color object
 */
export function getInterpolatedColorList(colorPalatte, min = 0, max = 5, alpha) {
	if (colorPalatte.length &lt; 2)
		throw new Error("Atleast 2 colors are needed to create interpolatable object");
	let step = (max - min) / (colorPalatte.length - 1),
		colorObj = {};

	for (let i = 0; i &lt; colorPalatte.length; i++) {
		let value = min + i * step,
			color = readColor(colorPalatte[i]).rgbaA;
		color[3] = isNaN(alpha) ? color[3] : alpha;
		colorObj[value] = color;
	}

	return colorObj;
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-Arithmetic%2520functions.html">Arithmetic functions</a></li><li><a href="module-Arrows.html">Arrows</a></li><li><a href="module-Braces.html">Braces</a></li><li><a href="module-Color%2520Converters.html">Color Converters</a></li><li><a href="module-Color%2520gradient.html">Color gradient</a></li><li><a href="module-Color%2520lear.html">Color lear</a></li><li><a href="module-Color%2520Palettes.html">Color Palettes</a></li><li><a href="module-Color%2520Reader.html">Color Reader</a></li><li><a href="module-Colors.html">Colors</a></li><li><a href="module-Coordinate%2520systems.html">Coordinate systems</a></li><li><a href="module-Extra%2520shapes.html">Extra shapes</a></li><li><a href="module-Geometric%2520shapes.html">Geometric shapes</a></li><li><a href="module-Image.html">Image</a></li><li><a href="module-Image%2520Processing.html">Image Processing</a></li><li><a href="module-Plottter%2520Functions.html">Plottter Functions</a></li><li><a href="module-Point%2520Utils.html">Point Utils</a></li><li><a href="module-Random%2520Colors.html">Random Colors</a></li><li><a href="module-Random%2520functions.html">Random functions</a></li><li><a href="module-Settings.html">Settings</a></li><li><a href="module-Tex.html">Tex</a></li><li><a href="module-text.html">text</a></li><li><a href="module-Utils.html">Utils</a></li></ul><h3>Classes</h3><ul><li><a href="m4_m4.html">m4</a></li><li><a href="WebGL.html">WebGL</a></li></ul><h3>Global</h3><ul><li><a href="global.html#C">C</a></li><li><a href="global.html#createWebGL">createWebGL</a></li><li><a href="global.html#fontStretch">fontStretch</a></li><li><a href="global.html#generatePointsInArc">generatePointsInArc</a></li><li><a href="global.html#quadraticCurve">quadraticCurve</a></li><li><a href="global.html#readMatrix">readMatrix</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Wed Aug 09 2023 08:09:24 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
