/*C-2.0.0 - 2023-08-09 
* License: MIT */
!function r(o,i,a){function s(e,t){if(!i[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=i[e]={exports:{}},o[e][0].call(n.exports,function(t){return s(o[e][1][t]||t)},n,n.exports,r,o,i,a)}return i[e].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){"use strict";function a(t){let e;return e=Array.isArray(t[0])&&16==t[0].length?t[0]:16==t.length?t:t[0]instanceof x?t[0].mat:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],new Float32Array(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.m4=void 0;const y=1e-6;class x{constructor(t){return this.mat=a(arguments),this}multiply(t){var e=a(arguments),n=this.mat[0],r=this.mat[1],o=this.mat[2],i=this.mat[3];return this.mat[0]=n*e[0]+r*e[4]+o*e[8]+i*e[12],this.mat[1]=n*e[1]+r*e[5]+o*e[9]+i*e[13],this.mat[2]=n*e[2]+r*e[6]+o*e[10]+i*e[14],this.mat[3]=n*e[3]+r*e[7]+o*e[11]+i*e[15],n=this.mat[4],r=this.mat[5],o=this.mat[6],i=this.mat[7],this.mat[4]=n*e[0]+r*e[4]+o*e[8]+i*e[12],this.mat[5]=n*e[1]+r*e[5]+o*e[9]+i*e[13],this.mat[6]=n*e[2]+r*e[6]+o*e[10]+i*e[14],this.mat[7]=n*e[3]+r*e[7]+o*e[11]+i*e[15],n=this.mat[8],r=this.mat[9],o=this.mat[10],i=this.mat[11],this.mat[8]=n*e[0]+r*e[4]+o*e[8]+i*e[12],this.mat[9]=n*e[1]+r*e[5]+o*e[9]+i*e[13],this.mat[10]=n*e[2]+r*e[6]+o*e[10]+i*e[14],this.mat[11]=n*e[3]+r*e[7]+o*e[11]+i*e[15],n=this.mat[12],r=this.mat[13],o=this.mat[14],i=this.mat[15],this.mat[12]=n*e[0]+r*e[4]+o*e[8]+i*e[12],this.mat[13]=n*e[1]+r*e[5]+o*e[9]+i*e[13],this.mat[14]=n*e[2]+r*e[6]+o*e[10]+i*e[14],this.mat[15]=n*e[3]+r*e[7]+o*e[11]+i*e[15],this}rotate(t,e,n,r){e instanceof Array&&(n=e[1],r=e[2],e=e[0]);var o=Math.sqrt(e*e+n*n+r*r),o=(e*=1/o,n*=1/o,r*=1/o,this.mat[0]),i=this.mat[1],a=this.mat[2],s=this.mat[3],l=this.mat[4],c=this.mat[5],f=this.mat[6],u=this.mat[7],d=this.mat[8],h=this.mat[9],g=this.mat[10],m=this.mat[11],p=Math.sin(t),t=Math.cos(t),b=1-t,v=e*e*b+t,y=n*e*b+r*p,x=r*e*b-n*p,C=e*n*b-r*p,w=n*n*b+t,k=r*n*b+e*p,P=e*r*b+n*p,n=n*r*b-e*p,e=r*r*b+t;return this.mat[0]=o*v+l*y+d*x,this.mat[1]=i*v+c*y+h*x,this.mat[2]=a*v+f*y+g*x,this.mat[3]=s*v+u*y+m*x,this.mat[4]=o*C+l*w+d*k,this.mat[5]=i*C+c*w+h*k,this.mat[6]=a*C+f*w+g*k,this.mat[7]=s*C+u*w+m*k,this.mat[8]=o*P+l*n+d*e,this.mat[9]=i*P+c*n+h*e,this.mat[10]=a*P+f*n+g*e,this.mat[11]=s*P+u*n+m*e,this}scale(t,e,n){return t instanceof Array&&(e=t[1],n=t[2],t=t[0]),this.mat[0]*=t,this.mat[1]*=t,this.mat[2]*=t,this.mat[3]*=t,this.mat[4]*=e,this.mat[5]*=e,this.mat[6]*=e,this.mat[7]*=e,this.mat[8]*=n,this.mat[9]*=n,this.mat[10]*=n,this.mat[11]*=n,this}rotateX(t){return this.rotate(t,1,0,0),this}rotateY(t){return this.rotate(t,0,1,0),this}rotateZ(t){return this.rotate(t,0,0,1),this}translate(t,e,n=0){return this.mat[12]+=this.mat[0]*t+this.mat[4]*e+this.mat[8]*n,this.mat[13]+=this.mat[1]*t+this.mat[5]*e+this.mat[9]*n,this.mat[14]+=this.mat[2]*t+this.mat[6]*e+this.mat[10]*n,this.mat[15]+=this.mat[3]*t+this.mat[7]*e+this.mat[11]*n,this}clone(){var e=[];for(let t=0;t<this.mat.length;t++)e.push(this.mat[t]);return new x(e)}static lookAt(t,e,n){let r,o,i,a,s,l,c,f,u,d;var h=t[0],g=t[1],t=t[2],m=n[0],p=n[1],n=n[2],b=e[0],v=e[1],e=e[2];if(Math.abs(h-b)<y&&Math.abs(g-v)<y&&Math.abs(t-e)<y)return x.identity();c=h-b,f=g-v,u=t-e,c*=d=1/Math.hypot(c,f,u),f*=d,u*=d,r=p*u-n*f,o=n*c-m*u,i=m*f-p*c,(d=Math.hypot(r,o,i))?(d=1/d,r*=d,o*=d,i*=d):(r=0,o=0,i=0),a=f*i-u*o,s=u*r-c*i,l=c*o-f*r,(d=Math.hypot(a,s,l))?(d=1/d,a*=d,s*=d,l*=d):(a=0,s=0,l=0);b=new Float32Array(16);return b[0]=r,b[1]=a,b[2]=c,b[3]=0,b[4]=o,b[5]=s,b[6]=f,b[7]=0,b[8]=i,b[9]=l,b[10]=u,b[11]=0,b[12]=-(r*h+o*g+i*t),b[13]=-(a*h+s*g+l*t),b[14]=-(c*h+f*g+u*t),b[15]=1,new x(b)}static identity(){return new x(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}static perspective(t,e,n,r,o){var e=1/Math.tan(e/2),i=t.mat;return i[0]=e/n,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=e,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=-1,i[12]=0,i[13]=0,i[15]=0,null!=o&&o!==1/0?(i[10]=(o+r)*(n=1/(r-o)),i[14]=2*o*r*n):(i[10]=-1,i[14]=-2*r),t}}n.m4=x},{}],2:[function(t,e,n){"use strict";var r=t("../color/color_reader.js"),l=t("./m4.js"),t=t("./webgl.js");function c(e,t){let n=[],r=!1;if(e.length%t!=0)throw Error("excess component in points");if(e.length/t==2){r=!0;for(let t=0;t<e.length;t+=2)n.push(e[t],e[t+1],0)}else n=e;return[n,r]}t.WebGL.prototype.background=function(t,e,n,r){return this.gl.clearColor(t,e,n,r),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this},t.WebGL.prototype.clear=function(){return this.background(0,0,0,0),this},t.WebGL.prototype.putBufferData=function(t,e=this.gl.ARRAY_BUFFER,n=this.gl.STATIC_DRAW){var r=this.gl.createBuffer();return this.gl.bindBuffer(e,r),this.gl.bufferData(e,new Float32Array(t),n),r},t.WebGL.prototype.setGeometry=function(t,e=3,n=0,r=this.gl.TRIANGLES,o=this.gl.ARRAY_BUFFER,i=this.gl.STATIC_DRAW){var a=this.gl,s=this.program;return this.computeMatrix(),a.uniformMatrix4fv(s.uniforms.matrix,!1,this.matrix.mat),a.uniform4fv(s.uniforms.vertexColor,this.styles.fillColor),this.putBufferData(c(t,e)[0]),a.enableVertexAttribArray(s.attributes.vertexPosition),a.vertexAttribPointer(s.attributes.vertexPosition,3,a.FLOAT,!1,0,0),a.drawArrays(r,n,e),this},t.WebGL.prototype.computeMatrix=function(){this.matrix=this.projectionMatrix.clone(),this.matrix.multiply(this.viewMatrix).multiply(this.worldMatrix)},t.WebGL.prototype.line=function(){var t,e,n,r,o,[i,a]=c(arguments,2),s=this.styles.fillColor;return this.styles.fillColor=this.styles.strokeColor,1==this.styles.lineWidth?this.setGeometry(i,2,0,this.gl.LINES):a&&(a=i[0],t=i[1],e=i[3],i=i[4],o=Math.atan2(i-t,e-a)+Math.PI/2,n=this.styles.lineWidth/2,r=Math.cos(o)*n,o=Math.sin(o)*n,this.setGeometry([a-r,t-o,0,a+r,t+o,0,e+r,i+o,0,e+r,i+o,0,e-r,i-o,0,a-r,t-o,0],6)),this.styles.fillColor=s,this},t.WebGL.prototype.rotateX=function(t){return this.worldMatrix.rotateX(t),this},t.WebGL.prototype.rotateY=function(t){return this.worldMatrix.rotateY(t),this},t.WebGL.prototype.rotateZ=function(t){return this.worldMatrix.rotateZ(t),this},t.WebGL.prototype.translate=function(t,e=0,n=0){return this.worldMatrix.translate(t,e,n),this},t.WebGL.prototype.scale=function(t,e=t,n=1){return this.worldMatrix.scale(t,e,n),this},t.WebGL.prototype.fill=function(...t){t=(0,r.readColor)(t).rgbaA;this.styles.fillColor=[t[0]/255,t[1]/255,t[2]/255,t[3]]},t.WebGL.prototype.fillRect=function(){let t,e,n,r,o,i=0;t=arguments[i++],e=arguments[i++],n=4==arguments.length?0:arguments[i++],r=arguments[i++],o=arguments[i++],this.setGeometry([t,e,n,t+r,e,n,t+r,e+o,n,t+r,e+o,n,t,e+o,n,t,e,n],6)},t.WebGL.prototype.triangle=function(...t){this.setGeometry(t,3)},t.WebGL.prototype.lineWidth=function(t){this.styles.lineWidth=t},t.WebGL.prototype.stroke=function(...t){t=(0,r.readColor)(t).rgbaA;this.styles.strokeColor=[t[0]/255,t[1]/255,t[2]/255,t[3]]},t.WebGL.prototype.cube=function(t=200){for(var e=this.gl,n=(this.putBufferData([-1*t,-1*t,+t,+t,-1*t,+t,+t,+t,+t,-1*t,+t,+t,-1*t,-1*t,-1*t,-1*t,+t,-1*t,+t,+t,-1*t,+t,-1*t,-1*t,-1*t,+t,-1*t,-1*t,+t,+t,+t,+t,+t,+t,+t,-1*t,-1*t,-1*t,-1*t,+t,-1*t,-1*t,+t,-1*t,+t,-1*t,-1*t,+t,+t,-1*t,-1*t,+t,+t,-1*t,+t,+t,+t,+t,-1*t,+t,-1*t,-1*t,-1*t,-1*t,-1*t,+t,-1*t,+t,+t,-1*t,+t,-1*t]),[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]]),r=[],o=0;o<n.length;++o)var i=n[o],r=r.concat(i,i,i,i);this.putBufferData(r);var t=this.putBufferData([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],e.ELEMENT_ARRAY_BUFFER),a=(e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),45*Math.PI/180),s=e.canvas.clientWidth/e.canvas.clientHeight,a=(l.m4.perspective(this.projectionMatrix,a,s,.1,100),this.worldMatrix.translate(-0,0,-6),this.worldMatrix.rotateZ(0),this.worldMatrix.rotateX(0),e.vertexAttribPointer(this.program.attributes.vertexPosition,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(this.program.attributes.vertexPosition),e.vertexAttribPointer(this.program.uniforms.vertexColor,4,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.useProgram("multiColor"),this.computeMatrix(),e.uniformMatrix4fv(this.program.uniforms.matrix,!1,this.matrix.mat),e.UNSIGNED_SHORT);e.drawElements(e.TRIANGLES,36,a,0)},t.WebGL.prototype.lookAt=function(t,e=[0,0,0],n=[0,1,0]){this.viewMatrix=l.m4.lookAt(t,e,n)},t.WebGL.prototype.perspective=function(t,e,n,r){l.m4.perspective(this.projectionMatrix,t,e,n,r)}},{"../color/color_reader.js":6,"./m4.js":1,"./webgl.js":3}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WebGL=void 0,n.createWebGL=function(t){var e=i.C.workingContext;var n=i.C.workingCanvas;t=(0,a.applyDefault)({deleteOld:!1,dpr:Math.ceil(window.devicePixelRatio),width:n.rWidth,height:n.rHeight},t);var n=e.canvas.parentElement,r=i.C.makeCanvas(t);t.deleteOld?n.removeChild(e.canvas):(n.style.position="relative",r.style.position="absolute",r.style.top="0",r.style.left="0");for(var o in e.canvas.events)r.addEventListener(o,e.canvas.events[o]);return n.appendChild(r),new s(r)};var i=t("../main.js"),a=t("../utils.js"),r=t("./m4.js");class s{constructor(t){let e=t.getContext("webgl");if(!(e=e||t.getContext("experimental-webgl")))throw new Error("WebGL is not supported");for(var n in e.viewport(0,0,t.width,t.height),this.gl=e,this.canvas=t,this.width=t.rWidth,this.height=t.rHeight,this.dpr=t.dpr||Math.ceil(window.devicePixelRatio),this.canvas=t,this.sources={singleColor:{vertex:`attribute vec3 a_position;
					uniform vec2 u_resolution;
					uniform mat4 u_matrix;

					void main() {
						gl_Position = u_matrix * vec4(a_position, 1) / vec4(u_resolution, 1, 1);
					}`,fragment:`precision mediump float;
					uniform vec4 u_color;
					void main() {
						gl_FragColor = u_color;
					}`,uniforms:{resolution:"u_resolution",matrix:"u_matrix",vertexColor:"u_color"},attributes:{vertexPosition:"a_position"},program:null},multiColor:{vertex:`attribute vec3 a_position;
					attribute vec4 aVertexColor;
					uniform vec2 u_resolution;
					uniform mat4 u_matrix;
					varying lowp vec4 vColor;
					void main() {
						gl_Position = u_matrix * vec4(a_position, 1);
						// / vec4(u_resolution, 1, 1);
						vColor = aVertexColor;
					}`,fragment:`precision mediump float;
					varying lowp vec4 vColor;
					void main(void) {
						gl_FragColor = vColor;
					}`,uniforms:{resolution:"u_resolution",matrix:"u_matrix"},attributes:{vertexPosition:"a_position",vertexColor:"aVertexColor"},program:null}},this.sources)this.sources[n]=this.createCustomProgram(this.sources[n]);this.program=this.sources.singleColor,e.useProgram(this.program.program),this.projectionMatrix=new r.m4,this.worldMatrix=new r.m4,this.viewMatrix=new r.m4,this.matrix=new r.m4,e.uniform2f(this.program.uniforms.resolution,t.width/2/this.dpr,t.height/2/this.dpr),this.styles={fillColor:[1,0,1,1],strokeColor:[1,1,0,1],lineWidth:1}}useProgram(t){if(this.sources[t])this.program=this.sources[t],this.gl.useProgram(this.program.program),this.gl.uniform2f(this.program.uniforms.resolution,this.canvas.width/2/this.dpr,this.canvas.height/2/this.dpr);else{if(!t.program)throw new Error(t+" not fouund");this.program=t,this.gl.useProgram(t.program)}}createShader(t,e){t=this.gl.createShader(t);return this.gl.shaderSource(t,e),this.gl.compileShader(t),this.gl.getShaderParameter(t,this.gl.COMPILE_STATUS)?t:(console.error(this.gl.getShaderInfoLog(t)),this.gl.deleteShader(t),null)}createProgram(t,e){var n=this.gl.createProgram();return this.gl.attachShader(n,t),this.gl.attachShader(n,e),this.gl.linkProgram(n),this.gl.getProgramParameter(n,this.gl.LINK_STATUS)?n:(console.error(this.gl.getProgramInfoLog(n)),this.gl.deleteProgram(n),null)}createProgramFromSource(t,e){t=this.createShader(this.gl.VERTEX_SHADER,t),e=this.createShader(this.gl.FRAGMENT_SHADER,e);return this.createProgram(t,e)}resizeCanvas(t=300,e=300){var n=window.devicePixelRatio,r=Math.round(t*n),n=Math.round(e*n);this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.canvas.width=r,this.canvas.height=n}putProperties(){var t=this.gl,e=t.FLOAT,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bindBuffer(t.ARRAY_BUFFER,n),t.vertexAttribPointer(this.program.attributes.vertexPosition,3,e,!1,0,0),t.enableVertexAttribArray(this.program.attributes.vertexPosition),e=t.FLOAT,t.bindBuffer(t.ARRAY_BUFFER,this.program.uniforms.vertexColor),t.vertexAttribPointer(this.program.uniforms.vertexColor,4,e,!1,0,0)}createCustomProgram(t){var e,n,r,o=this.gl,i={},a={};for(n in t.vertex instanceof HTMLScriptElement&&(t.vertex=t.vertex.textContent.trim()),t.fragment instanceof HTMLScriptElement&&(t.fragment=t.fragment.textContent.trim()),e=this.createProgramFromSource(t.vertex,t.fragment),t.attributes){var s=t.attributes[n];a[n]=o.getAttribLocation(e,s)}for(r in t.uniforms){var l=t.uniforms[r];i[r]=o.getUniformLocation(e,l)}return{program:e,uniforms:i,attributes:a,vertex:t.vertex,fragment:t.fragment}}attribUsage(t,e=3,n=this.gl.FLOAT,r=!1,o=0,i=0){this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,e,n,r,o,i)}}n.WebGL=s},{"../main.js":17,"../utils.js":32,"./m4.js":1}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={defineProperties:!0,C:!0},o=(Object.defineProperty(n,"C",{enumerable:!0,get:function(){return a.C}}),Object.defineProperty(n,"defineProperties",{enumerable:!0,get:function(){return o.defineProperties}}),t("./utils.js")),i=t("./settings.js"),a=(Object.keys(i).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===i[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})}),t("./main.js")),s=t("./constants/color_palettes.js"),l=(Object.keys(s).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===s[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return s[t]}})}),t("./constants/drawing.js")),c=(Object.keys(l).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===l[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return l[t]}})}),t("./constants/math.js")),f=(Object.keys(c).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===c[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return c[t]}})}),t("./color/color_converters.js")),u=(Object.keys(f).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===f[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return f[t]}})}),t("./color/color_reader.js")),d=(Object.keys(u).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===u[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return u[t]}})}),t("./color/gradients.js")),h=(Object.keys(d).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===d[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return d[t]}})}),t("./color/interpolation.js")),g=(Object.keys(h).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===h[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return h[t]}})}),t("./color/random.js")),m=(Object.keys(g).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===g[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return g[t]}})}),t("./image/image.js")),p=(Object.keys(m).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===m[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return m[t]}})}),t("./image/processing.js")),b=(Object.keys(p).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===p[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return p[t]}})}),t("./objects/arrows.js")),v=(Object.keys(b).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===b[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return b[t]}})}),t("./objects/braces.js")),y=(Object.keys(v).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===v[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return v[t]}})}),t("./objects/coordinate_systems.js")),x=(Object.keys(y).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===y[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return y[t]}})}),t("./objects/functions.js")),C=(Object.keys(x).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===x[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return x[t]}})}),t("./objects/geometry.js")),w=(Object.keys(C).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===C[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return C[t]}})}),t("./objects/more_shapes.js")),k=(Object.keys(w).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===w[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return w[t]}})}),t("./objects/tex.js")),P=(Object.keys(k).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===k[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return k[t]}})}),t("./objects/text.js")),j=(Object.keys(P).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===P[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return P[t]}})}),t("./math/aritmetics.js")),M=(Object.keys(j).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===j[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return j[t]}})}),t("./math/functions.js")),A=(Object.keys(M).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===M[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return M[t]}})}),t("./math/points.js")),O=(Object.keys(A).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===A[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return A[t]}})}),t("./math/random.js")),S=(Object.keys(O).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===O[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return O[t]}})}),t("./math/rate_functions.js")),T=(Object.keys(S).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===S[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return S[t]}})}),t("./WebGL/settings.js")),_=(Object.keys(T).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===T[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return T[t]}})}),t("./WebGL/webgl.js"));Object.keys(_).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(r,t)||t in n&&n[t]===_[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return _[t]}})})},{"./WebGL/settings.js":2,"./WebGL/webgl.js":3,"./color/color_converters.js":5,"./color/color_reader.js":6,"./color/gradients.js":7,"./color/interpolation.js":8,"./color/random.js":9,"./constants/color_palettes.js":10,"./constants/drawing.js":12,"./constants/math.js":13,"./image/image.js":15,"./image/processing.js":16,"./main.js":17,"./math/aritmetics.js":18,"./math/functions.js":19,"./math/points.js":20,"./math/random.js":21,"./math/rate_functions.js":22,"./objects/arrows.js":23,"./objects/braces.js":24,"./objects/coordinate_systems.js":25,"./objects/functions.js":26,"./objects/geometry.js":27,"./objects/more_shapes.js":28,"./objects/tex.js":29,"./objects/text.js":30,"./settings.js":31,"./utils.js":32}],5:[function(t,e,n){"use strict";function a(t,e,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}Object.defineProperty(n,"__esModule",{value:!0}),n.HSLToRGB=function(t,e,n){let r,o,i;t/=360,0===e?r=o=i=n:(e=2*n-(n=n<.5?n*(1+e):n+e-n*e),r=a(e,n,t+1/3),o=a(e,n,t),i=a(e,n,t-1/3));return[r,o,i]},n.HSVToRGB=function(t,e,n){let r,o,i,a=Math.floor(t/60),s=t/60-a,l=n*(1-e),c=n*(1-s*e),f=n*(1-(1-s)*e);0==(a%=6)?(r=n,o=f,i=l):1==a?(r=c,o=n,i=l):2==a?(r=l,o=n,i=f):3==a?(r=l,o=c,i=n):4==a?(r=f,o=l,i=n):5==a&&(r=n,o=l,i=c);return[r,o,i]},n.RGBToHSL=function(t,e,n){let r=Math.max(t,e,n),o=Math.min(t,e,n),i,a,s=(r+o)/2;{var l;r===o?i=a=0:(l=r-o,a=.5<s?l/(2-r-o):l/(r+o),r==t?i=(e-n)/l+(e<n?6:0):r==e?i=(n-t)/l+2:r==n&&(i=(t-e)/l+4),i/=6)}return[i,a,s]},n.RGBToHSV=function(t,e,n){let r=Math.max(t,e,n),o=Math.min(t,e,n),i,a=r,s=r-o,l=0===r?0:s/r;r===o?i=0:(r==t?i=(e-n)/s+(e<n?6:0):r==e?i=(n-t)/s+2:r==n&&(i=(t-e)/s+4),i/=6);return[i,l,a]},n.hue2RGB=a},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.readColor=function(...t){let e;Array.isArray(t[0])&&(t=t[0]);var n=t[0];if("number"==typeof n)1===t.length?e=[n,n,n,1]:2===t.length?e=[n,t[1],0,1]:3===t.length?e=[n,t[1],t[2],1]:4===t.length&&(e=[n,t[1],t[2],t[3]]);else{if("string"!=typeof n)return{rgbaA:e=n,rgba:e,hex6:e,hex8:e,hex:e,hsl:e};t=n.replace(/\s/g,"").toLowerCase();if(s.Colors[t])e=s.Colors[t],e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16),1];else if(l.test(t))(e=l.exec(t).slice(1).map(t=>parseInt(t+t,16)))[3]=1;else if(f.test(t))(e=f.exec(t).slice(1).map(t=>parseInt(t,16)))[3]=1;else if(c.test(t))(e=c.exec(t).slice(1).map(t=>parseInt(t+t,16)))[3]/=255;else if(u.test(t))(e=u.exec(t).slice(1).map(t=>parseInt(t,16)))[3]/=255;else if(d.test(t))(e=d.exec(t).slice(1).map(t=>parseInt(t,10)))[3]=1;else{if(!h.test(t))throw new Error("Cannot convert given value to color: "+t);e=h.exec(t).slice(1).map((t,e)=>3==e?parseFloat(t):parseInt(t,10))}}let r=e[3],o=(e[3]*=255,"#"),i=e,a=(i.map((t,e)=>{e<3&&(e=Math.round(t).toString(16),o+=1==e.length?"0"+e:e)}),"#");return(i=e).map((t,e)=>{e<4&&(e=Math.round(t).toString(16),a+=1==e.length?"0"+e:e)}),e[3]=r,{rgbaA:e,rgba:`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`,hex6:o,hex8:a,hex:a,hsl:`hsl(${e[0]}, ${e[1]}, ${e[2]})`}};var s=t("../constants/colors.js");let l=/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,c=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,f=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,u=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,d=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,h=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(?:(\d+(?:\.\d+)?)|(?:\.\d+))\)$/i},{"../constants/colors.js":11}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.linearGradient=function(t,e,n){var r=l.C.workingContext,o=r.createLinearGradient(t[0],t[1],e[0],e[1]);if("Array"==(0,c.type)(n)){var i={},a=1/n.length;for(let t=0;t<n.length;t++)i[a*t]=n[t];n=i}else if("Object"!=(0,c.type)(n))throw new Error("Color Stops must be an Array or an Object");for(let t=Object.keys(n||{}),e=0;e<t.length;e++){var s=Number(t[e]);o.addColorStop(s,n[s])}return o};var l=t("../main.js"),c=t("../utils.js")},{"../main.js":17,"../utils.js":32}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getInterpolatedColorList=function(e,n=0,t=5,r){if(e.length<2)throw new Error("Atleast 2 colors are needed to create interpolatable object");var o=(t-n)/(e.length-1),i={};for(let t=0;t<e.length;t++){var a=n+t*o,s=(0,l.readColor)(e[t]).rgbaA;s[3]=isNaN(r)?s[3]:r,i[a]=s}return i},n.lerpColor=s,n.lerpColorArray=function(t,e,n=0,r=1){var o=t.length-1;if(r<=e)return t[o];if(e<=n)return t[0];r=(e=(e-n)/(r-n))*o,n=Math.floor(r);return s(t[n],t[n+1],r-n)},n.lerpColorObject=function(e,n){var r=Object.keys(e||{}).sort(),t=Math.min(...r),o=Math.max(...r);let i="#000000";if(o<=n)return e[o];if(n<=t)return e[t];for(let t=0;t<r.length-1;t++){var a=r[t];if(a<n){i=s(e[a],e[r[t+1]],(n-a)/(r[t+1]-a));break}if(n==a){i=e[a];break}}return i};var l=t("./color_reader.js");function s(t,e,n){t=(0,l.readColor)(t).rgbaA,e=(0,l.readColor)(e).rgbaA;return(0,l.readColor)(Math.min(Math.max(0,(e[0]-t[0])*n+t[0]),255),Math.min(Math.max(0,(e[1]-t[1])*n+t[1]),255),Math.min(Math.max(0,(e[2]-t[2])*n+t[2]),255),Math.min(Math.max(0,(e[3]-t[3])*n+t[3]),255)).hex8}},{"./color_reader.js":6}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.randomColor=function(){let e="#";for(let t=0;t<3;t++){var n=(0,o.randomInt)(255).toString(16);n=1===n.length?0+n:n,e+=n}return e},n.randomDefinedColor=function(){return r.Colors[i[(0,o.randomInt)(i.length-1)]]};var r=t("../constants/colors.js"),o=t("../math/random.js");let i=Object.keys(r.Colors);n=i.indexOf("TRANSPARENT");i=i.slice(0,n).concat(i.slice(n+1))},{"../constants/colors.js":11,"../math/random.js":21}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ColorPalettes=void 0;var r,o={YlGn:"#ffffe5 #f7fcb9 #d9f0a3 #addd8e #78c679 #41ab5d #238443 #006837 #004529",GnBu:"#f7fcf0 #e0f3db #ccebc5 #a8ddb5 #7bccc4 #4eb3d3 #2b8cbe #0868ac #084081",BuGn:"#f7fcfd #e5f5f9 #ccece6 #99d8c9 #66c2a4 #41ae76 #238b45 #006d2c #00441b",PuBu:"#fff7fb #ece7f2 #d0d1e6 #a6bddb #74a9cf #3690c0 #0570b0 #045a8d #023858",BuPu:"#f7fcfd #e0ecf4 #bfd3e6 #9ebcda #8c96c6 #8c6bb1 #88419d #810f7c #4d004b",RdPu:"#fff7f3 #fde0dd #fcc5c0 #fa9fb5 #f768a1 #dd3497 #ae017e #7a0177 #49006a",PuRd:"#f7f4f9 #e7e1ef #d4b9da #c994c7 #df65b0 #e7298a #ce1256 #980043 #67001f",OrRd:"#fff7ec #fee8c8 #fdd49e #fdbb84 #fc8d59 #ef6548 #d7301f #b30000 #7f0000",Reds:"#fff5f0 #fee0d2 #fcbba1 #fc9272 #fb6a4a #ef3b2c #cb181d #a50f15 #67000d",Blues:"#f7fbff #deebf7 #c6dbef #9ecae1 #6baed6 #4292c6 #2171b5 #08519c #08306b",Greys:"#ffffff #f0f0f0 #d9d9d9 #bdbdbd #969696 #737373 #525252 #252525 #000000",YlGnBu:"#ffffd9 #edf8b1 #c7e9b4 #7fcdbb #41b6c4 #1d91c0 #225ea8 #253494 #081d58",PuBuGn:"#fff7fb #ece2f0 #d0d1e6 #a6bddb #67a9cf #3690c0 #02818a #016c59 #014636",YlOrRd:"#ffffcc #ffeda0 #fed976 #feb24c #fd8d3c #fc4e2a #e31a1c #bd0026 #800026",YlOrBr:"#ffffe5 #fff7bc #fee391 #fec44f #fe9929 #ec7014 #cc4c02 #993404 #662506",Greens:"#f7fcf5 #e5f5e0 #c7e9c0 #a1d99b #74c476 #41ab5d #238b45 #006d2c #00441b",Purples:"#fcfbfd #efedf5 #dadaeb #bcbddc #9e9ac8 #807dba #6a51a3 #54278f #3f007d",Oranges:"#fff5eb #fee6ce #fdd0a2 #fdae6b #fd8d3c #f16913 #d94801 #a63603 #7f2704",PuOr:"#7f3b08 #b35806 #e08214 #fdb863 #fee0b6 #f7f7f7 #d8daeb #b2abd2 #8073ac #542788 #2d004b",BrBG:"#543005 #8c510a #bf812d #dfc27d #f6e8c3 #f5f5f5 #c7eae5 #80cdc1 #35978f #01665e #003c30",PRGn:"#40004b #762a83 #9970ab #c2a5cf #e7d4e8 #f7f7f7 #d9f0d3 #a6dba0 #5aae61 #1b7837 #00441b",PiYG:"#8e0152 #c51b7d #de77ae #f1b6da #fde0ef #f7f7f7 #e6f5d0 #b8e186 #7fbc41 #4d9221 #276419",RdBu:"#67001f #b2182b #d6604d #f4a582 #fddbc7 #f7f7f7 #d1e5f0 #92c5de #4393c3 #2166ac #053061",RdGy:"#67001f #b2182b #d6604d #f4a582 #fddbc7 #ffffff #e0e0e0 #bababa #878787 #4d4d4d #1a1a1a",RdYlBu:"#a50026 #d73027 #f46d43 #fdae61 #fee090 #ffffbf #e0f3f8 #abd9e9 #74add1 #4575b4 #313695",RdYlGn:"#a50026 #d73027 #f46d43 #fdae61 #fee08b #ffffbf #d9ef8b #a6d96a #66bd63 #1a9850 #006837",Spectral:"#9e0142 #d53e4f #f46d43 #fdae61 #fee08b #ffffbf #e6f598 #abdda4 #66c2a5 #3288bd #5e4fa2",Heat:"#0000ff #00ffff #00ff00 #ffff00 #ff0000",Jet:"#000080 #0000ff #0080ff #00ffff #80ff80 #ffff00 #ff8000 #ff0000 #800000",Parula:"#352a87 #2450d0 #0a72de #128ad2 #06a4ca #1ab2b1 #51bd90 #92bf72 #c6bc5e #f6ba46 #f9d528 #f9fb0e",Magma:"#000004 #120d31 #331067 #5a167e #7e2482 #a3307e #c83e73 #e95462 #f97b5d #fea973 #fed395 #fcfdbf",Inferno:"#000004 #140b34 #390963 #61136e #85216b #a92e5e #cb4149 #e65d2f #f78212 #fcae12 #f5db4c #fcffa4",Plasma:"#0d0887 #3e049c #6300a7 #8707a6 #a62098 #c03a83 #d5546e #e76f5a #f58c46 #fdae32 #fcd225 #f0f921",Viridis:"#440154 #482173 #433e85 #38598c #2d708e #25858e #1e9b8a #2ab07f #50c46a #86d549 #c2df23 #fde725",Cividis:"#00204d #00306f #2a406c #48526b #5e626e #727374 #878479 #9e9677 #b6a971 #d0be67 #ead357 #ffea46",GitHub:"#eeeeee #c6e48b #7bc96f #239a3b #196127",Turbo:"#30123b #4454c3 #448ffe #1fc9dd #2aefa1 #7dff56 #c1f334 #f1cb3a #fe932a #ea4e0d #be2102 #7a0403",Grey:"#000000 #ffffff",Gray:"#000000 #ffffff"};for(r in o)o[r]=o[r].split(" ");n.ColorPalettes=o},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Colors=void 0;n.Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.X_SMALL=n.X_LARGE=n.XX_SMALL=n.XX_LARGE=n.XXX_LARGE=n.ULTRA_EXPANDED=n.ULTRA_CONDENSED=n.TOP=n.START=n.SQUARE=n.SMALLER=n.SMALL=n.SEMI_EXPANDED=n.SEMI_CONDENSED=n.ROUND=n.RIGHT=n.OBLIQUE=n.NORMAL=n.MITER=n.MILTER=n.MIDDLE=n.MEDIUM=n.LEFT=n.LARGER=n.LARGE=n.ITALIC=n.IDEOGRAPHIC=n.HANGING=n.EXTRA_EXPANDED=n.EXTRA_CONDENSED=n.EXPANDED=n.END=n.CONDENSED=n.CENTER=n.BUTT=n.BOTTOM=n.BEVEL=n.ALPHABETIC=void 0;n.OBLIQUE="oblique",n.ITALIC="italic",n.SMALLER="smaller",n.LARGER="larger",n.XXX_LARGE="xxx-large",n.XX_LARGE="xx-large",n.X_LARGE="x-large",n.LARGE="large",n.MEDIUM="medium",n.SMALL="small",n.X_SMALL="x-small",n.XX_SMALL="xx-small",n.ULTRA_EXPANDED="ultra-expanded",n.EXTRA_EXPANDED="extra-expanded",n.EXPANDED="expanded",n.SEMI_EXPANDED="semi-expanded",n.NORMAL="normal",n.SEMI_CONDENSED="semi-condensed",n.CONDENSED="condensed",n.EXTRA_CONDENSED="extra-condensed",n.ULTRA_CONDENSED="ultra-condensed",n.BOTTOM="bottom",n.IDEOGRAPHIC="ideographic",n.ALPHABETIC="alphabetic",n.MIDDLE="middle",n.HANGING="hanging",n.TOP="top",n.END="end",n.START="start",n.CENTER="center",n.RIGHT="right",n.LEFT="left",n.MITER="miter",n.BEVEL="bevel",n.MILTER="milter",n.ROUND="round",n.SQUARE="square",n.BUTT="butt"},{}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TWO_PI=n.TIERCE_PI=n.TAU=n.SQRT2=n.RAD=n.QUATER_PI=n.PI=n.PHI=n.LN2=n.LN10=n.HALF_PI=n.E=n.DEG=void 0;var r=Math.PI/180,o=180/Math.PI;n.RAD=o,n.DEG=r,n.PHI=1.618033988749894,n.SQRT2=1.4142135623730951,n.TWO_PI=6.283185307179586,n.TAU=6.283185307179586,n.QUATER_PI=.7853981633974483,n.TIERCE_PI=1.0471975511965976,n.HALF_PI=1.5707963267948966,n.PI=3.141592653589793,n.LN10=2.302585092994046,n.LN2=.6931471805599453,n.E=2.718281828459045},{}],14:[function(t,e,n){"use strict";var r=p(t("./utils.js")),o=t("./main.js"),i=p(t("./settings.js")),a=p(t("./constants/math.js")),s=p(t("./constants/drawing.js")),l=p(t("./color/gradients.js")),c=p(t("./color/interpolation.js")),f=p(t("./image/image.js")),u=p(t("./objects/text.js")),d=p(t("./objects/geometry.js")),h=p(t("./math/functions.js")),g=t("./math/points.js"),t=p(t("./math/random.js"));function m(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(m=function(t){return t?n:e})(t))}function p(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};e=m(e);if(e&&e.has(t))return e.get(t);var n,r,o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((r=i?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(o,n,r):o[n]=t[n]);return o.default=t,e&&e.set(t,o),o}[{C:o.C,dist:g.dist},r,i,a,s,l,c,f,u,d,h,t].forEach(t=>r.defineProperties(t))},{"./color/gradients.js":7,"./color/interpolation.js":8,"./constants/drawing.js":12,"./constants/math.js":13,"./image/image.js":15,"./main.js":17,"./math/functions.js":19,"./math/points.js":20,"./math/random.js":21,"./objects/geometry.js":27,"./objects/text.js":30,"./settings.js":31,"./utils.js":32}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.drawImage=function(t){let e=i.C.workingContext,n,r;r=arguments.length<6?(n=arguments[1],arguments[2]):(n=arguments[5],arguments[6]);e.yAxisInverted?(e.save(),e.translate(n,r),e.scale(1,-1),e.drawImage(t,0,0,...Array.prototype.slice.call(arguments,3)),e.restore()):e.drawImage(t,n,r,...Array.prototype.slice.call(arguments,3))},n.loadImage=r,n.loadImagePromise=function(n){return new Promise((t,e)=>{r(n,t,e)})},n.pixel=function(t,e,n,r){var o=i.C.workingContext;n&&(o.fillStyle=n);r=r||1/i.C.dpr;o.fillRect(t,e,r,r)};var i=t("../main.js");function r(t,e,n){var r=new Image;return r.src=t,"function"==typeof e&&r.addEventListener("load",()=>e(r),!1),"function"==typeof n&&r.addEventListener("error",t=>n(t,r),!1),r}},{"../main.js":17}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getPixelColor=function(t,e,n){n=t.width*n+e;return t.data.subarray(n,n+4)},n.hasNeighbourColor=function(n,t,r,o){var i=t.data,a=t.width;for(let e=r-1;e<=r+1;e++)for(let t=o-1;t<=o+1;t++)if(e!==r||t!==o){var s=a*o+r,s=i.subarray(s,s+4);if(s[0]===n[0]&&s[1]===n[1]&&s[2]===n[2]&&s[3]===n[3])return!0}return!1},n.imageDataToColorArray=function(t){var e=t.width,n=t.height,r=Array.from(t.data),o=[];for(var i=0;i<n;i++){o.push([]);for(var a=0;a<e;a++){var s=n*i+a,l=r[s],c=r[s+1],f=r[s+2],s=r[s+3];o[i].push([l,c,f,s])}}return o},n.imageToData=function(t,e,n,r,o,i=!1){var a=document.createElement("canvas"),s=a.getContext("2d"),l=C.C.dpr;return e=e*l||0,n=n*l||0,a.width=r=(isNaN(r)?t.width:r)*l,a.height=o=(isNaN(o)?t.height:o)*l,s.imageSmoothingEnabled=i,s.drawImage(t,0,0,r,o),s.getImageData(e,n,r,o)},n.replaceColorInImage=function(t,e,n,r=!1,o=0){var i=t.data,a=C.C.workingContext.createImageData(t.width,t.height);var[s,l,c,f]=(0,x.readColor)(e).rgbaA,[u,d,h,g]=(0,x.readColor)(n).rgbaA;let m=0;for(let t=0;t<i.length;t+=4){var p=i[t],b=i[t+1],v=i[t+2],y=i[t+3];Math.abs(p-s)<=o&&Math.abs(b-l)<=o&&Math.abs(v-c)<=o&&(!r||Math.abs(y-f)<=o)?(a.data[t]=u,a.data[t+1]=d,a.data[t+2]=h,a.data[t+3]=r?g:255):(a.data[t]=p,a.data[t+1]=b,a.data[t+2]=v,a.data[t+3]=r?y:255,m++)}return console.log(m),a};var x=t("../color/color_reader.js"),C=t("../main.js")},{"../color/color_reader.js":6,"../main.js":17}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.C=g;var h=t("./utils.js");function g(t,e,n={}){const r={width:200,height:200,dpr:Math.ceil(window.devicePixelRatio||1),doFill:!0,doStroke:!0,pathStarted:!1,yAxisInverted:!1,pauseAnimations:!1,netRotation:0,currentLoop:void 0,currentLoopName:void 0,textAlign:"start",textBaseline:"alphabetic",fillStyle:"#ffffff",background:"#ffffff",strokeStyle:"#000000",colorMode:"rgba",lineWidth:1,fontSize:"20px",fontFamily:"serif",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",lineHeight:1.2,font:"20px serif",events:{}};let o=(0,h.applyDefault)(r,n),i;"string"==typeof e?e=document.querySelector(e):e instanceof HTMLElement||(e=document.body);var n=e.querySelector("canvas"),a=n&&n.id==o.name;i=a?n:g.makeCanvas(o),"number"!=typeof e.CID&&(e.CID=1);let s=e.CID,l=e.id||e.classList.item(0),c=o.name||i.name;"string"!=typeof c&&(c=l+"-C-"+s,o.name=c),i.id=c,i.classList.add(c),e.appendChild(i),a?g.workingContext=i.context:(g.resizeCanvas(i,o),n=i.getContext("2d"),(0,h.defineProperties)(o,n),i.context=n,i.context.setTransform(o.dpr,0,0,o.dpr,0,0),g.workingContext=i.context,g.workingContext.savedStates=r,g.workingContext.delayedAnimations=[]),g.contextList[c]=i.context;var f,u={};for(f in o.events){var d=o.events[f];d&&(i.addEventListener(f,d),u[f]=d)}i.events=u,g.dpr=o.dpr,g.workingCanvas=i,t()}g.contextList={},g.nameID=0,g.workingContext,g.workingCanvas,g.dpr,g.getWindowWidth=function(t=document.body){t=window.getComputedStyle(t);return parseInt(t.width,10)-parseInt(t.paddingRight,10)-parseInt(t.paddingLeft,10)},g.resizeCanvas=function(t,e){var n=e.width,r=e.height,e=e.dpr||window.devicePixelRatio;t.style.width=n+"px",t.style.height=r+"px",t.width=e*n,t.height=e*r,t.rWidth=n,t.rHeight=r},g.makeCanvas=function(t){var e=document.createElement("canvas");return g.resizeCanvas(e,t),e},g.addExtension=function(t){(0,h.defineProperties)(t,window),(0,h.defineProperties)(t,g.extensions,!1)},g.debugAnimations=!1,g.extensions={},g.debug=function(t){g.debugAnimations="boolean"!=typeof t||t},g.getCanvas=function(t){return g.contextList[t]||g.workingContext},g._ANIMATIONLOG_=[],g.functions={},g.COLORLIST={};var r={CENTERX:function(){return g.workingCanvas.rWidth/2},CENTERY:function(){return g.workingCanvas.rHeight/2}},o=Object.keys(r);for(let t=0;t<o.length;t++){let e=o[t];Object.defineProperty(window,e,{configurable:!0,enumerable:!0,get:r[e],set:function(t){Object.defineProperty(window,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}})}window.C=g},{"./utils.js":32}],18:[function(t,e,n){"use strict";function r(t,e){for(;0!=e;){var n=e;e=t%e,t=n}return t}function o(t,e){return t*e/r(t,e)}Object.defineProperty(n,"__esModule",{value:!0}),n.gcd=r,n.gcdArray=function(t){let e=Array.isArray(t)?t:arguments,n=e[0];for(let t=1;t<e.length;++t)n=r(e[t],n);return n},n.lcm=o,n.lcmArray=function(t){let e=1,n=Array.isArray(t)?t:arguments;for(let t=0;t<n.length;++t)e=o(n[t],e);return e}},{}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sgn=n.round=n.random=n.pow=n.min=n.max=n.log2=n.log10=n.log=n.floor=n.exp=n.cosh=n.cos=n.ceil=n.cbrt=n.atan2=n.atan=n.asin=n.acos=n.abs=void 0,n.sigmoid=function(t){return 1/(1+Math.exp(-t))},n.tanh=n.tan=n.sqrt=n.sin=void 0;var{abs:r,acos:o,asin:i,atan:a,atan2:s,cbrt:l,ceil:c,cos:f,cosh:u,exp:d,floor:h,log:g,log2:m,log10:p,max:b,min:v,pow:y,random:x,round:C,sign:w,sin:k,sqrt:P,tan:j,tanh:M}=Math;n.tanh=M,n.tan=j,n.sqrt=P,n.sin=k,n.sgn=w,n.round=C,n.random=x,n.pow=y,n.min=v,n.max=b,n.log10=p,n.log2=m,n.log=g,n.floor=h,n.exp=d,n.cosh=u,n.cos=f,n.ceil=c,n.cbrt=l,n.atan2=s,n.atan=a,n.asin=i,n.acos=o,n.abs=r},{}],20:[function(t,e,n){"use strict";function i(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function r(t,e,n,r=10){return Array.isArray(t)&&2===t.length&&(e=t[1],t=t[0]),[Math.cos(n)*r+t,Math.sin(n)*r+e]}function o(t,e,n=10){var r=e[0]-t[0],e=e[1]-t[1],o=Math.atan2(e,r),r=Math.sqrt(r*r+e*e)+n;return[t[0]+Math.cos(o)*r,t[1]+Math.sin(o)*r]}Object.defineProperty(n,"__esModule",{value:!0}),n.circleIntersection=function(t,e,n,r){var o=i(t,n),r=(e*e-r*r+o*o)/(2*o),e=Math.sqrt(e*e-r*r),r=r/o,r=[(n[0]-t[0])*r+t[0],(n[1]-t[1])*r+t[1]];return[[r[0]+e*(n[1]-t[1])/o,r[1]-e*(n[0]-t[0])/o],[r[0]-e*(n[1]-t[1])/o,r[1]+e*(n[0]-t[0])/o]]},n.dist=i,n.extendFromOrigin=function(t,e=10){return o([0,0],t,e)},n.extendFromPoint=o,n.lineIntersection=function(t,e,n,r){e=(e[1]-t[1])/(e[0]-t[0]),r=(r[1]-n[1])/(r[0]-n[0]),t=t[1]-t[0]*e,n=n[1]-n[0]*r,n=(n-t)/(e-r),r=e*n+t;return[n,r]},n.rotateAroundOrigin=function(t,e=10){return r(0,0,t,e)},n.rotateAroundPoint=r},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.randomInt=function(t=10,e=0){return Math.round(Math.random()*(t-e)+e)}},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.doubleSmooth=function(t){return t<.5?.5*f(2*t):.5*(1+f(2*t-1))},n.easeInBack=function(t){return a*t**3-o*t**2},n.easeInBounce=function(t){return 1-c(1-t)},n.easeInCirc=function(t){return 1-Math.sqrt(1-t**2)},n.easeInCubic=function(t){return t**3},n.easeInElastic=function(t){return 0===t?0:1===t?1:-Math.pow(2,10*t-10)*Math.sin((10*t-10.75)*s)},n.easeInExpo=function(t){return 0==t?0:Math.pow(2,10*t-10)},n.easeInOutBack=function(t){return t<.5?(2*t)**2*(2*(i+1)*t-i)/2:((2*t-2)**2*((i+1)*(2*t-2)+i)+2)/2},n.easeInOutBounce=function(t){return t<.5?(1-c(1-2*t))/2:(1+c(2*t-1))/2},n.easeInOutCirc=function(t){return t<.5?(1-Math.sqrt(1-(2*t)**2))/2:(Math.sqrt(1-(2-2*t)**2)+1)/2},n.easeInOutCubic=function(t){return t<.5?4*t**3:1-Math.pow(2-2*t,3)/2},n.easeInOutElastic=function(t){return 0==t?0:1==t?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*l))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*l)/2+1},n.easeInOutExpo=function(t){return 0==t?0:1==t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,10-20*t))/2},n.easeInOutQuad=function(t){return t<.5?2*t**2:1-Math.pow(2-2*t,2)/2},n.easeInOutQuart=function(t){return t<.5?8*t**4:1-Math.pow(2-2*t,4)/2},n.easeInOutQuint=function(t){return t<.5?16*t**5:1-Math.pow(2-2*t,5)/2},n.easeInOutSine=function(t){return-(Math.cos(Math.PI*t)-1)/2},n.easeInQuad=function(t){return t**2},n.easeInQuart=function(t){return t**4},n.easeInQuint=function(t){return t**5},n.easeInSine=function(t){return 1-Math.cos(t*Math.PI/2)},n.easeOutBack=function(t){return 1+a*(t-1)**3+o*(t-1)**2},n.easeOutBounce=c,n.easeOutCirc=function(t){return Math.sqrt(1-(t-1)**2)},n.easeOutCubic=function(t){return 1-(1-t)**3},n.easeOutElastic=function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*s)+1},n.easeOutExpo=function(t){return 1==t?1:1-Math.pow(2,-10*t)},n.easeOutQuad=function(t){return 1-(1-t)**2},n.easeOutQuart=function(t){return 1-(1-t)**4},n.easeOutQuint=function(t){return 1-(1-t)**5},n.easeOutSine=function(t){return Math.sin(t*Math.PI/2)},n.exponentialDecay=function(t,e=.1){return 1-Math.exp(-t/e)},n.linear=function(t){return t},n.lingering=function(t){return d(t=>t,0,.8)(t)},n.notQuiteThere=function(e=f,n=.7){return t=>n*e(t)},n.rushFrom=function(t,e=10){return 2*f(t/2+.5,e)-1},n.rushInto=function(t,e=10){return 2*f(t/2,e)},n.slowInto=function(t){return Math.sqrt(1-(1-t)*(1-t))},n.smooth=f,n.squishRateFunc=d,n.thereAndBack=u,n.thereAndBackWithPause=function(t,e=1/3){var n=1/e;return t<.5-e/2?f(n*t):t<.5+e/2?1:f(n-n*t)},n.wiggle=function(t,e=2){return u(t)*Math.sin(e*Math.PI*t)};var r=t("./functions.js");const o=1.70158,i=1.525*o,a=o+1,s=2*Math.PI/3,l=2*Math.PI/4.5;function c(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}function f(t,e=10){var n=(0,r.sigmoid)(-e/2);return Math.min(Math.max(((0,r.sigmoid)(e*(t-.5))-n)/(1-2*n),0),1)}function u(t,e=10){return f(t<.5?2*t:2*(1-t),e)}function d(e,n=.4,r=.6){return function(t){return n==r?n:e(t<n?0:r<t?1:(t-n)/(r-n))}}},{"./functions.js":19}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.arrow=y,n.arrowTip=v,n.curvedArrow=x,n.curvedArrowBetweenPoints=function(t,e,n,r=b,o=r/1.2,i=0,a=0,s=!1,l=!1){var c=g.C.workingContext,f=c.pathStarted;c.save(),f||c.beginPath();var u=(0,m.circleIntersection)(t,n,e,n)[0],t=(t[0]-=u[0],t[1]-=u[1],e[0]-=u[0],e[1]-=u[1],Math.atan2(t[1],t[0])),e=Math.atan2(e[1],e[0]);let d,h;d=s?(h=t,e-t):(h=e,t-e);x(u[0],u[1],n,d,h,r,o,i,a,l),f||c.closePath();return c.restore(),u},n.curvedDoubleArrow=function(t,e,n,r=Math.PI/2,o=0,i=b,a=i/1.2,s=0,l=0){var c=g.C.workingContext,f=(c.save(),i/n),u=[-Math.cos(o+f/2+Math.PI/2),-Math.sin(o+f/2+Math.PI/2)];x(t,e,n,(r-=f)+s/n,(o+=f+2*l)-s/n,i,a,s,l),v(Math.cos(o-s/n)*n,Math.sin(o-s/n)*n,Math.cos(o)*n+i*u[0],Math.sin(o)*n+i*u[1],i,a),c.restore()},n.curvedDoubleArrowBetweenPoints=function(t,e,n,r=b,o=r/1.2,i=0,a=0,s=!1){var l=g.C.workingContext,c=(l.save(),(0,m.circleIntersection)(t,n,e,n)[0]),f=(t[0]-=c[0],t[1]-=c[1],e[0]-=c[0],e[1]-=c[1],r/n),t=Math.atan2(t[1],t[0]),e=Math.atan2(e[1],e[0])+f;let u,d;u=s?(d=t,e-t):(d=e,t-e);i/=n,x(c[0],c[1],n,u+i-a,d-i+a,r,o,i*n,a);s=f-i+a;return d-=f,v(c[0]+n*Math.cos(d+s),c[1]+n*Math.sin(d+s),c[0]+n*Math.cos(d+a),c[1]+n*Math.sin(d+a),r,o),l.restore(),c},n.doubleArrow=function(t,e,n,r,o=b,i=o/1.2,a=0,s=0){var l=Math.atan2(r-e,n-t),c=Math.cos(l)*(o-a),f=Math.sin(l)*(o-a),u=Math.sin(l)*s,l=Math.cos(l)*s;(0,h.startShape)(),y(t+=c+l,e+=f+u,n,r,o,i,a,s),v(t,e,t-c,e-f,o,i),(0,p.doFillAndStroke)(g.C.workingContext),(0,h.endShape)()},n.measurement=function(t){var e=g.C.workingContext,n={background:s,tipWidth:b,tipHeight:b/1.2,innerPadding:3,outerPadding:0,textRotation:0,arrowCurving:0},{p1:n,p2:r}=t=(0,p.applyDefault)(n,t),o=Math.atan2(r[1]-n[1],r[0]-n[0]),i=e.measureText(t.text)["width"],o=[Math.cos(o)*(t.innerPadding+i/2),Math.sin(o)*(t.innerPadding+i/2)],i=[(n[0]+r[0])/2,(n[1]+r[1])/2];y(i[0]-o[0],i[1]-o[1],n[0],n[1],t.tipWidth,t.tipHeight,t.arrowCurving,t.outerPadding),y(i[0]+o[0],i[1]+o[1],r[0],r[1],t.tipWidth,t.tipHeight,t.arrowCurving,t.outerPadding),(0,h.save)(),e.translate(i[0],i[1]),e.textAlign=d.CENTER,e.textBaseline=d.MIDDLE,e.rotate(Math.atan2(r[1]-n[1],r[0]-n[0])+t.textRotation),(0,a.fillText)(t.text,0,0),(0,h.restore)()};var d=t("../constants/drawing.js"),g=t("../main.js"),m=t("../math/points.js"),h=t("../settings.js"),p=t("../utils.js"),a=t("./text.js");const b=15,s="rgba(0,0,0,0)";function v(t,e,n,r,o,i){var a=g.C.workingContext,s=a.lineWidth,l=Math.sqrt((t-n)**2+(e-r)**2),c=(isNaN(o)&&(o=l),i=i||o/1.2,o-l),f=Math.sqrt(c**2+(i/2)**2);let u=Math.atan(i/(2*c));o<l&&(u+=Math.PI);i=Math.atan2(r-e,n-t),c=[t-Math.cos(u+i)*f,e-Math.sin(u+i)*f],o=[t-Math.cos(-u+i)*f,e-Math.sin(-u+i)*f];a.doStroke&&a.lineJoin!=d.BEVEL&&(n-=Math.cos(i)*s,r-=Math.sin(i)*s),a.save(),a.pathStarted||a.beginPath(),a.moveTo(t,e),a.lineTo(c[0],c[1]),a.lineTo(n,r),a.lineTo(o[0],o[1]),a.lineTo(t,e),a.pathStarted||((0,p.doFillAndStroke)(a),a.closePath()),a.restore()}function y(t,e,n,r,o=b,i=o/1.2,a=0,s=0){var l=Math.atan2(r-e,n-t),c=Math.sin(l)*s,s=(n-=Math.cos(l)*s,r-=c,Math.cos(l)*(o-a)),c=Math.sin(l)*(o-a),l=g.C.workingContext,a=l.pathStarted;a||(0,h.startShape)(),l.moveTo(t,e),l.lineTo(n-s,r-c),l.stroke(),v(n-s,r-c,n,r,o,i),a||((0,p.doFillAndStroke)(l),(0,h.endShape)())}function x(t,e,n,r=Math.PI/2,o=0,i=b,a=i/1.2,s=0,l=0,c=!1){var f=g.C.workingContext,u=i/n;f.save();let d=u-(s/=n);f.beginPath(),c?(d+=l,f.arc(t,e,n,d+o,r+o),f.stroke(),f.closePath(),v(t+n*Math.cos(o+d),e+n*Math.sin(o+d),t+n*Math.cos(o+l),e+n*Math.sin(o+l),i,a)):(f.arc(t,e,n,o,(r-=l)-d+o),f.stroke(),f.closePath(),v(t+n*Math.cos(o+r-d),e+n*Math.sin(o+r-d),t+n*Math.cos(o+r),e+n*Math.sin(o+r),i,a)),f.restore()}},{"../constants/drawing.js":12,"../main.js":17,"../math/points.js":20,"../settings.js":31,"../utils.js":32,"./text.js":30}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.arcBrace=function(t,e,n=100,r=Math.PI/2,o=0,i=10,a=i,s=10){var l=v.C.workingContext,c=n-i,a=n+a;return l.save(),l.translate(t,e),l.rotate(o),l.beginPath(),l.moveTo(n,0),l.lineTo(c,0),l.arc(0,0,n,0,r),l.lineTo(c*Math.cos(r),c*Math.sin(r)),l.moveTo(n*Math.cos(r/2),n*Math.sin(r/2)),l.lineTo(a*Math.cos(r/2),a*Math.sin(r/2)),l.stroke(),l.closePath(),l.restore(),[(a+s)*Math.cos(r/2+o)+t,(a+s)*Math.sin(r/2+o)+e]},n.curlyBrace=function(t,e,n,r,o=20,i=.6,a=.8){var s=t-n,l=e-r,c=Math.sqrt(s*s+l*l);s/=c;var f=t+i*o*(l/=c),u=e-i*o*s,d=t-.25*c*s+(1-i)*o*l,h=e-.25*c*l-(1-i)*o*s,g=t-.5*c*s+o*l*a,a=e-.5*c*l-o*s*a,m=n+i*o*l,p=r-i*o*s,b=t-.75*c*s+(1-i)*o*l,c=e-.75*c*l-(1-i)*o*s,l=`M ${t} ${e} `+`Q ${f} ${u} ${d} ${h} `+`T ${g} ${a} `+`M ${n} ${r} `+`Q ${m} ${p} ${b} ${c} `+`T ${g} `+a;return v.C.workingContext.stroke(new Path2D(l)),[g,a]};var v=t("../main.js")},{"../main.js":17}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.axes=j,n.numberLine=o,n.numberPlane=function(t={}){const e=E.C.workingCanvas,o=E.C.workingContext,n={xAxis:{length:parseInt(e.style.width),includeTicks:!0,includeLabels:!0,includeLeftTip:!1,includeRightTip:!1,excludeOriginTick:!0,unitSpace:50},yAxis:{length:parseInt(e.style.height),textRotation:-Math.PI/2,unitSpace:50,includeTicks:!0,includeLabels:!0,includeLeftTip:!1,includeRightTip:!1,excludeOriginTick:!0},subgrids:[1,1],gridStrokeWidth:1.3,subgridStrokeWidth:.8,gridStrokeColor:"#58c4dddd",subgridStrokeColor:"#88888850",originPosition:W};let{xAxis:i,yAxis:a,originPosition:r,subgrids:s,gridStrokeWidth:l,subgridStrokeWidth:c,gridStrokeColor:f}=t=(0,R.applyDefault)(n,t);o.save();const u=j({xAxis:i,yAxis:a}),d=u.xAxis.range,h=u.yAxis.range,g=(d[1]-d[0])/d[2],m=(h[1]-h[0])/h[2],p=u.unitSpace,b=u.unitValue;return o.scale(p[0],p[1]),l/=p[1],c/=p[1],function(){o.beginPath(),o.lineWidth=l,o.strokeStyle=f;let e=h[1]-h[1]%h[2];for(let t=d[0];t<=d[1];t+=d[2])i.excludeOriginTick&&0==t||i.includeLeftTip&&t==d[0]||i.includeRightTip&&t==d[1]||(o.moveTo(t,h[0]),o.lineTo(t,e));e=d[1]-d[1]%d[2];for(let t=h[0];t<=h[1];t+=h[2])a.excludeOriginTick&&0==t||a.includeLeftTip&&t==h[0]||a.includeRightTip&&t==h[1]||(o.moveTo(d[0],t),o.lineTo(e,t));o.stroke(),o.closePath(),o.lineWidth=c,o.strokeStyle=t.subgridStrokeColor;let n=2/(s[0]+1),r=g*(s[0]+1);for(let t=d[0];t<=r;t++)t%(s[0]+1)!=0&&(o.moveTo(t*n,h[0]),o.lineTo(t*n,h[1]));n=2/(s[1]+1),r=m*(s[1]+1);for(let t=h[0];t<=r;t++)t%(s[1]+1)!=0&&(o.moveTo(d[0],t*n),o.lineTo(d[1],t*n));o.stroke(),o.closePath()}(),o.restore(),v({originPosition:r,unitValue:b,unitSpace:p,xAxis:u.xAxis,yAxis:u.yAxis,subgridUnit:s})},n.polarPlane=function(t={}){let f=E.C.workingContext,e=E.C.workingCanvas,n={"pi radians":20,"tau radians":20,degrees:24,gradians:20},{originPosition:r,maxRadius:u,size:o,radiusStep:i,azimuthUnit:d,azimuthDivisions:h,azimuthCompactFraction:g,azimuthDirection:m,radiusConfigs:a,azimuthConfigs:p,fadedLines:b,fadedLineConfigs:v,azimuthoffset:y}=t=(0,R.applyDefault)({originPosition:W,maxRadius:4,size:.8*Math.min(parseInt(e.style.width),parseInt(e.style.height)),radiusStep:1,azimuthUnit:"PI radians",azimuthDivisions:0,azimuthCompactFraction:!0,azimuthDirection:"ccw",azimuthoffset:0,fadedLines:1,radiusConfigs:{includeLabels:!0,includeTicks:!1,includeRightTip:!1,strokeColor:"#fff",strokeWidth:2,fontSize:22,fontFamily:"serif",textDirection:[.8,-.75],labelAxis:[1],numbersToExclude:[0]},azimuthConfigs:{includeLabels:!0,labelBuff:.45,fontSize:15,fontFamily:"serif",textAlign:"center",textBaseline:"middle",strokeColor:"#58c4ddaa",strokeWidth:1.3,textRenderer:N.fillText,decimalPoints:0},fadedLineConfigs:{strokeColor:"#8888",strokeWidth:1}},t);{if(d=d.toLowerCase(),null==n[d])throw new Error("Invalid azimuth units. Expected one of: PI radians, TAU radians, degrees, gradians.");d=d}0==h&&(h=n[d]||20);(0,L.save)(),f.translate(r[0],r[1]);let x=(0,R.arange)(0,u,i),C=o/u/2,s=(p.strokeWidth/=C,v.strokeWidth/=C,p.fontSize/=C,Array.isArray(a.labelsToInclude)?a.labelsToInclude:x),l=[],c=[];l=-1<a.labelAxis.indexOf(3)?s.reverse():new Array(u).fill("");-1<a.labelAxis.indexOf(1)?l=l.concat(s):l.push(...new Array(u).fill(""));c=-1<a.labelAxis.indexOf(2)?s.reverse():new Array(u).fill("");-1<a.labelAxis.indexOf(4)?c=c.concat(s.reverse()):c.push(...new Array(u).fill(""));a.range=[-u,u,i],a.length=o;var t=(0,R.applyDefault)(a,{labelsToInclude:l}),w=(0,R.applyDefault)(a,{labelsToInclude:c});return f.scale(C,C),function(){b++;var e=[];if(f.font=p.fontSize+"px "+p.fontFamily,f.textAlign=p.textAlign,f.textBaseline=p.textBaseline,"pi radians"==d||"tau radians"==d){var n=h,r=(p.textRenderer=P.tex,"tau radians"==d?"\\tau":"\\pi");f.font=p.fontSize*C+"px "+p.fontFamily;for(let t=0;t<h;t++)e.push((0,R.fraction)(+t,n,!0,g,r))}else if("degrees"==d)for(let t=0;t<h;t++)e.push((360*t/h).toFixed(p.decimalPoints)+"°");else if("gradians"==d)for(let t=0;t<h;t++)e.push((400*t/h).toFixed(p.decimalPoints)+"ᵍ");let o=2*Math.PI/h,i,a=("cw"==m.toLowerCase()&&(o*=-1),1);if("pi radians"!=d&&"tau radians"!=d||(a=C),f.doFill=!1,f.doStroke=!0,1<b){f.strokeStyle=v.strokeColor,f.lineWidth=v.strokeWidth;var s=1/b;let e=x.length/s-b;f.beginPath(),f.moveTo(0,0);for(let t=0;t<e;t++)f.arc(0,0,t*s,0,2*Math.PI);e=h/s/s,f.lineWidth=v.strokeWidth;for(let t=0;t<e;t+=s){var l=t*o;f.moveTo(0,0),f.lineTo(Math.cos(l+y)*u,Math.sin(l+y)*u)}f.stroke()}f.beginPath(),f.strokeStyle=p.strokeColor,f.lineWidth=p.strokeWidth,f.moveTo(0,0);for(let t=0;t<x.length;t++)f.arc(0,0,t,0,2*Math.PI);for(let t=0;t<h;t++){var c=t*o+y;c%(Math.PI/2)!=0&&(f.moveTo(0,0),f.lineTo(Math.cos(c)*u,Math.sin(c)*u))}if(f.stroke(),p.includeLabels)for(let t=0;t<h;t++)i=t*o+y,p.textRenderer(e[t],Math.cos(i)*(u+p.labelBuff)*a,Math.sin(i)*(u+p.labelBuff)*a)}(),(0,L.restore)(),j({xAxis:t,yAxis:w}),function(e){return{plotPoints:function(t){t.radialSpacing=t.radialSpacing||e.radialSpacing,(0,k.plotPolarPoints)(t)},parametricFunction:function(t){return t.radialSpacing=t.radialSpacing||e.radialSpacing,(0,k.polarParametricFunction)(t)},functionGraph:function(t){return t.radialSpacing=t.radialSpacing||e.radialSpacing,(0,k.polarFuntionGraph)(t)}}}({azimuthAnglularSpace:2*Math.PI/h,radialSpacing:C})};var E=t("../main.js"),L=t("../settings.js"),R=t("../utils.js"),D=t("./arrows.js"),k=t("./functions.js"),F=t("./geometry.js"),P=t("./tex.js"),N=t("./text.js");function v(e){return Object.assign(e,{getParametricFunction:function(t){return t.unitSpace=e.unitSpace,t.unitValue=e.unitValue,(0,k.parametricFunction)(t)},getFunctionGraph:function(t){return t.unitSpace=e.unitSpace,t.unitValue=e.unitValue,(0,k.functionGraph)(t)},getHeatPlot:function(t){return t.unitSpace=e.unitSpace,t.unitValue=e.unitValue,t.min=e.min||[e.xAxis.range[0],e.yAxis.range[0]],t.max=e.max||[e.xAxis.range[1],e.yAxis.range[1]],(0,k.heatPlot)(t)},plotPoints:function(t){return t.unitValue=e.unitValue,t.unitSpace=e.unitSpace,(0,k.plotPoints)(t)}})}const W=[0,0];function o(e={}){const n=E.C.workingContext;var r=E.C.workingCanvas;let{strokeColor:o,tipWidth:i,strokeWidth:a,fontSize:s,tipHeight:l,textRotation:c,textDirection:f,includeLeftTip:u,includeRightTip:d,numbersToExclude:h,labelsToInclude:t,excludeOriginTick:g,longerTickMultiple:m,numbersWithElongatedTicks:p,range:b,decimalPlaces:v}=e=(0,R.applyDefault)({rotation:0,strokeWidth:2,length:parseInt(r.width),originPosition:W,range:[-5,5,1],strokeColor:"white",tipWidth:13,tipHeight:10,fontSize:17,fontFamily:"serif",textRenderer:N.fillText,textAlign:"center",textBaseline:"middle",textColor:"white",textRotation:0,textDirection:[0,-1],tickHeight:10,longerTickMultiple:1.5,labelsToInclude:[],numbersToExclude:[0],numbersWithElongatedTicks:[],includeTicks:!0,includeLabels:!0,includeLeftTip:!1,includeRightTip:!1,excludeOriginTick:!1},e);if(!Array.isArray(b)||!b.length)throw new Error("range must be a array that have atleast one item. Got: "+b.toString());2===(b=1===b.length?[0,b[0],1]:b).length&&(b=[b[0],b[1],1]),isNaN(v)&&0<=v&&(v=(b[2].toString().split(".")[1]||[]).length||0);const y=b[0],x=b[1],C=b[2],w=(x-y)/C,k=e.length/w,P=(0,R.arange)(y,x,C);if(a/=k,i/=k,s/=k,l/=k,e.tickHeight/=k,n.beginPath(),(0,L.save)(),n.translate(e.originPosition[0],e.originPosition[1]),n.scale(k,k),n.rotate(e.rotation),e.includeTicks){n.strokeStyle=o,n.lineWidth=a;var r=u?1:0,j=d?P.length-1:P.length;for(let t=r;t<j&&h.indexOf(P[0][t])<0;t++){var M=P[t];if(0!==Number(M)||!g){let t=e.tickHeight;-1<p.indexOf(M)&&(t*=m),(0,F.line)(M,-t/2,M,t/2)}}}if(e.includeLabels){var A=0<t.length?t:P,r=(n.fillStyle=e.textColor,n.font=s+"px "+e.fontFamily,n.textAlign=e.textAlign,n.textBaseline=e.textBaseline,u?1:0),O=d?P.length-1:P.length,S=e.textRenderer;for(let t=r;t<O&&!(t>=A.length);t++){var T,_,I="number"==typeof A[t]?A[t].toFixed(v):A[t];0==P[t]&&g||-1<h.indexOf(P[t])||(T=n.measureText(I).width,T=P[t]-f[0]*T,_=f[1]*s,n.save(),n.translate(T,_),n.rotate(c),S(I,0,0),n.restore())}}{n.strokeStyle=o,n.lineWidth=a,n.fillStyle=o,r=Math.atan(l/2);let t=P[0],e=P[P.length-1];u&&((0,D.arrowTip)(t+i,0,t,0,i,l),t+=i*Math.cos(r)),d&&((0,D.arrowTip)(e-i,0,e,0,i,l),e-=i*Math.cos(r)*1),(0,F.line)(t,0,e,0)}return n.closePath(),(0,L.restore)(),{range:b,originPosition:e.originPosition,tickList:P,unitValue:C,unitSpace:k}}function j(t={}){var e=E.C.workingContext,n=E.C.workingCanvas,n=(t=(0,R.applyDefault)({xAxis:{length:n.width,includeTicks:!0,includeLeftTip:!1,includeRightTip:!0,excludeOriginTick:!0},yAxis:{length:n.height,rotation:Math.PI/2,textRotation:-Math.PI/2,textDirection:[0,.75],includeTicks:!0,includeLeftTip:!1,includeRightTip:!0,excludeOriginTick:!0},originPosition:W},t),e.save(),e.translate(t.originPosition[0],t.originPosition[1]),o(t.xAxis)),r=o(t.yAxis);return e.restore(),v({originPosition:t.originPosition,xAxis:n,yAxis:r,unitSpace:[n.unitSpace,r.unitSpace],unitValue:[n.unitValue,r.unitValue]})}},{"../main.js":17,"../settings.js":31,"../utils.js":32,"./arrows.js":23,"./functions.js":26,"./geometry.js":27,"./tex.js":29,"./text.js":30}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.functionGraph=function(t){let e=t.plotter;return t.plotter=t=>[t,e(t)],r(t)},n.heatPlot=function(t){let e={min:[-4,-4],max:[4,4],colors:{"-5":"#b36e38b0","-3":"#ff9c52b0","-1":"#ffcea9b0",0:"#dcdcddb0",1:"#9fcaedb0",3:"#3d96dab0",5:"#2b6b99b0"},unitSpace:O,unitValue:O,resolution:1,interpolator:t=>t},{min:n,max:r,colors:s,resolution:o,plotFunction:i,interpolator:l}=t=(0,k.applyDefault)(e,t,!1),a=C.C.workingContext,c=t.unitSpace[0]/t.unitValue[0],f=t.unitSpace[1]/t.unitValue[1],u=t.unitValue[0]/t.unitSpace[0],d=t.unitValue[1]/t.unitSpace[1],h=Object.keys(s).sort();for(var g of h)s[g]=(0,b.readColor)(s[g]).rgbaA;let m=Math.min(...h),p=Math.max(...h);a.save();for(let e=n[0];e<=r[0];e+=o*u)for(let t=n[1];t<=r[1];t+=o*d)a.fillStyle=function(e){if(e>=p)return"rgba("+s[p].join()+")";if(e<=m)return"rgba("+s[m].join()+")";for(let t=0;t<h.length-1;t++){var n=h[t],r=h[t+1],o=s[n],i=s[r],a=l((e-n)/(r-n));if(n<=e&&e<r)return"rgba("+[(i[0]-o[0])*a+o[0],(i[1]-o[1])*a+o[1],(i[2]-o[2])*a+o[2],(i[3]-o[3])*a+o[3]].join()+")"}}(i(e,t)),a.fillRect(e*c,t*f,o,o);return a.restore(),{min:m,max:p,colors:s}},n.parametricFunction=r,n.plotPoints=function(e){var{points:n,unitValue:r,unitSpace:o}=e=(0,k.applyDefault)({unitValue:O,unitSpace:O,fill:"white",stroke:"#0000",radius:5},e),i=C.C.workingContext;for(let t=0;t<n.length;t++){var a=n[t],s=a.fill||e.fill||i.fillStyle,l=a.stroke||e.stroke||i.strokeStyle,c=a.x*o[0]/r[0],f=a.y*o[1]/r[1];i.beginPath(),i.fillStyle=s,i.strokeStyle=l,i.arc(c,f,a.radius||e.radius,0,2*Math.PI),i.fill(),i.stroke()}i.closePath()},n.plotPolarPoints=function(e){e=(0,k.applyDefault)({radialSpacing:2,fill:"white",stroke:"#0000",radius:5,points:[]},e);var n=C.C.workingContext,{points:r,radialSpacing:o}=e;n.save();for(let t=0;t<r.length;t++){var i=r[t],a=i.fill||e.fill||n.fillStyle,s=i.stroke||e.stroke||n.strokeStyle,l=i.r*Math.cos(i.phi)*o,c=i.r*Math.sin(i.phi)*o;n.beginPath(),n.fillStyle=a,n.strokeStyle=s,n.arc(l,c,i.radius||e.radius,0,2*Math.PI),n.fill(),n.stroke()}n.closePath(),n.restore()},n.polarFuntionGraph=function(t){let e=t.plotter;return t.plotter=t=>[e(t),t],o(t)},n.polarParametricFunction=o;var b=t("../color/color_reader.js"),C=t("../main.js"),w=t("../settings.js"),k=t("../utils.js"),P=t("./geometry.js");const j={then:function(t){return t(),j}};let M={parametricFunction:1};const A=[0,10,.1],O=[1,1];function r(t){var e,n={tension:1,unitValue:O,unitSpace:O,range:A,discontinuities:[],smoothen:!0,closed:!1,draw:!0,dur:4e3};let{plotter:r,range:o,smoothen:a,tension:i,discontinuities:s,closed:l}=t=(0,k.applyDefault)(n,t),c=(Array.isArray(o)&&2==o.length&&o.push((o[1]-o[0])/20),[[]]),f=o[0],u=o[1],d=o[2],h=(Array.isArray(s)||(s=[]),0),g=0,m=t.unitSpace[0]/t.unitValue[0],p=t.unitSpace[1]/t.unitValue[1],b;d<(b=isNaN(t.discontinuityRadius)?d:t.discontinuityRadius)&&(b=d/2);for(let t=f;t<=u+b;t+=d)-1<(0,k.approximateIndexInArray)(t,s,b)?-1<(0,k.approximateIndexInArray)(t+d,s,b)&&(h++,c.push([])):(e=r(t),c[h].push([e[0]*m,e[1]*p]),g++);if(t.draw){var v=C.C.workingContext;for(let t=0;t<c.length;t++){var y=c[t];if(a)(0,P.smoothCurveThroughPoints)(y,i,l);else{v.beginPath(),v.moveTo(y[0][0],y[0][1]);for(let t=1;t<y.length;t++)v.lineTo(y[t][0],y[t][1]);v.closePath(),(0,k.doFillAndStroke)(v)}}}let x=C.C.workingContext;return{points:c[0],dur:t.dur,name:"parametric-plot-"+M.parametricFunction++,closed:t.closed,tension:t.tension||1,smoothen:t.smoothen,rateFunction:t.rateFunction,syncWithTime:t.syncWithTime||!1,draw:function(t=2e3){var e=t/g;for(let t=0;t<c.length;t++){var i=c[t];a?(0,w.loop)("parametric-plot-"+M.parametricFunction++,function(o){return function(){o>=i.length-2&&((0,w.noLoop)(),x.closePath(),x.doFill)&&this.draw();var t=0<o?i[o-1]:l?i[i.length-2]:i[0],e=i[o],n=i[o+1],r=o!=i.length-2?i[o+2]:l?i[1]:n,t=(0,P.getBezierControlPoints)(t,e,n,r);o++,x.beginPath(),x.moveTo(e[0],e[1]),x.bezierCurveTo(t[0],t[1],t[2],t[3],n[0],n[1]),x.stroke()}}(0),C.C.workingContext.name,e):(0,w.loop)("parametric-plot-"+M.parametricFunction++,function(n){return function(){n>=i.length-2&&((0,w.noLoop)(),x.doFill)&&this.draw();var t=i[n],e=i[++n];(0,P.line)(t[0],t[1],e[0],e[1])}}(0),C.C.workingContext.name,e)}return j}}}function o(t){let{plotter:e,range:n,radialSpacing:r,smoothen:o,tension:i,discontinuities:a,closed:s}=t=(0,k.applyDefault)({tension:1,radialSpacing:1,range:[0,2*Math.PI,Math.PI/50],discontinuities:[],smoothen:!0,closed:!1,strokeWidth:2,plotter:t=>[0,0]},t);Array.isArray(n)&&2==n.length&&n.push((n[1]-n[0])/20);var l,c=[[]],f=n[0],u=n[1],d=n[2];Array.isArray(a)||(a=[]);let h,g=0,m=(h=isNaN(t.discontinuityRadius)?d:t.discontinuityRadius)<d?h:0;for(let t=f;t<=u+d+m;t+=d)-1<(0,k.approximateIndexInArray)(t,a,h)?-1<(0,k.approximateIndexInArray)(t+d,a,h)&&(g++,c.push([])):(l=e(t),c[g].push([l[0]*Math.cos(l[1])*r,l[0]*Math.sin(l[1])*r]));var p=C.C.workingContext,b=[];p.lineWidth=t.strokeWidth;for(let t=0;t<c.length;t++){var v=c[t];if(0!=v.length){b.push(v);var y=t==c.length-1?1:0;if(o)(0,P.smoothCurveThroughPoints)(v,i,s,y);else{p.beginPath(),p.moveTo(v[0][0],v[0][1]);for(let t=1;t<v.length-y;t++)p.lineTo(v[t][0],v[t][1]);p.doStroke&&p.stroke(),p.doFill&&s&&p.fill(),p.closePath()}y&&(c[t]=c[t].slice(0,-1))}}return{points:b,closed:t.closed,tension:t.tension||1,smoothen:t.smoothen}}},{"../color/color_reader.js":6,"../main.js":17,"../settings.js":31,"../utils.js":32,"./geometry.js":27}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.angle=function(c,f,u,d,h=20,g=10,m=!1,p=1){let t=(0,l.lineIntersection)(c,f,u,d),b=t[0],v=t[1],y={};{if(isNaN(b)||isNaN(v))throw new Error("No intersection point");{let t,e,n=Math.atan2(c[1]-v,c[0]-b),r=Math.atan2(f[1]-v,f[0]-b),o=Math.atan2(u[1]-v,u[0]-b),i=Math.atan2(d[1]-v,d[0]-b),a={1:[r,i],2:[i,n],3:[n,o],4:[o,r]},s=a[p],l=x.C.workingContext;t=m?(e=s[1],s[0]-s[1]):(e=s[0],s[1]-s[0]),l.doFill&&(l.beginPath(),l.moveTo(b,v),l.arc(b,v,h,e,t+e),l.fill(),l.closePath()),l.doStroke&&(l.beginPath(),l.arc(b,v,h,e,t+e),l.stroke(),l.closePath()),y={center:[b+(h+g)*Math.cos(e+t/2),v+(h+g)*Math.sin(e+t/2)],ang:t}}}return y},n.annulus=function(t,e,n,r){var o=x.C.workingContext;o.beginPath(),o.arc(t,e,n,0,2*Math.PI,!1),o.moveTo(r,0),o.arc(t,e,r,0,2*Math.PI,!0),(0,c.doFillAndStroke)(o)},n.annulusSector=function(t,e,n,r,o,i){var a=x.C.workingContext;a.beginPath(),a.arc(t,e,n,i,i+o,!1),a.arc(t,e,r,i+o,i,!0),(0,c.doFillAndStroke)(a)},n.arc=function(t,e,n,r=Math.PI/2,o=0){var i=x.C.workingContext;i.pathStarted||i.beginPath();i.arc(t,e,n,o,o+r),i.pathStarted||(0,c.doFillAndStroke)(i)},n.arcBetweenPoints=function(t,e,n,r,o,i=!1){t==n&&e==r&&console.error("Can't draw a arc between points. Given points are exactly same");var a=(0,l.circleIntersection)([t,e],o,[n,r],o)[0],s=x.C.workingContext,e=Math.atan2(e-a[1],t-a[0]),t=Math.atan2(r-a[1],n-a[0])-e;s.pathStarted||(s.save(),s.beginPath());s.arc(a[0],a[1],o,e,t+e,!i),s.pathStarted||((0,c.doFillAndStroke)(s),s.restore());return a},n.bezier=function(t,e,n,r,o,i){var a=x.C.workingContext,s=a.pathStarted;s||a.beginPath();a.bezierCurveTo(t,e,n,r,o,i),a.pathStarted||(0,c.doFillAndStroke)(a)},n.circle=function(t,e,n){var r=x.C.workingContext;r.beginPath(),r.arc(t,e,n,0,2*Math.PI),r.doFill&&r.fill();r.doStroke&&r.stroke()},n.circularSegment=function(t,e,n,r=Math.PI/2,o=0){var i=x.C.workingContext;i.pathStarted||i.beginPath();i.arc(t,e,n,o,o+r),i.pathStarted||(0,c.doFillAndStroke)(i)},n.ellipse=function(t,e,n,r,o=0,i=0,a=2*Math.PI){var s=x.C.workingContext;s.pathStarted||s.beginPath();s.ellipse(t,e,n,r,o,i,i+a),s.pathStarted||(0,c.doFillAndStroke)(s)},n.equiTriangle=function(t,e,n,r=0){o(t,e,3,n,r)},n.getBezierControlPoints=f,n.line=function(t,e,n,r){var o=x.C.workingContext;o.beginPath(),o.moveTo(t,e),o.lineTo(n,r),o.stroke(),o.closePath()},n.point=function(t,e,n=10,r=!1){var o=x.C.workingContext;o.beginPath(),o.arc(t,e,n/2,0,2*Math.PI),o.fill(),r&&o.stroke();o.beginPath()},n.polygon=function(){var e=arguments;if(2<e.length){var n=x.C.workingContext,t=e[0];n.beginPath(),n.moveTo(t[0],t[1]);for(let t=1;t<e.length;t++)n.lineTo(e[t][0],e[t][1]);n.lineTo(t[0],t[1]),n.doFill&&n.fill(),n.doStroke&&n.stroke(),n.closePath()}},n.quad=function(t,e,n,r){var o=x.C.workingContext;o.beginPath(),o.moveTo(t[0],t[1]),o.lineTo(e[0],e[1]),o.lineTo(n[0],n[1]),o.lineTo(r[0],r[1]),o.lineTo(t[0],t[1]),o.doFill&&o.fill();o.doStroke&&o.stroke();o.closePath()},n.quadraticCurve=function(){var t=x.C.workingContext,e=arguments;4==e.length?t.quadraticCurveTo(e[0],e[1],e[2],e[3]):6==e.length&&(t.beginPath(),t.moveTo(e[0],e[1]),t.quadraticCurveTo(e[2],e[3],e[4],e[5]),(0,c.doFillAndStroke)(t))},n.rect=r,n.regularPolygon=o,n.regularPolygonWithRadius=a,n.sector=function(t,e,n,r=Math.PI/2,o=0){var i=x.C.workingContext;i.beginPath(),i.moveTo(t,e),i.arc(t,e,n,o,o+r),i.lineTo(t,e),(0,c.doFillAndStroke)(i)},n.smoothCurveThroughPoints=function(t,e=1,n=!0,r=0){var o=x.C.workingContext;o.beginPath(),o.moveTo(t[0][0],t[0][1]),i(t,e,n,r),o.doFill&&n&&o.fill();o.doStroke&&o.stroke();o.closePath()},n.smoothCurveThroughPointsTo=i,n.square=function(t,e,n){r(t,e,n,n)},n.triangle=function(t,e,n){var r=x.C.workingContext;r.beginPath(),r.moveTo(t[0],t[1]),r.lineTo(e[0],e[1]),r.lineTo(n[0],n[1]),r.lineTo(t[0],t[1]),r.doFill&&r.fill();r.doStroke&&r.stroke();r.closePath()};var x=t("../main.js"),l=t("../math/points.js"),c=t("../utils.js");function f(t,e,n,r,o=1){return[e[0]+(n[0]-t[0])/6*o,e[1]+(n[1]-t[1])/6*o,n[0]-(r[0]-e[0])/6*o,n[1]-(r[1]-e[1])/6*o]}function i(e,n=1,r=!0,o=0){for(let t=0;t<e.length-1-o;t++){var i=0!=t?e[t-1]:e[0],a=e[t],s=e[t+1],i=f(i,a,s,t!=e.length-2?e[t+2]:r?e[1]:s,n);x.C.workingContext.bezierCurveTo(i[0],i[1],i[2],i[3],s[0],s[1])}}function r(t,e,n,r){var o=x.C.workingContext;o.beginPath(),o.rect(t,e,n,r),o.doFill&&o.fill(),o.doStroke&&o.stroke(),o.closePath()}function o(t,e,n,r,o=0){a(t,e,n,r/(2*Math.sin(Math.PI/n)),o)}function a(t,e,n,r,o=0){let i=0,a=2*Math.PI/n,s=x.C.workingContext;o+=a/2;var l=[Math.cos(o)*r+t,Math.sin(o)*r+e];for(s.beginPath(),s.moveTo(l[0],l[1]);i++<n;)s.lineTo(Math.cos(i*a+o)*r+t,Math.sin(i*a+o)*r+e);s.lineTo(l[0],l[1]),s.closePath(),s.doFill&&s.fill(),s.doStroke&&s.stroke()}},{"../main.js":17,"../math/points.js":20,"../utils.js":32}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lens=function(t,e,n,r){var o=(0,f.circleIntersection)(t,e,n,r),i=o[0],o=o[1],a=Math.atan2(i[1]-t[1],i[0]-t[0]),s=Math.atan2(o[1]-t[1],o[0]-t[0]),i=Math.atan2(i[1]-n[1],i[0]-n[0]),o=Math.atan2(o[1]-n[1],o[0]-n[0]),l=c.C.workingContext;l.beginPath(),l.arc(t[0],t[1],e,a,s),l.arc(n[0],n[1],r,o,i),l.doStroke&&l.stroke();l.doFill&&l.fill();l.closePath()},n.polygonWithRatioOfCentralAngles=function(t,e,n,r,o=0){Array.isArray(r)||console.error("ratio provided is not array");var i=r.reduce((t,e)=>t+e,0),a=2*Math.PI/i,s=c.C.workingContext;s.save(),s.translate(t,e),s.rotate(o),s.beginPath(),s.moveTo(n,0);for(let t=0;t<r.length;t++)s.rotate(a*r[t]),s.lineTo(n,0);s.doStroke&&s.stroke();s.doFill&&s.fill();s.closePath(),s.restore()};var c=t("../main.js"),f=t("../math/points.js")},{"../main.js":17,"../math/points.js":20}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getImageFromTex=f,n.tex=function(t,n,r){let o=f(t),i=c.C.workingContext,a=i.textAlign,s=i.textBaseline;return o.onload=function(){i.save();var{width:t,height:e}=o;switch(a){case l.CENTER:i.translate(-t/2,0);break;case l.RIGHT:i.translate(-t,0)}switch(s){case"middle":i.translate(0,e/2);break;case"bottom":i.translate(0,e)}i.yAxisInverted&&(i.scale(1,-1),r*=-1),i.drawImage(o,n||0,r||0),i.restore()},o};var l=t("../constants/drawing.js"),c=t("../main.js");function f(t){if("object"!=typeof window.MathJax||"function"!=typeof window.MathJax.tex2svg)throw new Error("MathJax is not found. Please include it.");var e=c.C.workingContext,t=window.MathJax.tex2svg(t).getElementsByTagName("svg")[0],n=t.getElementsByTagName("g")[0],n=(t.style.verticalAlign="1ex",t.style.fontSize=parseFloat(e.font)+"px",n.setAttribute("stroke",e.strokeStyle),n.setAttribute("fill",e.fillStyle),t.outerHTML),e=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),t=(window.URL||window.webkitURL).createObjectURL(e),n=new Image;return n.src=t,n}},{"../constants/drawing.js":12,"../main.js":17}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fillText=function(t,e=0,n=0,r=void 0){var o=i.C.workingContext;o.yAxisInverted&&((0,a.scale)(1,-1),n*=-1);o.fillText(t,e,n,r),o.yAxisInverted&&(0,a.scale)(1,-1)},n.strokeText=function(t,e=0,n=0,r=void 0){var o=i.C.workingContext;o.yAxisInverted&&((0,a.scale)(1,-1),n*=-1);o.strokeText(t,e,n,r),o.yAxisInverted&&(0,a.scale)(1,-1)},n.text=function(t,e=0,n=0,r=void 0){var o=i.C.workingContext;o.yAxisInverted&&((0,a.scale)(1,-1),n*=-1);o.doFill?o.fillText(t,e,n,r):o.doStroke&&o.strokeText(t,e,n,r);o.yAxisInverted&&(0,a.scale)(1,-1)};var i=t("../main.js"),a=t("../settings.js")},{"../main.js":17,"../settings.js":31}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.background=function(...t){var t=(0,r.readColor)(t).hex8,e=u.C.workingContext;e.background=t,e.save(),o(),e.fillStyle=t,e.fillRect(0,0,e.canvas.width,e.canvas.height),e.restore()},n.clear=function(t,e,n,r){var o=u.C.workingContext,i=u.C.dpr;t=t||0,e=e||0,n=n||o.canvas.width,r=r||o.canvas.height,o.save(),o.setTransform(i,0,0,i,0,0),o.clearRect(t,e,n,r),o.restore()},n.cssBackground=function(t){"string"!=typeof t&&(t=s());var e=u.C.workingContext.canvas.style;e.background="url('"+t+"')",e.backgroundPosition="center",e.backgroundSize="cover"},n.endShape=function(){var t=u.C.workingContext;t.closePath(),t.pathStarted=!1},n.fill=function(...t){var e=u.C.workingContext;0!==arguments.length?(e.fillStyle=(0,r.readColor)(t).hex8,e.doFill=!0):e.fill()},n.fontFamily=function(t){var e=u.C.workingContext;e.fontFamily=t,e.font=a(!0)},n.fontSize=function(t){var e=u.C.workingContext;t="number"==typeof t?t+"px":t,e.fontSize=t,e.font=a(!0)},n.fontStretch=function(t){var e=u.C.workingContext;e.fontStretch=t,e.font=a(!0)},n.fontStyle=function(t){var e=u.C.workingContext;e.fontStyle=t,e.font=a(!0)},n.fontVariant=function(t){var e=u.C.workingContext;e.fontVariant=t,e.font=a(!0)},n.fontWeight=function(t){var e=u.C.workingContext;e.fontWeight=t,e.font=a(!0)},n.getCanvasData=s,n.getContextStates=m,n.getFont=a,n.lineCap=function(t){u.C.workingContext.lineCap=t},n.lineDash=function(){u.C.workingContext.setLineDash([...arguments])},n.lineHeight=function(t){var e=u.C.workingContext;e.lineHeight=t,e.font=a(!0)},n.lineJoin=function(t){u.C.workingContext.lineJoin=t},n.lineTo=function(t,e){u.C.workingContext.lineTo(t,e)},n.loop=i,n.measureText=function(t){return u.C.workingContext.measureText(t)},n.moveTo=function(t,e){u.C.workingContext.moveTo(t,e)},n.noFill=function(){u.C.workingContext.doFill=!1},n.noLoop=function(n,r){let o=u.C.workingContext;n?o=u.C.contextList[n]:n=o.name;if(clearInterval(o.currentLoop),window.cancelAnimationFrame(o.currentLoop),o.currentLoop=void 0,u.C.debugAnimations){let t=`${n}: ${o.currentLoopName} %cfinished`,e=[g.finished];null!=r&&(t+=`%c in %c${r.toFixed(3)}ms`,e.push(g.keyword,g.number)),console.log(t,...e),u.C._ANIMATIONLOG_.push({canvas:o,animationName:o.currentLoopName,state:"finished",endTime:r})}0<o.delayedAnimations.length&&i((n=o.delayedAnimations.shift()).name,n.functionToRun,n.canvasName,n.timeDelay,n.timeDelaysToRememberm,n.settings,n.dur)},n.noStroke=function(){u.C.workingContext.doStroke=!1},n.putImageData=function(){u.C.workingContext.putImageData(...arguments)},n.rest=o,n.restore=function(){(0,d.defineProperties)(u.C.workingContext.savedStates,u.C.workingContext),u.C.workingContext.restore()},n.rotate=function(t){var e=u.C.workingContext;e.rotate(t),e.netRotation=(e.netRotation+t)%Math.PI*2},n.save=function(){u.C.workingContext.savedStates=m(),u.C.workingContext.save()},n.saveCanvas=function(t="drawing",e="image/png"){var e=s().replace(e,"image/octet-stream"),n=document.createElement("a");n.download=t+".png",n.href=e,n.click()},n.scale=function(t,e=t){u.C.workingContext.scale(t,e),e<0&&(u.C.workingContext.yAxisInverted=!0)},n.setImageSmoothing=function(t){u.C.workingContext.imageSmoothingEnabled=!!t},n.startShape=function(){var t=u.C.workingContext;t.beginPath(),t.pathStarted=!0},n.stroke=function(...t){var e=u.C.workingContext;0<arguments.length?(e.strokeStyle=(0,r.readColor)(t).hex8,e.doStroke=!0):e.stroke()},n.strokeWidth=function(t){u.C.workingContext.lineWidth=Number(t)},n.textAlign=function(t){u.C.workingContext.textAlign=t},n.textBaseline=function(t){u.C.workingContext.textBaseline=t},n.transform=function(t,e,n,r,o,i){var a=u.C.workingContext;{if(null==t)return u.C.workingContext.getTransform();t instanceof DOMMatrix?a.setTransform(t.a,t.b,t.c,t.d,t.e,t.f):a.setTransform(t||0,e||0,n||0,r||0,o||0,i||0)}a.scale(u.C.dpr,u.C.dpr)},n.translate=function(t,e=0){u.C.workingContext.translate(t,e)};var r=t("./color/color_reader.js"),u=t("./main.js"),d=t("./utils.js");let h={loop:1},g={number:"color: #9afcad;",keyword:"color: #adacdf;",running:"color: yellow;",delayed:"color: orange;",finished:"color: #3aff5f;"};function o(){u.C.workingContext.setTransform(u.C.dpr,0,0,u.C.dpr,0,0)}function m(t){t=u.C.contextList[t]||u.C.workingContext;return{background:t.background,colorMode:t.colorMode,strokeStyle:t.strokeStyle,fillStyle:t.fillStyle,lineWidth:t.lineWidth,doStroke:t.doStroke,doFill:t.doFill,pathStarted:t.pathStarted,yAxisInverted:t.yAxisInverted,netRotation:t.netRotation,fontStyle:t.fontStyle,fontVariant:t.fontVariant,fontWeight:t.fontWeight,fontStretch:t.fontStretch,fontSize:t.fontSize,lineHeight:t.lineHeight,fontFamily:t.fontFamily,font:t.font,textAlign:t.textAlign,textBaseline:t.textBaseline,events:t.events}}function i(n,r,o,t,i=100,a={},s){let l,c=("function"==typeof n&&(n=h.loop++,r=arguments[0],o=arguments[1],t=arguments[2],a=arguments[3],s=arguments[4]),o?l=u.C.contextList[o]:(l=u.C.workingContext,o=l.name),l.timeDelayList=[],l.totalTimeCaptured=0,Object.assign(m(o)||{},a));if(null!=l.currentLoop)u.C.debugAnimations&&(console.log(o+": "+n+" %cdelayed",g.delayed),u.C._ANIMATIONLOG_.push({canvas:l,animationName:n,state:"delayed",settings:c})),l.delayedAnimations.push({name:n,settings:c,functionToRun:r,canvasName:o,timeDelay:t,timeDelaysToRemember:i,dur:s});else{if(u.C.debugAnimations){let t=o+`: ${n} %crunning`,e=[g.running];null!=s&&(t+=`%c for %c${s}ms`,e.push(g.keyword,g.number)),u.C._ANIMATIONLOG_.push({canvas:l,animationName:n,state:"running",settings:c,dur:s}),console.log(t,...e)}l.recentTimeStamp=window.performance.now(),l.timeStart=window.performance.now(),isNaN(t)?function t(){l.currentLoop=window.requestAnimationFrame(t);u.C.workingContext=l;let e=m(o);a&&(0,d.defineProperties)(c,u.C.workingContext);r(window.performance.now()-l.timeStart,f());a&&(0,d.defineProperties)(e,u.C.workingContext)}():(l.currentLoopName=n,l.currentLoop=setInterval(function(){u.C.workingContext=l;var t=m(o);(0,d.defineProperties)(c,u.C.workingContext),r(window.performance.now()-l.timeStart,f()),(0,d.defineProperties)(t,u.C.workingContext)},t))}function f(){var t=window.performance.now(),e=t-l.recentTimeStamp;return l.recentTimeStamp=t,l.timeDelayList.push(e),l.totalTimeCaptured+=e,l.timeDelayList.length>i&&(l.totalTimeCaptured-=l.timeDelayList.shift()),l.timeDelayList.length/(l.totalTimeCaptured/1e3)}}function a(t=!1){var e,n,r,o,i,a,s=u.C.workingContext;return t?({fontStyle:t,fontVariant:e,fontWeight:n,fontStretch:r,fontSize:o,lineHeight:i,fontFamily:a}=s,t+` ${e} ${n} ${r} ${o}/${i} `+a):s.font}function s(t="image/png"){return u.C.workingContext.canvas.toDataURL(t)}},{"./color/color_reader.js":6,"./main.js":17,"./utils.js":32}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.applyDefault=u,n.approximateIndexInArray=function(e,n,r=1e-6){for(let t=0;t<n.length;t++){var o=n[t];if(Math.abs(o-e)<=r)return t}return-1},n.arange=function(e,n,r,t=!1){var o=[];if(t)for(let t=n;t>=e;t-=r)o.push(t);else for(let t=e;t<=n;t+=r)o.push(t);return o},n.defineProperties=function(t,e=window,n=!1){Object.assign(e,t),n&&Object.assign(r.C.functions,t)},n.doFillAndStroke=function(t){t.doFill&&t.fill();t.doStroke&&t.stroke()},n.fraction=function(t,e,n=!0,r=!0,o=""){n&&(n=(0,a.gcd)(t,e),t/=n,e/=n);let i="";i=0==t?"0":1==e?t+o:r?`\\frac{${t=1==t&&""!=o?"":t}${o}}{${e}}`:`\\frac{${t}}{${e}}`+o;return i},n.latexToImg=function(i){return new Promise((e,t)=>{var n=MathJax.tex2svg(""+i,{em:10,ex:5,display:!0}).getElementsByTagName("svg")[0];let r={svg:"",img:""};r.svg=n.outerHTML;var o=new Image;o.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(r.svg))),o.onload=function(){var t=document.createElement("canvas");t.width=o.width,t.height=o.height,t.getContext("2d").drawImage(o,0,0),r.img=t.toDataURL("image/png"),e(r.img)},o.onerror=function(){t()}})},n.type=void 0;var a=t("./c.js"),r=t("./main.js");const f=t=>Object.prototype.toString.call(t).slice(8,-1);function u(n,r={},o=!0){r=Object.clone(r);for(let t=0,e=Object.keys(n);t<e.length;t++){var i=e[t],a=n[i],s=r[i],l=f(a),c=f(s);"Object"==l&&o&&(r[i]=u(a,s,o)),"Undefined"!=l&&"Null"!=l&&c!==l&&(r[i]=n[i])}return r}n.type=f,Object.clone=Object.clone||function(n){var r={};for(let t=0,e=Object.keys(n);t<e.length;t++){var o=n[e[t]];r[e[t]]=o}return r},window.applyDefault=u},{"./c.js":4,"./main.js":17}]},{},[14]);
//# sourceMappingURL=c.core.min.js.map