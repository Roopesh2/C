(function(){var m=m||{};m.scope={};m.ASSUME_ES5=!1;m.ASSUME_NO_NATIVE_MAP=!1;m.ASSUME_NO_NATIVE_SET=!1;m.SIMPLE_FROUND_POLYFILL=!1;m.ISOLATE_POLYFILLS=!1;m.FORCE_POLYFILL_PROMISE=!1;m.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;m.defineProperty=m.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
m.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};m.global=m.getGlobal(this);m.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");m.TRUST_ES6_POLYFILLS=!m.ISOLATE_POLYFILLS||m.IS_SYMBOL_NATIVE;m.polyfills={};m.propertyToPolyfillSymbol={};
m.POLYFILL_PREFIX="$jscp$";m.polyfill=function(a,b,c,d){b&&(m.ISOLATE_POLYFILLS?m.polyfillIsolated(a,b,c,d):m.polyfillUnisolated(a,b,c,d))};m.polyfillUnisolated=function(a,b){var c=m.global;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&m.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
m.polyfillIsolated=function(a,b,c){var d=a.split(".");a=1===d.length;var e=d[0];e=!a&&e in m.polyfills?m.polyfills:m.global;for(var f=0;f<d.length-1;f++){var h=d[f];if(!(h in e))return;e=e[h]}d=d[d.length-1];c=m.IS_SYMBOL_NATIVE&&"es6"===c?e[d]:null;b=b(c);null!=b&&(a?m.defineProperty(m.polyfills,d,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===m.propertyToPolyfillSymbol[d]&&(a=1E9*Math.random()>>>0,m.propertyToPolyfillSymbol[d]=m.IS_SYMBOL_NATIVE?m.global.Symbol(d):m.POLYFILL_PREFIX+a+"$"+
d),m.defineProperty(e,m.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:b})))};m.polyfill("globalThis",function(a){return a||m.global},"es_2020","es3");m.polyfill("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}},"es7","es3");
const ba={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};let ca=/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,da=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,ea=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,fa=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,ia=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,ja=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(?:(\d+(?:\.\d+)?)|(?:\.\d+))\)$/i;
function u(...a){var b;Array.isArray(a[0])&&(a=a[0]);let c=a[0];if("number"===typeof c)1===a.length?b=[c,c,c,1]:2===a.length?b=[c,a[1],0,1]:3===a.length?b=[c,a[1],a[2],1]:4===a.length&&(b=[c,a[1],a[2],a[3]]);else if("string"==typeof c)if(b=c.replace(/\s/g,"").toLowerCase(),ba[b])b=ba[b],b=[parseInt(b.substr(1,2),16),parseInt(b.substr(3,2),16),parseInt(b.substr(5,2),16),1];else if(ca.test(b))b=ca.exec(b).slice(1).map(f=>parseInt(f+f,16)),b[3]=1;else if(ea.test(b))b=ea.exec(b).slice(1).map(f=>parseInt(f,
16)),b[3]=1;else if(da.test(b))b=da.exec(b).slice(1).map(f=>parseInt(f+f,16)),b[3]/=255;else if(fa.test(b))b=fa.exec(b).slice(1).map(f=>parseInt(f,16)),b[3]/=255;else if(ia.test(b))b=ia.exec(b).slice(1).map(f=>parseInt(f,10)),b[3]=1;else if(ja.test(b))b=ja.exec(b).slice(1).map((f,h)=>3==h?parseFloat(f):parseInt(f,10));else throw Error("Cannot convert given value to color: "+b);else return b=c,{rgbaA:b,rgba:b,hex6:b,hex8:b,hex:b,hsl:b};a=b[3];b[3]*=255;let d="#";b.map((f,h)=>{3>h&&(f=Math.round(f).toString(16),
d+=1==f.length?"0"+f:f)});let e="#";b.map((f,h)=>{4>h&&(f=Math.round(f).toString(16),e+=1==f.length?"0"+f:f)});b[3]=a;return{rgbaA:b,rgba:`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]})`,hex6:d,hex8:e,hex:e,hsl:`hsl(${b[0]}, ${b[1]}, ${b[2]})`}}var ka={};ka.readColor=u;function y(a,b,c={}){var d={width:200,height:200,dpr:Math.ceil(globalThis.devicePixelRatio||1),doFill:!0,doStroke:!0,pathStarted:!1,yAxisInverted:!1,xAxisInverted:!1,pauseAnimations:!1,netRotation:0,currentLoop:void 0,currentLoopName:void 0,textAlign:"start",textBaseline:"alphabetic",fillStyle:"#ffffff",background:"#ffffff",strokeStyle:"#000000",colorMode:"rgba",lineWidth:1,fontSize:"20px",fontFamily:"serif",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",lineHeight:1.2,
font:"20px serif",events:{}};c=C(d,c);var e;"string"===typeof b?b=document.querySelector(b):b instanceof HTMLElement||(b=document.body);let f=(e=b.querySelector("canvas"))&&e.id==c.name;e=f?e:y.makeCanvas(c);"number"!==typeof b.CID&&(b.CID=1);let h=b.CID,g=b.id||b.classList.item(0),k=c.name||e.name;"string"!=typeof k&&(k=g+"-C-"+h,c.name=k);e.id=k;e.classList.add(k);b.appendChild(e);f?y.workingContext=e.context:(y.resizeCanvas(e,c),b=e.getContext("2d"),F(c,b),e.context=b,e.context.setTransform(c.dpr,
0,0,c.dpr,0,0),y.workingContext=e.context,y.workingContext.savedStates=d,y.workingContext.delayedAnimations=[]);y.contextList[k]=e.context;d={};for(let l in c.events)if(b=c.events[l])e.addEventListener(l,b),d[l]=b;e.events=d;y.dpr=c.dpr;y.workingCanvas=e;a()}y.contextList={};y.nameID=0;y.getWindowWidth=function(a=document.body){a=globalThis.getComputedStyle(a);return parseInt(a.width,10)-parseInt(a.paddingRight,10)-parseInt(a.paddingLeft,10)};
y.resizeCanvas=function(a,b){const c=b.width,d=b.height;b=b.dpr||globalThis.devicePixelRatio;a.style.width=c+"px";a.style.height=d+"px";a.width=b*c;a.height=b*d;a.rWidth=c;a.rHeight=d};y.makeCanvas=function(a){const b=document.createElement("canvas");y.resizeCanvas(b,a);return b};y.addExtension=function(a){F(a,globalThis);F(a,y.extensions,!1)};y.debugAnimations=!1;y.extensions={};y.debug=function(a){y.debugAnimations="boolean"!==typeof a?!0:a};y.getCanvas=function(a){return y.contextList[a]||y.workingContext};
y._ANIMATIONLOG_=[];y.functions={};y.COLORLIST={};(function(a){let b=Object.keys(a);for(let c=0;c<b.length;c++){let d=b[c];Object.defineProperty(globalThis,d,{configurable:!0,enumerable:!0,get:a[d],set:function(e){Object.defineProperty(globalThis,d,{configurable:!0,enumerable:!0,value:e,writable:!0})}})}})({CENTERX:function(){return y.workingCanvas.rWidth/2},CENTERY:function(){return y.workingCanvas.rHeight/2}});globalThis.C=y;let ma={loop:1},G={number:"color: #9afcad;",keyword:"color: #adacdf;",running:"color: yellow;",delayed:"color: orange;",finished:"color: #3aff5f;"};function oa(a,b){y.workingContext.scale(a,void 0===b?a:b)}function pa(){y.workingContext.savedStates=qa();y.workingContext.save()}function ra(){F(y.workingContext.savedStates,y.workingContext);y.workingContext.restore()}function sa(){y.workingContext.setTransform(y.dpr,0,0,y.dpr,0,0)}
function ta(...a){let b=y.workingContext;0<arguments.length?(b.strokeStyle=u(a).hex8,b.doStroke=!0):b.stroke()}function ua(...a){let b=y.workingContext;0!==arguments.length?(b.fillStyle=u(a).hex8,b.doFill=!0):b.fill()}
function qa(a){a=y.contextList[a]||y.workingContext;return{background:a.background,colorMode:a.colorMode,strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,doStroke:a.doStroke,doFill:a.doFill,pathStarted:a.pathStarted,yAxisInverted:a.yAxisInverted,xAxisInverted:a.xAxisInverted,netRotation:a.netRotation,fontStyle:a.fontStyle,fontVariant:a.fontVariant,fontWeight:a.fontWeight,fontStretch:a.fontStretch,fontSize:a.fontSize,lineHeight:a.lineHeight,fontFamily:a.fontFamily,font:a.font,
textAlign:a.textAlign,textBaseline:a.textBaseline,events:a.events}}
function va(a,b,c,d,e,f,h){function g(){l.currentLoop=globalThis.requestAnimationFrame(g);y.workingContext=l;let n=qa(c);f&&F(p,y.workingContext);b(performance.now()-l.timeStart,k());f&&F(n,y.workingContext)}function k(){let n=performance.now(),q=n-l.recentTimeStamp;l.recentTimeStamp=n;l.timeDelayList.push(q);l.totalTimeCaptured+=q;l.timeDelayList.length>e&&(l.totalTimeCaptured-=l.timeDelayList.shift());return l.timeDelayList.length/(l.totalTimeCaptured/1E3)}e=void 0===e?100:e;f=void 0===f?{}:f;let l;
"function"==typeof a&&(f=d=c=b=a=ma.loop++,h=e);c?l=y.contextList[c]:(l=y.workingContext,c=l.name);l.timeDelayList=[];l.totalTimeCaptured=0;let p=Object.assign(qa(c)||{},f);if(void 0!=l.currentLoop)y.debugAnimations&&(console.log(c+": "+a+" %cdelayed",G.delayed),y._ANIMATIONLOG_.push({canvas:l,animationName:a,state:"delayed",settings:p})),l.delayedAnimations.push({name:a,settings:p,functionToRun:b,canvasName:c,timeDelay:d,timeDelaysToRemember:e,dur:h});else{if(y.debugAnimations){let n=`${c}: ${a} %crunning`,
q=[G.running];void 0!=h&&(n+=`%c for %c${h}ms`,q.push(G.keyword,G.number));y._ANIMATIONLOG_.push({canvas:l,animationName:a,state:"running",settings:p,dur:h});console.log(n,...q)}l.recentTimeStamp=performance.now();l.timeStart=performance.now();isNaN(d)?g():(l.currentLoopName=a,l.currentLoop=setInterval(function(){y.workingContext=l;let n=qa(c);F(p,y.workingContext);b(performance.now()-l.timeStart,k());F(n,y.workingContext)},d))}}
function wa(a,b){let c=y.workingContext;a?c=y.contextList[a]:a=c.name;clearInterval(c.currentLoop);globalThis.cancelAnimationFrame(c.currentLoop);c.currentLoop=void 0;if(y.debugAnimations){a=`${a}: ${c.currentLoopName} %cfinished`;let d=[G.finished];void 0!=b&&(a+=`%c in %c${b.toFixed(3)}ms`,d.push(G.keyword,G.number));console.log(a,...d);y._ANIMATIONLOG_.push({canvas:c,animationName:c.currentLoopName,state:"finished",endTime:b})}0<c.delayedAnimations.length&&(b=c.delayedAnimations.shift(),va(b.name,
b.functionToRun,b.canvasName,b.timeDelay,b.timeDelaysToRememberm,b.settings,b.dur))}function xa(){let a=y.workingContext;a.beginPath();a.pathStarted=!0}function za(){let a=y.workingContext;a.closePath();a.pathStarted=!1}function J(a){let b=y.workingContext;if(void 0===a?0:a){let {fontStyle:c,fontVariant:d,fontWeight:e,fontStretch:f,fontSize:h,lineHeight:g,fontFamily:k}=b;return`${c} ${d} ${e} ${f} ${h}/${g} ${k}`}return b.font}
function Aa(a){let b=y.workingContext;b.fontSize="number"===typeof a?a+"px":a;b.font=J(!0)}function Fa(a){let b=y.workingContext;b.fontFamily=a;b.font=J(!0)}function Ga(a){return y.workingContext.canvas.toDataURL(void 0===a?"image/png":a)}function Ha(a){y.workingContext.textAlign=a}function Ia(a){y.workingContext.textBaseline=a}
var K={background:function(...a){a=u(a).hex8;let b=y.workingContext;b.background=a;b.save();sa();b.fillStyle=a;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.restore()},clear:function(a,b,c,d){let e=y.workingContext,f=y.dpr;a=a||0;b=b||0;c=c||e.canvas.width;d=d||e.canvas.height;e.save();e.setTransform(f,0,0,f,0,0);e.clearRect(a,b,c,d);e.restore()},cssBackground:function(a){"string"!=typeof a&&(a=Ga());let b=y.workingContext.canvas.style;b.background="url('"+a+"')";b.backgroundPosition="center";
b.backgroundSize="cover"}};K.endShape=za;K.fill=ua;K.fontFamily=Fa;K.fontSize=Aa;K.fontStretch=function(a){let b=y.workingContext;b.fontStretch=a;b.font=J(!0)};K.fontStyle=function(a){let b=y.workingContext;b.fontStyle=a;b.font=J(!0)};K.fontVariant=function(a){let b=y.workingContext;b.fontVariant=a;b.font=J(!0)};K.fontWeight=function(a){let b=y.workingContext;b.fontWeight=a;b.font=J(!0)};K.getCanvasData=Ga;K.getContextStates=qa;K.getFont=J;
K.invertXAxis=function(){y.workingContext.scale(-1,1);y.workingContext.xAxisInverted=!0};K.invertYAxis=function(){y.workingContext.scale(1,-1);y.workingContext.yAxisInverted=!0};K.lineCap=function(a){y.workingContext.lineCap=a};K.lineDash=function(){y.workingContext.setLineDash([...arguments])};K.lineHeight=function(a){let b=y.workingContext;b.lineHeight=a;b.font=J(!0)};K.lineJoin=function(a){y.workingContext.lineJoin=a};K.lineTo=function(a,b){y.workingContext.lineTo(a,b)};K.loop=va;
K.measureText=function(a){return y.workingContext.measureText(a)};K.moveTo=function(a,b){y.workingContext.moveTo(a,b)};K.noFill=function(){y.workingContext.doFill=!1};K.noLoop=wa;K.noStroke=function(){y.workingContext.doStroke=!1};K.putImageData=function(){y.workingContext.putImageData(...arguments)};K.rest=sa;K.restore=ra;K.rotate=function(a){let b=y.workingContext;b.rotate(a);b.netRotation=(b.netRotation+a)%Math.PI*2};K.save=pa;
K.saveCanvas=function(a,b){a=void 0===a?"drawing":a;b=void 0===b?"image/png":b;b=Ga().replace(b,"image/octet-stream");let c=document.createElement("a");c.download=a+".png";c.href=b;c.click()};K.scale=oa;K.setImageSmoothing=function(a){y.workingContext.imageSmoothingEnabled=!!a};K.startShape=xa;K.stroke=ta;K.strokeWidth=function(a){y.workingContext.lineWidth=Number(a)};K.textAlign=Ha;K.textBaseline=Ia;
K.transform=function(a,b,c,d,e,f){let h=y.workingContext;if(void 0==a||null==a)return y.workingContext.getTransform();a instanceof DOMMatrix?h.setTransform(a.a,a.b,a.c,a.d,a.e,a.f):h.setTransform(a||0,b||0,c||0,d||0,e||0,f||0);h.scale(y.dpr,y.dpr)};K.translate=function(a,b){y.workingContext.translate(a,void 0===b?0:b)};const Ja=180/Math.PI;var L={};L.DEG=Math.PI/180;L.E=2.718281828459045;L.HALF_PI=1.5707963267948966;L.LN10=2.302585092994046;L.LN2=.6931471805599453;L.PHI=1.618033988749894;L.PI=3.141592653589793;L.QUATER_PI=.7853981633974483;L.RAD=Ja;L.SQRT2=1.4142135623730951;L.TAU=6.283185307179586;L.TIERCE_PI=1.0471975511965976;L.TWO_PI=6.283185307179586;function Ka(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}
var La={HSLToRGB:function(a,b,c){a/=360;if(0===b)c=b=a=c;else{let d=.5>c?c*(1+b):c+b-c*b,e=2*c-d;c=Ka(e,d,a+1/3);b=Ka(e,d,a);a=Ka(e,d,a-1/3)}return[c,b,a]},HSVToRGB:function(a,b,c){let d,e,f,h=Math.floor(a/60),g=a/60-h;a=c*(1-b);let k=c*(1-g*b);b=c*(1-(1-g)*b);h%=6;0==h?(d=c,e=b,f=a):1==h?(d=k,e=c,f=a):2==h?(d=a,e=c,f=b):3==h?(d=a,e=k,f=c):4==h?(d=b,e=a,f=c):5==h&&(d=c,e=a,f=k);return[d,e,f]},RGBToHSL:function(a,b,c){let d=Math.max(a,b,c);var e=Math.min(a,b,c);let f,h=(d+e)/2;if(d===e)f=e=0;else{let g=
d-e;e=.5<h?g/(2-d-e):g/(d+e);d==a?f=(b-c)/g+(b<c?6:0):d==b?f=(c-a)/g+2:d==c&&(f=(a-b)/g+4);f/=6}return[f,e,h]},RGBToHSV:function(a,b,c){let d=Math.max(a,b,c),e=Math.min(a,b,c),f,h=d-e;d===e?f=0:(d==a?f=(b-c)/h+(b<c?6:0):d==b?f=(c-a)/h+2:d==c&&(f=(a-b)/h+4),f/=6);return[f,0===d?0:h/d,d]}};La.hue2RGB=Ka;function Ma(a,b,c){a=u(a).rgbaA;b=u(b).rgbaA;return u(Math.min(Math.max(0,(b[0]-a[0])*c+a[0]),255),Math.min(Math.max(0,(b[1]-a[1])*c+a[1]),255),Math.min(Math.max(0,(b[2]-a[2])*c+a[2]),255),Math.min(Math.max(0,(b[3]-a[3])*c+a[3]),255)).hex8}
var Na={getInterpolatedColorList:function(a,b,c,d){b=void 0===b?0:b;if(2>a.length)throw Error("Atleast 2 colors are needed to create interpolatable object");c=((void 0===c?5:c)-b)/(a.length-1);let e={};for(let f=0;f<a.length;f++){let h=b+f*c,g=u(a[f]).rgbaA;g[3]=isNaN(d)?g[3]:d;e[h]=g}return e}};Na.lerpColor=Ma;Na.lerpColorArray=function(a,b,c,d){c=void 0===c?0:c;d=void 0===d?1:d;let e=a.length-1;if(b>=d)return a[e];if(b<=c)return a[0];b=(b-c)/(d-c)*e;c=Math.floor(b);return Ma(a[c],a[c+1],b-c)};
Na.lerpColorObject=function(a,b){const c=Object.keys(a||{}).sort();var d=Math.min(...c),e=Math.max(...c);let f="#000000";if(b>=e)return a[e];if(b<=d)return a[d];for(d=0;d<c.length-1;d++)if(e=c[d],b>e){f=Ma(a[e],a[c[d+1]],(b-e)/(c[d+1]-e));break}else if(b==e){f=a[e];break}return f};function Oa(a=10,b=0){return Math.round(Math.random()*(a-b)+b)}var Pa={};Pa.randomInt=Oa;let Qa=Object.keys(ba);const Ra=Qa.indexOf("TRANSPARENT");Qa=Qa.slice(0,Ra).concat(Qa.slice(Ra+1));function Sa(a,b,c){var d=new Image;d.src=a;"function"==typeof b&&d.addEventListener("load",()=>b(d),!1);"function"==typeof c&&d.addEventListener("error",e=>c(e,d),!1);return d}var Ta={drawImage:function(a){let b=y.workingContext,c,d;6>arguments.length?(c=arguments[1],d=arguments[2]):(c=arguments[5],d=arguments[6]);b.save();b.translate(c,d);b.yAxisInverted&&b.scale(1,-1);b.XAxisInverted&&b.scale(-1,1);b.drawImage(a,0,0,...Array.prototype.slice.call(arguments,3));b.restore()}};Ta.loadImage=Sa;
Ta.loadImagePromise=function(a){return new Promise((b,c)=>{Sa(a,b,c)})};Ta.pixel=function(a,b,c,d){let e=y.workingContext;c&&(e.fillStyle=c);d||(d=1/y.dpr);e.fillRect(a,b,d,d)};function Va(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function Wa(a,b,c,d=10){Array.isArray(a)&&2===a.length&&(b=a[1],a=a[0]);return[Math.cos(c)*d+a,Math.sin(c)*d+b]}function Xa(a,b,c,d){b=(b[1]-a[1])/(b[0]-a[0]);d=(d[1]-c[1])/(d[0]-c[0]);a=a[1]-a[0]*b;c=(c[1]-c[0]*d-a)/(b-d);return[c,b*c+a]}
function ab(a,b,c,d){const e=Va(a,c);d=(b*b-d*d+e*e)/(2*e);b=Math.sqrt(b*b-d*d);d/=e;d=[(c[0]-a[0])*d+a[0],(c[1]-a[1])*d+a[1]];return[[d[0]+b*(c[1]-a[1])/e,d[1]-b*(c[0]-a[0])/e],[d[0]-b*(c[1]-a[1])/e,d[1]+b*(c[0]-a[0])/e]]}function bb(a,b,c=10){let d=b[0]-a[0],e=b[1]-a[1];b=Math.atan2(e,d);c=Math.sqrt(d*d+e*e)+c;return[a[0]+Math.cos(b)*c,a[1]+Math.sin(b)*c]}var M={};M.circleIntersection=ab;M.dist=Va;M.extendFromOrigin=function(a,b=10){return bb([0,0],a,b)};M.extendFromPoint=bb;
M.lineIntersection=Xa;M.rotateAroundOrigin=function(a,b=10){return Wa(0,0,a,b)};M.rotateAroundPoint=Wa;function cb(a,b=0,c=0,d){let e=y.workingContext;e.save();e.translate(b,c);e.yAxisInverted&&e.scale(1,-1);e.xAxisInverted&&e.scale(-1,1);e.fillText(a,0,0,d);e.restore()}var db={};db.fillText=cb;db.strokeText=function(a,b=0,c=0,d){let e=y.workingContext;e.save();e.translate(b,c);e.yAxisInverted&&e.scale(1,-1);e.xAxisInverted&&e.scale(-1,1);e.strokeText(a,0,0,d);e.restore()};
db.text=function(a,b=0,c=0,d){let e=y.workingContext;e.save();e.translate(b,c);e.yAxisInverted&&e.scale(1,-1);e.xAxisInverted&&e.scale(-1,1);e.doFill?e.fillText(a,0,0,d):e.doStroke&&e.strokeText(a,0,0,d);e.restore()};function N(a,b,c,d,e,f){let h=y.workingContext,g=h.lineWidth;var k=Math.sqrt(Math.pow(a-c,2)+Math.pow(b-d,2));isNaN(e)&&(e=k);f=f||e/1.2;let l=e-k;var p=Math.sqrt(Math.pow(l,2)+Math.pow(f/2,2));f=Math.atan(f/(2*l));k>e&&(f+=Math.PI);e=Math.atan2(d-b,c-a);k=[a-Math.cos(f+e)*p,b-Math.sin(f+e)*p];p=[a-Math.cos(-f+e)*p,b-Math.sin(-f+e)*p];h.doStroke&&"bevel"!=h.lineJoin&&(c-=Math.cos(e)*g,d-=Math.sin(e)*g);h.save();h.pathStarted||h.beginPath();h.moveTo(a,b);h.lineTo(k[0],k[1]);h.lineTo(c,d);h.lineTo(p[0],
p[1]);h.lineTo(a,b);h.pathStarted||(Q(h),h.closePath());h.restore()}function eb(a,b,c,d,e,f,h,g){e=void 0===e?15:e;f=void 0===f?e/1.2:f;h=void 0===h?0:h;g=void 0===g?0:g;var k=Math.atan2(d-b,c-a),l=Math.sin(k)*g;c-=Math.cos(k)*g;d-=l;g=Math.cos(k)*(e-h);h=Math.sin(k)*(e-h);k=y.workingContext;(l=k.pathStarted)||xa();k.moveTo(a,b);k.lineTo(c-g,d-h);k.stroke();N(c-g,d-h,c,d,e,f);l||(Q(k),za())}
function fb(a,b,c,d,e,f,h,g,k,l){d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;f=void 0===f?15:f;h=void 0===h?f/1.2:h;g=void 0===g?0:g;k=void 0===k?0:k;l=void 0===l?!1:l;const p=y.workingContext,n=f/c;p.save();g=n-g/c;p.beginPath();l?(g+=k,p.arc(a,b,c,g+e,d+e),p.stroke(),p.closePath(),N(a+c*Math.cos(e+g),b+c*Math.sin(e+g),a+c*Math.cos(e+k),b+c*Math.sin(e+k),f,h)):(d-=k,p.arc(a,b,c,e,d-g+e),p.stroke(),p.closePath(),N(a+c*Math.cos(e+d-g),b+c*Math.sin(e+d-g),a+c*Math.cos(e+d),b+c*Math.sin(e+d),f,h));p.restore()}
var S={};S.arrow=eb;S.arrowTip=N;S.curvedArrow=fb;S.curvedArrowBetweenPoints=function(a,b,c,d,e,f,h,g,k){d=void 0===d?15:d;e=void 0===e?d/1.2:e;f=void 0===f?0:f;h=void 0===h?0:h;g=void 0===g?!1:g;k=void 0===k?!1:k;const l=y.workingContext,p=l.pathStarted;l.save();p||l.beginPath();const n=ab(a,c,b,c)[0];a[0]-=n[0];a[1]-=n[1];b[0]-=n[0];b[1]-=n[1];a=Math.atan2(a[1],a[0]);b=Math.atan2(b[1],b[0]);g?(g=a,a=b-a):(g=b,a-=b);fb(n[0],n[1],c,a,g,d,e,f,h,k);p||l.closePath();l.restore();return n};
S.curvedDoubleArrow=function(a,b,c,d,e,f,h,g,k){d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;f=void 0===f?15:f;h=void 0===h?f/1.2:h;g=void 0===g?0:g;k=void 0===k?0:k;const l=y.workingContext;l.save();const p=f/c,n=[-Math.cos(e+p/2+Math.PI/2),-Math.sin(e+p/2+Math.PI/2)];e+=p+2*k;fb(a,b,c,d-p+g/c,e-g/c,f,h,g,k);N(Math.cos(e-g/c)*c,Math.sin(e-g/c)*c,Math.cos(e)*c+f*n[0],Math.sin(e)*c+f*n[1],f,h);l.restore()};
S.curvedDoubleArrowBetweenPoints=function(a,b,c,d,e,f,h,g){d=void 0===d?15:d;e=void 0===e?d/1.2:e;f=void 0===f?0:f;h=void 0===h?0:h;g=void 0===g?!1:g;const k=y.workingContext;k.save();const l=ab(a,c,b,c)[0];a[0]-=l[0];a[1]-=l[1];b[0]-=l[0];b[1]-=l[1];const p=d/c;a=Math.atan2(a[1],a[0]);b=Math.atan2(b[1],b[0])+p;g?(g=a,a=b-a):(g=b,a-=b);f/=c;fb(l[0],l[1],c,a+f-h,g-f+h,d,e,f*c,h);f=p-f+h;g-=p;N(l[0]+c*Math.cos(g+f),l[1]+c*Math.sin(g+f),l[0]+c*Math.cos(g+h),l[1]+c*Math.sin(g+h),d,e);k.restore();return l};
S.doubleArrow=function(a,b,c,d,e,f,h,g){e=void 0===e?15:e;f=void 0===f?e/1.2:f;h=void 0===h?0:h;g=void 0===g?0:g;var k=Math.atan2(d-b,c-a);const l=Math.cos(k)*(e-h),p=Math.sin(k)*(e-h),n=Math.sin(k)*g;k=Math.cos(k)*g;xa();a+=l+k;b+=p+n;eb(a,b,c,d,e,f,h,g);N(a,b,a-l,b-p,e,f);Q(y.workingContext);za()};
S.measurement=function(a){const b=y.workingContext;a=C({background:"rgba(0,0,0,0)",tipLength:15,tipBreadth:12.5,innerPadding:3,outerPadding:0,textRotation:0,arrowCurving:0},a);const {p1:c,p2:d}=a;var e=Math.atan2(d[1]-c[1],d[0]-c[0]),{width:f}=b.measureText(a.text);e=[Math.cos(e)*(a.innerPadding+f/2),Math.sin(e)*(a.innerPadding+f/2)];f=[(c[0]+d[0])/2,(c[1]+d[1])/2];eb(f[0]-e[0],f[1]-e[1],c[0],c[1],a.tipLength,a.tipBreadth,a.arrowCurving,a.outerPadding);eb(f[0]+e[0],f[1]+e[1],d[0],d[1],a.tipLength,
a.tipBreadth,a.arrowCurving,a.outerPadding);pa();b.translate(f[0],f[1]);b.textAlign="center";b.textBaseline="middle";b.rotate(Math.atan2(d[1]-c[1],d[0]-c[0])+a.textRotation);cb(a.text,0,0);ra()};function gb(a,b,c,d,e){e=void 0===e?1:e;return[b[0]+(c[0]-a[0])/6*e,b[1]+(c[1]-a[1])/6*e,c[0]-(d[0]-b[0])/6*e,c[1]-(d[1]-b[1])/6*e]}function hb(a,b,c,d){b=void 0===b?1:b;c=void 0===c?!0:c;d=void 0===d?0:d;for(let e=0;e<a.length-1-d;e++){let f=a[e+1],h=gb(0!=e?a[e-1]:a[0],a[e],f,e!=a.length-2?a[e+2]:c?a[1]:f,b);y.workingContext.bezierCurveTo(h[0],h[1],h[2],h[3],f[0],f[1])}}
function ib(a,b,c,d){b=void 0===b?1:b;c=void 0===c?!0:c;d=void 0===d?0:d;let e=y.workingContext;e.beginPath();e.moveTo(a[0][0],a[0][1]);hb(a,b,c,d);e.doFill&&c&&e.fill();e.doStroke&&e.stroke();e.closePath()}function jb(a,b,c,d){let e=y.workingContext;e.beginPath();e.moveTo(a,b);e.lineTo(c,d);e.stroke();e.closePath()}function kb(a,b,c,d){let e=y.workingContext;e.beginPath();e.rect(a,b,c,d);e.doFill&&e.fill();e.doStroke&&e.stroke();e.closePath()}
function lb(a,b,c,d,e){mb(a,b,c,d/(2*Math.sin(Math.PI/c)),void 0===e?0:e)}function mb(a,b,c,d,e){let f=0,h=2*Math.PI/c,g=y.workingContext;e=(void 0===e?0:e)+h/2;let k=[Math.cos(e)*d+a,Math.sin(e)*d+b];g.beginPath();for(g.moveTo(k[0],k[1]);f++<c;)g.lineTo(Math.cos(f*h+e)*d+a,Math.sin(f*h+e)*d+b);g.lineTo(k[0],k[1]);g.closePath();g.doFill&&g.fill();g.doStroke&&g.stroke()}
var T={angle:function(a,b,c,d,e,f,h,g){e=void 0===e?20:e;f=void 0===f?10:f;h=void 0===h?!1:h;g=void 0===g?1:g;var k=Xa(a,b,c,d);let l=k[0];k=k[1];if(isNaN(l)||isNaN(k))throw Error("No intersection point");a=Math.atan2(a[1]-k,a[0]-l);b=Math.atan2(b[1]-k,b[0]-l);c=Math.atan2(c[1]-k,c[0]-l);d=Math.atan2(d[1]-k,d[0]-l);d={1:[b,d],2:[d,a],3:[a,c],4:[c,b]}[g];g=y.workingContext;h?(h=d[1],d=d[0]-d[1]):(h=d[0],d=d[1]-d[0]);g.doFill&&(g.beginPath(),g.moveTo(l,k),g.arc(l,k,e,h,d+h),g.fill(),g.closePath());
g.doStroke&&(g.beginPath(),g.arc(l,k,e,h,d+h),g.stroke(),g.closePath());return{center:[l+(e+f)*Math.cos(h+d/2),k+(e+f)*Math.sin(h+d/2)],ang:d}},annulus:function(a,b,c,d){let e=y.workingContext;e.beginPath();e.arc(a,b,c,0,2*Math.PI,!1);e.moveTo(d,0);e.arc(a,b,d,0,2*Math.PI,!0);Q(e)},annulusSector:function(a,b,c,d,e,f){let h=y.workingContext;h.beginPath();h.arc(a,b,c,f,f+e,!1);h.arc(a,b,d,f+e,f,!0);Q(h)},arc:function(a,b,c,d,e){d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;let f=y.workingContext;f.pathStarted||
f.beginPath();f.arc(a,b,c,e,e+d);f.pathStarted||Q(f)},arcBetweenPoints:function(a,b,c,d,e,f){f=void 0===f?!1:f;a==c&&b==d&&console.error("Can't draw a arc between points. Given points are exactly same");let h=ab([a,b],e,[c,d],e)[0],g=y.workingContext;a=Math.atan2(b-h[1],a-h[0]);c=Math.atan2(d-h[1],c-h[0])-a;g.pathStarted||(g.save(),g.beginPath());g.arc(h[0],h[1],e,a,c+a,!f);g.pathStarted||(Q(g),g.restore());return h},bezier:function(a,b,c,d,e,f){let h=y.workingContext;h.pathStarted||h.beginPath();
h.bezierCurveTo(a,b,c,d,e,f);h.pathStarted||Q(h)},circle:function(a,b,c){let d=y.workingContext;d.beginPath();d.arc(a,b,c,0,2*Math.PI);d.doFill&&d.fill();d.doStroke&&d.stroke()},circularSegment:function(a,b,c,d,e){d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;let f=y.workingContext;f.pathStarted||f.beginPath();f.arc(a,b,c,e,e+d);f.pathStarted||Q(f)},ellipse:function(a,b,c,d,e,f,h){e=void 0===e?0:e;f=void 0===f?0:f;h=void 0===h?2*Math.PI:h;let g=y.workingContext;g.pathStarted||g.beginPath();g.ellipse(a,
b,c,d,e,f,f+h);g.pathStarted||Q(g)},equiTriangle:function(a,b,c,d){lb(a,b,3,c,void 0===d?0:d)}};T.getBezierControlPoints=gb;T.line=jb;T.point=function(a,b,c,d){c=void 0===c?10:c;d=void 0===d?!1:d;let e=y.workingContext;e.beginPath();e.arc(a,b,c/2,0,2*Math.PI);e.fill();d&&e.stroke();e.closePath()};
T.polygon=function(){let a=arguments;if(2<a.length){let b=y.workingContext,c=a[0];b.beginPath();b.moveTo(c[0],c[1]);for(let d=1;d<a.length;d++)b.lineTo(a[d][0],a[d][1]);b.lineTo(c[0],c[1]);b.doFill&&b.fill();b.doStroke&&b.stroke();b.closePath()}};T.quad=function(a,b,c,d){let e=y.workingContext;e.beginPath();e.moveTo(a[0],a[1]);e.lineTo(b[0],b[1]);e.lineTo(c[0],c[1]);e.lineTo(d[0],d[1]);e.lineTo(a[0],a[1]);e.doFill&&e.fill();e.doStroke&&e.stroke();e.closePath()};
T.quadraticCurve=function(){let a=y.workingContext,b=arguments;4==b.length?a.quadraticCurveTo(b[0],b[1],b[2],b[3]):6==b.length&&(a.beginPath(),a.moveTo(b[0],b[1]),a.quadraticCurveTo(b[2],b[3],b[4],b[5]),Q(a))};T.rect=kb;T.regularPolygon=lb;T.regularPolygonWithRadius=mb;T.sector=function(a,b,c,d,e){d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;let f=y.workingContext;f.beginPath();f.moveTo(a,b);f.arc(a,b,c,e,e+d);f.lineTo(a,b);Q(f)};T.smoothCurveThroughPoints=ib;T.smoothCurveThroughPointsTo=hb;
T.square=function(a,b,c){kb(a,b,c,c)};T.triangle=function(a,b,c){let d=y.workingContext;d.beginPath();d.moveTo(a[0],a[1]);d.lineTo(b[0],b[1]);d.lineTo(c[0],c[1]);d.lineTo(a[0],a[1]);d.doFill&&d.fill();d.doStroke&&d.stroke();d.closePath()};const nb={then:function(a){a();return nb}};let ob={parametricFunction:1};const pb=[0,10,.1],qb=[1,1];
function rb(a){function b(){let r=y.workingContext;for(let I=0;I<k.length;I++){let E=k[I];if(e)ib(E,f,g);else{r.beginPath();r.moveTo(E[0][0],E[0][1]);for(let H=1;H<E.length;H++)r.lineTo(E[H][0],E[H][1]);r.closePath();Q(r)}}}a=C({tension:1,unitValue:qb,unitSpace:qb,range:pb,discontinuities:[],smoothen:!0,closed:!1,draw:!0,dur:4E3},a);let {plotter:c,range:d,smoothen:e,tension:f,discontinuities:h,closed:g}=a;Array.isArray(d)&&2==d.length&&d.push((d[1]-d[0])/20);let k=[[]];var l=d[0];let p=d[1],n=d[2];
Array.isArray(h)||(h=[]);let q=0,t=0,v=a.unitSpace[0]/a.unitValue[0],B=a.unitSpace[1]/a.unitValue[1],x=isNaN(a.discontinuityRadius)?n:a.discontinuityRadius;for(n<x&&(x=n/2);l<=p+x;l+=n){if(sb(l,h,x)){sb(l+n,h,x)&&(q++,k.push([]));continue}let r=c(l);k[q].push([r[0]*v,r[1]*B]);t++}a.draw&&b();let w=y.workingContext;return{points:k[0],dur:a.dur,name:"parametric-plot-"+ob.parametricFunction++,closed:a.closed,tension:a.tension||1,smoothen:a.smoothen,rateFunction:a.rateFunction,syncWithTime:a.syncWithTime||
!1,draw:function(r){function I(z){return function(){z>=D.length-2&&(wa(),w.closePath(),w.doFill&&b());let A=D[z],O=D[z+1],P=gb(0<z?D[z-1]:g?D[D.length-2]:D[0],A,O,z!=D.length-2?D[z+2]:g?D[1]:O);z++;w.beginPath();w.moveTo(A[0],A[1]);w.bezierCurveTo(P[0],P[1],P[2],P[3],O[0],O[1]);w.stroke()}}function E(z){return function(){z>=D.length-2&&(wa(),w.doFill&&this.draw());let A=D[z],O=D[++z];jb(A[0],A[1],O[0],O[1])}}r=(void 0===r?2E3:r)/t;let H=e?I:E;for(let z=0;z<k.length;z++){var D=k[z];va("parametric-plot-"+
ob.parametricFunction++,H(0),y.workingContext.name,r)}return nb}}}function tb(a){let b=a.plotter;a.plotter=c=>[c,b(c)];return rb(a)}
function ub(a){function b(x){if(x>=B)return"rgba("+e[B].join()+")";if(x<=v)return"rgba("+e[v].join()+")";for(var w=0;w<q.length-1;w++){let r=q[w],I=q[w+1];if(x>=r&&x<I){w=e[r];let E=e[I];x=g((x-r)/(I-r));return"rgba("+[Math.round((E[0]-w[0])*x+w[0]),Math.round((E[1]-w[1])*x+w[1]),Math.round((E[2]-w[2])*x+w[2]),(E[3]-w[3])*x+w[3]].join()+")"}}}a=C({min:[-4,-4],max:[4,4],colors:{"-5":"#b36e38b0","-3":"#ff9c52b0","-1":"#ffcea9b0",0:"#dcdcddb0",1:"#9fcaedb0",3:"#3d96dab0",5:"#2b6b99b0"},unitSpace:qb,
unitValue:qb,resolution:1,interpolator:x=>x},a,!1);let {min:c,max:d,colors:e,resolution:f,plotFunction:h,interpolator:g}=a,k=y.workingContext,l=a.unitSpace[0]/a.unitValue[0];a=a.unitSpace[1]/a.unitValue[1];let p=1/l,n=1/a,q=Object.keys(e).sort();for(var t of q)e[t]=u(e[t]).rgbaA;let v=Math.min(...q),B=Math.max(...q);k.save();for(t=c[0];t<=d[0];t+=f*p)for(let x=c[1];x<=d[1];x+=f*n){let w=h(t,x);k.fillStyle=b(w,B,e,v,q,g);k.fillRect(t*l,x*a,f,f)}k.restore()}
function vb(a){a=C({unitValue:qb,unitSpace:qb,fill:"white",stroke:"#0000",radius:5},a);let {points:b,unitValue:c,unitSpace:d}=a,e=y.workingContext,f=d[0]/c[0],h=d[1]/c[1];for(let g=0;g<b.length;g++){let k=b[g],l=k.fill||a.fill||e.fillStyle,p=k.stroke||a.stroke||e.strokeStyle,n=k.x*f,q=k.y*h;e.beginPath();e.fillStyle=l;e.strokeStyle=p;e.arc(n,q,k.radius||a.radius,0,2*Math.PI);e.fill();e.stroke()}e.closePath()}
function wb(a){a=C({tension:1,radialSpacing:1,range:[0,2*Math.PI,Math.PI/50],discontinuities:[],smoothen:!0,closed:!1,strokeWidth:2},a);let {plotter:b,range:c,radialSpacing:d,smoothen:e,tension:f,discontinuities:h,closed:g}=a;Array.isArray(c)&&2==c.length&&c.push((c[1]-c[0])/20);let k=[[]];var l=c[0],p=c[1],n=c[2];Array.isArray(h)||(h=[]);for(var q=isNaN(a.discontinuityRadius)?n:a.discontinuityRadius,t=0,v=q<n?q:0;l<=p+n+v;l+=n){if(sb(l,h,q)){sb(l+n,h,q)&&(t++,k.push([]));continue}let B=b(l);k[t].push([B[0]*
Math.cos(B[1])*d,B[0]*Math.sin(B[1])*d])}p=y.workingContext;n=[];p.lineWidth=a.strokeWidth;for(q=0;q<k.length;q++)if(t=k[q],0!=t.length){n.push(t);v=q==k.length-1?1:0;if(e)ib(t,f,g,v);else{p.beginPath();p.moveTo(t[0][0],t[0][1]);for(l=1;l<t.length-v;l++)p.lineTo(t[l][0],t[l][1]);p.doStroke&&p.stroke();p.doFill&&g&&p.fill();p.closePath()}v&&(k[q]=k[q].slice(0,-1))}return{points:n,closed:a.closed,tension:a.tension||1,smoothen:a.smoothen}}var U={};U.functionGraph=tb;U.heatPlot=ub;
U.parametricFunction=rb;U.plotPoints=vb;U.plotPolarPoints=function(a){a=C({radialSpacing:2,fill:"white",stroke:"#0000",radius:5,points:[]},a);let b=y.workingContext,{points:c,radialSpacing:d}=a,e=a.fill||b.fillStyle,f=a.stroke||b.strokeStyle;b.save();for(let h=0;h<c.length;h++){let g=c[h],k=g.fill||e,l=g.stroke||f,p=g.r*Math.cos(g.phi)*d,n=g.r*Math.sin(g.phi)*d;b.beginPath();b.fillStyle=k;b.strokeStyle=l;b.arc(p,n,g.radius||a.radius,0,2*Math.PI);b.fill();b.stroke()}b.closePath();b.restore()};
U.polarFuntionGraph=function(a){let b=a.plotter;a.plotter=c=>[b(c),c];return wb(a)};U.polarParametricFunction=wb;function xb(){return"object"==typeof globalThis.MathJax&&"function"==typeof globalThis.MathJax.tex2svg}
function yb(a){if(!xb())throw Error("MathJax is not found. Please include it.");var b=y.workingContext;a=globalThis.MathJax.tex2svg(a).getElementsByTagName("svg")[0];let c=a.getElementsByTagName("g")[0];a.style.verticalAlign="1ex";a.style.fontSize=parseFloat(b.font)+"px";c.setAttribute("stroke",b.strokeStyle);c.setAttribute("fill",b.fillStyle);b=new Blob([a.outerHTML],{type:"image/svg+xml;charset=utf-8"});b=(globalThis.URL||globalThis.webkitURL).createObjectURL(b);a=new Image;a.src=b;return a}
function zb(a,b=0,c=0){let d=yb(a),e=y.workingContext,f=e.textAlign,h=e.textBaseline;d.onload=function(){e.save();let {width:g,height:k}=d;switch(f){case "center":e.translate(-g/2,0);break;case "right":e.translate(-g,0)}switch(h){case "middle":e.translate(0,k/2);break;case "bottom":e.translate(0,k)}e.translate(b,c);e.yAxisInverted&&e.scale(1,-1);e.xAxisInverted&&e.scale(-1,1);e.drawImage(d,0,0);e.restore()};return d}var Ab={};Ab.getImageFromTex=yb;Ab.tex=zb;Ab.tex2svgExists=xb;function Bb(a){return Object.assign(a,{plotParametricFunction:function(b){b.unitSpace=a.unitSpace;b.unitValue=a.unitValue;return rb(b)},plotFunctionGraph:function(b){b.unitSpace=a.unitSpace;b.unitValue=a.unitValue;return tb(b)},plotHeatPlot:function(b){b.unitSpace=a.unitSpace;console.log(b.unitSpace);b.min=a.min||[a.xAxis.range[0],a.yAxis.range[0]];b.max=a.max||[a.xAxis.range[1],a.yAxis.range[1]];return ub(b)},plotPoints:function(b){b.unitValue=a.unitValue;b.unitSpace=a.unitSpace;return vb(b)},scaleCanvas:function(){oa(a.unitSpace[0]/
a.unitValue[0],a.unitSpace[1]/a.unitValue[1])}})};const Cb=[0,0];const Db=[0,0];
function Eb(a){a=void 0===a?{}:a;const b=y.workingContext;a=C({rotation:0,strokeWidth:2,length:parseInt(y.workingCanvas.style.width),originPosition:Db,range:[-5,5,1],strokeColor:ba.white+"88",axisLabel:"",axisLabelSize:24,axisLabelColor:"#fff",axisLabelDirection:[.5,1.5],tipLength:13,tipBreadth:10,fontSize:17,fontFamily:"serif",textRenderer:cb,textBaseline:"middle",textColor:"#fff",textAlign:"center",textRotation:0,labelDirection:[0,-1.6],tickHeight:10,longerTickHeight:15,labelsToInclude:[],numbersToExclude:[],
numbersWithElongatedTicks:[],includeTicks:!0,includeLabels:!0,includeLeftTip:!1,includeRightTip:!1},a);let {range:c,decimalPlaces:d}=a;if(Array.isArray(c)&&0<c.length)1===c.length&&(c=[0,c[0],1]),2===c.length&&(c=[c[0],c[1],1]);else throw Error("NumberLine: range must be a array that have atleast one item. Got: "+c.toString());isNaN(d)&&0<=d&&(a.decimalPlaces=(c[2].toString().split(".")[1]||[]).length);let e=c[2],f=a.length/(c[1]-c[0]),h=Fb(c[0],c[1],e);a.tickList=h;pa();b.translate(a.originPosition[0]*
f,a.originPosition[1]*f);b.rotate(a.rotation);a.unitSpace=f;if(a.includeTicks){var g=a;let {includeLeftTip:D,includeRightTip:z,tickList:A,numbersToExclude:O,numbersWithElongatedTicks:P,longerTickHeight:ha,tickHeight:la,unitSpace:aa}=g;b.strokeStyle=g.strokeColor;b.lineWidth=g.strokeWidth;var k=D?1:0;for(g=A.length-(z?1:0);k<g;k++){var l=A[k];if(!O.includes(l)){var p=P.includes(l)?ha:la;jb(l*aa,-p/2,l*aa,p/2)}}}if(a.includeLabels){g=a;let {includeLeftTip:D,includeRightTip:z,tickList:A,numbersToExclude:O,
labelsToInclude:P,labelDirection:ha,unitSpace:la}=g;b.fillStyle=g.textColor;b.textAlign=g.textAlign;b.textBaseline=g.textBaseline;b.fontFamily=g.fontFamily;k=0<P.length?P:A;p=D?1:0;l=z?A.length-1:A.length;for(Aa(g.fontSize);p<l&&p<k.length;p++)if(!O.includes(A[p])){let aa="number"==typeof k[p]?k[p].toFixed(g.decimalPlaces):k[p];var n=Gb(aa);let Ua=ha[0]*n;n*=ha[1];let ya=A[p];b.save();b.translate(ya*la+Ua,n);b.rotate(g.textRotation);g.textRenderer(aa,0,0);b.restore()}}g=a;let {includeLeftTip:q,includeRightTip:t,
unitSpace:v,axisLabelDirection:B,range:x,tipLength:w,tipBreadth:r,axisLabel:I}=g,[E,H]=x;pa();ta(g.strokeColor);b.lineWidth=g.strokeWidth;ua(g.strokeColor);l=E*v;k=H*v;b.doStroke=!1;q&&(N(l+w,0,l,0,w,r),l+=w);t&&(N(k-w,0,k,0,w,r),k-=w);jb(l,0,k,0);Aa(g.axisLabelSize);Fa(g.fontFamily);ua(g.axisLabelColor);l=Gb(I);b.translate(k+B[0]*l,B[1]*l);b.rotate(g.textRotation);g.textRenderer(I,0,0);ra();ra(a);return{range:c,originPosition:a.originPosition,tickList:h,unitValue:e,unitSpace:f}}var Hb={};
Hb.numberLine=Eb;const Ib=[0,0];
function Jb(a){a=void 0===a?{}:a;const b=y.workingContext;a=C({xAxis:{axisLabel:"x"},yAxis:{axisLabel:"y",rotation:Math.PI/2,textRotation:-Math.PI/2,labelDirection:[0,.8],textAlign:"right",axisLabelDirection:[.3,.5],axisLabelSize:20},originPosition:Ib,numbersToExclude:[0],includeTicks:!0,includeLeftTip:!1,includeRightTip:!0},a);b.save();var c=a;for(var d of Object.keys(c))if("xAxis"!=d||"yAxis"!=d)void 0===c.xAxis[d]&&(c.xAxis[d]=c[d]),void 0===c.yAxis[d]&&(c.yAxis[d]=c[d]);c=Eb(a.xAxis);d=Eb(a.yAxis);
b.restore();return Bb({originPosition:a.originPosition,xAxis:c,yAxis:d,unitSpace:[c.unitSpace,d.unitSpace],unitValue:[c.unitValue,d.unitValue]})}var Kb={};Kb.axes=Jb;function Lb(a){return{plotPoints:function(b){b.radialSpacing=b.radialSpacing||a.radialSpacing;plotPolarPoints(b)},plotParametricFunction:function(b){b.radialSpacing=b.radialSpacing||a.radialSpacing;return polarParametricFunction(b)},plotFunctionGraph:function(b){b.radialSpacing=b.radialSpacing||a.radialSpacing;return polarFuntionGraph(b)},scaleCanvas:function(){oa(a.radialSpacing,a.radialSpacing)}}}const Mb=[0,0];function Nb(a,b){for(;0!=b;){let c=b;b=a%b;a=c}return a}function Ob(a,b){return a*b/Nb(a,b)}var Pb={};Pb.gcd=Nb;Pb.gcdArray=function(a){let b=Array.isArray(a)?a:arguments,c=b[0];for(let d=1;d<b.length;++d)c=Nb(b[d],c);return c};Pb.lcm=Ob;Pb.lcmArray=function(a){let b=1,c=Array.isArray(a)?a:arguments;for(let d=0;d<c.length;++d)b=Ob(c[d],b);return b};const {abs:Qb,acos:Rb,asin:Sb,atan:Tb,atan2:Ub,cbrt:Vb,ceil:Wb,cos:Xb,cosh:Yb,exp:Zb,floor:$b,log:ac,log2:bc,log10:cc,max:dc,min:ec,pow:fc,random:gc,round:hc,sign:ic,sin:jc,sqrt:kc,tan:lc,tanh:mc}=Math;function nc(a){return 1/(1+Math.exp(-a))}var V={};V.abs=Qb;V.acos=Rb;V.asin=Sb;V.atan=Tb;V.atan2=Ub;V.cbrt=Vb;V.ceil=Wb;V.cos=Xb;V.cosh=Yb;V.exp=Zb;V.floor=$b;V.log=ac;V.log10=cc;V.log2=bc;V.max=dc;V.min=ec;V.pow=fc;V.random=gc;V.round=hc;V.sgn=ic;V.sigmoid=nc;V.sin=jc;V.sqrt=kc;V.tan=lc;V.tanh=mc;const oc=2*Math.PI/3,pc=2*Math.PI/4.5;function qc(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function W(a,b){b=void 0===b?10:b;let c=nc(-b/2);return Math.min(Math.max((nc(b*(a-.5))-c)/(1-2*c),0),1)}function rc(a,b){return W(.5>a?2*a:2*(1-a),void 0===b?10:b)}function sc(a,b,c){b=void 0===b?.4:b;c=void 0===c?.6:c;return function(d){return b==c?b:d<b?a(0):d>c?a(1):a((d-b)/(c-b))}}
var X={doubleSmooth:function(a){return.5>a?.5*W(2*a):.5*(1+W(2*a-1))},easeInBack:function(a){return 2.70158*Math.pow(a,3)-1.70158*Math.pow(a,2)},easeInBounce:function(a){return 1-qc(1-a)},easeInCirc:function(a){return 1-Math.sqrt(1-Math.pow(a,2))},easeInCubic:function(a){return Math.pow(a,3)},easeInElastic:function(a){return 0===a?0:1===a?1:-Math.pow(2,10*a-10)*Math.sin((10*a-10.75)*oc)},easeInExpo:function(a){return 0==a?0:Math.pow(2,10*a-10)},easeInOutBack:function(a){return.5>a?Math.pow(2*a,2)*
(7.189819*a-2.5949095)/2:(Math.pow(2*a-2,2)*(3.5949095*(2*a-2)+2.5949095)+2)/2},easeInOutBounce:function(a){return.5>a?(1-qc(1-2*a))/2:(1+qc(2*a-1))/2},easeInOutCirc:function(a){return.5>a?(1-Math.sqrt(1-Math.pow(2*a,2)))/2:(Math.sqrt(1-Math.pow(2-2*a,2))+1)/2},easeInOutCubic:function(a){return.5>a?4*Math.pow(a,3):1-Math.pow(2-2*a,3)/2},easeInOutElastic:function(a){return 0==a?0:1==a?1:.5>a?-(Math.pow(2,20*a-10)*Math.sin((20*a-11.125)*pc))/2:Math.pow(2,-20*a+10)*Math.sin((20*a-11.125)*pc)/2+1},easeInOutExpo:function(a){return 0==
a?0:1==a?1:.5>a?Math.pow(2,20*a-10)/2:(2-Math.pow(2,10-20*a))/2},easeInOutQuad:function(a){return.5>a?2*Math.pow(a,2):1-Math.pow(2-2*a,2)/2},easeInOutQuart:function(a){return.5>a?8*Math.pow(a,4):1-Math.pow(2-2*a,4)/2},easeInOutQuint:function(a){return.5>a?16*Math.pow(a,5):1-Math.pow(2-2*a,5)/2},easeInOutSine:function(a){return-(Math.cos(Math.PI*a)-1)/2},easeInQuad:function(a){return Math.pow(a,2)},easeInQuart:function(a){return Math.pow(a,4)},easeInQuint:function(a){return Math.pow(a,5)},easeInSine:function(a){return 1-
Math.cos(a*Math.PI/2)},easeOutBack:function(a){return 1+2.70158*Math.pow(a-1,3)+1.70158*Math.pow(a-1,2)}};X.easeOutBounce=qc;X.easeOutCirc=function(a){return Math.sqrt(1-Math.pow(a-1,2))};X.easeOutCubic=function(a){return 1-Math.pow(1-a,3)};X.easeOutElastic=function(a){return 0===a?0:1===a?1:Math.pow(2,-10*a)*Math.sin((10*a-.75)*oc)+1};X.easeOutExpo=function(a){return 1==a?1:1-Math.pow(2,-10*a)};X.easeOutQuad=function(a){return 1-Math.pow(1-a,2)};X.easeOutQuart=function(a){return 1-Math.pow(1-a,4)};
X.easeOutQuint=function(a){return 1-Math.pow(1-a,5)};X.easeOutSine=function(a){return Math.sin(a*Math.PI/2)};X.exponentialDecay=function(a,b){return 1-Math.exp(-a/(void 0===b?.1:b))};X.linear=function(a){return a};X.lingering=function(a){return sc(b=>b,0,.8)(a)};X.notQuiteThere=function(a,b){a=void 0===a?W:a;b=void 0===b?.7:b;return c=>b*a(c)};X.rushFrom=function(a,b){return 2*W(a/2+.5,void 0===b?10:b)-1};X.rushInto=function(a,b){return 2*W(a/2,void 0===b?10:b)};
X.slowInto=function(a){return Math.sqrt(1-(1-a)*(1-a))};X.smooth=W;X.squishRateFunc=sc;X.thereAndBack=rc;X.thereAndBackWithPause=function(a,b){b=void 0===b?1/3:b;let c=1/b;return a<.5-b/2?W(c*a):a<.5+b/2?1:W(c-c*a)};X.wiggle=function(a,b){b=void 0===b?2:b;return rc(a)*Math.sin(b*Math.PI*a)};function tc(a){a=Array.isArray(a[0])&&16==a[0].length?a[0]:16==a.length?a:a[0]instanceof Y?a[0].mat:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new Float32Array(a)}
class Y{constructor(a){this.mat=tc(arguments);return this}multiply(a){let b=tc(arguments),c=this.mat[0],d=this.mat[1],e=this.mat[2],f=this.mat[3];this.mat[0]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.mat[1]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.mat[2]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.mat[3]=c*b[3]+d*b[7]+e*b[11]+f*b[15];c=this.mat[4];d=this.mat[5];e=this.mat[6];f=this.mat[7];this.mat[4]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.mat[5]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.mat[6]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.mat[7]=
c*b[3]+d*b[7]+e*b[11]+f*b[15];c=this.mat[8];d=this.mat[9];e=this.mat[10];f=this.mat[11];this.mat[8]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.mat[9]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.mat[10]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.mat[11]=c*b[3]+d*b[7]+e*b[11]+f*b[15];c=this.mat[12];d=this.mat[13];e=this.mat[14];f=this.mat[15];this.mat[12]=c*b[0]+d*b[4]+e*b[8]+f*b[12];this.mat[13]=c*b[1]+d*b[5]+e*b[9]+f*b[13];this.mat[14]=c*b[2]+d*b[6]+e*b[10]+f*b[14];this.mat[15]=c*b[3]+d*b[7]+e*b[11]+f*b[15];return this}rotate(a,
b,c,d){b instanceof Array&&(c=b[1],d=b[2],b=b[0]);var e=Math.sqrt(b*b+c*c+d*d);b*=1/e;c*=1/e;d*=1/e;e=this.mat[0];const f=this.mat[1],h=this.mat[2],g=this.mat[3],k=this.mat[4],l=this.mat[5],p=this.mat[6],n=this.mat[7],q=this.mat[8],t=this.mat[9],v=this.mat[10],B=this.mat[11],x=Math.sin(a),w=Math.cos(a),r=1-w;a=b*b*r+w;const I=c*b*r+d*x,E=d*b*r-c*x,H=b*c*r-d*x,D=c*c*r+w,z=d*c*r+b*x,A=b*d*r+c*x;b=c*d*r-b*x;d=d*d*r+w;this.mat[0]=e*a+k*I+q*E;this.mat[1]=f*a+l*I+t*E;this.mat[2]=h*a+p*I+v*E;this.mat[3]=
g*a+n*I+B*E;this.mat[4]=e*H+k*D+q*z;this.mat[5]=f*H+l*D+t*z;this.mat[6]=h*H+p*D+v*z;this.mat[7]=g*H+n*D+B*z;this.mat[8]=e*A+k*b+q*d;this.mat[9]=f*A+l*b+t*d;this.mat[10]=h*A+p*b+v*d;this.mat[11]=g*A+n*b+B*d;return this}scale(a,b,c){a instanceof Array&&(b=a[1],c=a[2],a=a[0]);this.mat[0]*=a;this.mat[1]*=a;this.mat[2]*=a;this.mat[3]*=a;this.mat[4]*=b;this.mat[5]*=b;this.mat[6]*=b;this.mat[7]*=b;this.mat[8]*=c;this.mat[9]*=c;this.mat[10]*=c;this.mat[11]*=c;return this}rotateX(a){this.rotate(a,1,0,0);return this}rotateY(a){this.rotate(a,
0,1,0);return this}rotateZ(a){this.rotate(a,0,0,1);return this}translate(a,b,c=0){this.mat[12]+=this.mat[0]*a+this.mat[4]*b+this.mat[8]*c;this.mat[13]+=this.mat[1]*a+this.mat[5]*b+this.mat[9]*c;this.mat[14]+=this.mat[2]*a+this.mat[6]*b+this.mat[10]*c;this.mat[15]+=this.mat[3]*a+this.mat[7]*b+this.mat[11]*c;return this}clone(){let a=[];for(let b=0;b<this.mat.length;b++)a.push(this.mat[b]);return new Y(a)}static lookAt(a,b,c){let d,e;let f=a[0],h=a[1];a=a[2];var g=c[0];var k=c[1];var l=c[2];var p=b[0];
c=b[1];var n=b[2];if(1E-6>Math.abs(f-p)&&1E-6>Math.abs(h-c)&&1E-6>Math.abs(a-n))return Y.identity();b=f-p;c=h-c;p=a-n;var q=1/Math.hypot(b,c,p);b*=q;c*=q;p*=q;n=k*p-l*c;l=l*b-g*p;g=g*c-k*b;(q=Math.hypot(n,l,g))?(q=1/q,n*=q,l*=q,g*=q):g=l=n=0;k=c*g-p*l;d=p*n-b*g;e=b*l-c*n;(q=Math.hypot(k,d,e))?(q=1/q,k*=q,d*=q,e*=q):e=d=k=0;q=new Float32Array(16);q[0]=n;q[1]=k;q[2]=b;q[3]=0;q[4]=l;q[5]=d;q[6]=c;q[7]=0;q[8]=g;q[9]=e;q[10]=p;q[11]=0;q[12]=-(n*f+l*h+g*a);q[13]=-(k*f+d*h+e*a);q[14]=-(b*f+c*h+p*a);q[15]=
1;return new Y(q)}static identity(){return new Y(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}static perspective(a,b,c,d,e){const f=1/Math.tan(b/2);b=a.mat;b[0]=f/c;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=f;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[11]=-1;b[12]=0;b[13]=0;b[15]=0;null!=e&&Infinity!==e?(c=1/(d-e),b[10]=(e+d)*c,b[14]=2*e*d*c):(b[10]=-1,b[14]=-2*d);return a}};class Z{constructor(a){let b=a.getContext("webgl");b||(b=a.getContext("experimental-webgl"));if(!b)throw Error("WebGL is not supported");b.viewport(0,0,a.width,a.height);this.gl=b;this.canvas=a;this.width=a.rWidth;this.height=a.rHeight;this.dpr=a.dpr||Math.ceil(globalThis.devicePixelRatio);this.canvas=a;this.sources={singleColor:{vertex:"attribute vec3 a_position;\n\t\t\t\t\tuniform vec2 u_resolution;\n\t\t\t\t\tuniform mat4 u_matrix;\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_Position = u_matrix * vec4(a_position, 1) / vec4(u_resolution, 1, 1);\n\t\t\t\t\t}",
fragment:"precision mediump float;\n\t\t\t\t\tuniform vec4 u_color;\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_FragColor = u_color;\n\t\t\t\t\t}",uniforms:{resolution:"u_resolution",matrix:"u_matrix",vertexColor:"u_color"},attributes:{vertexPosition:"a_position"},program:null},multiColor:{vertex:"attribute vec3 a_position;\n\t\t\t\t\tattribute vec4 aVertexColor;\n\t\t\t\t\tuniform vec2 u_resolution;\n\t\t\t\t\tuniform mat4 u_matrix;\n\t\t\t\t\tvarying lowp vec4 vColor;\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_Position = u_matrix * vec4(a_position, 1);\n\t\t\t\t\t\t// / vec4(u_resolution, 1, 1);\n\t\t\t\t\t\tvColor = aVertexColor;\n\t\t\t\t\t}",
fragment:"precision mediump float;\n\t\t\t\t\tvarying lowp vec4 vColor;\n\t\t\t\t\tvoid main(void) {\n\t\t\t\t\t\tgl_FragColor = vColor;\n\t\t\t\t\t}",uniforms:{resolution:"u_resolution",matrix:"u_matrix"},attributes:{vertexPosition:"a_position",vertexColor:"aVertexColor"},program:null}};for(let c in this.sources)this.sources[c]=this.createCustomProgram(this.sources[c]);this.program=this.sources.singleColor;b.useProgram(this.program.program);this.projectionMatrix=new Y;this.worldMatrix=new Y;this.viewMatrix=
new Y;this.matrix=new Y;b.uniform2f(this.program.uniforms.resolution,a.width/2/this.dpr,a.height/2/this.dpr);this.styles={fillColor:[1,0,1,1],strokeColor:[1,1,0,1],lineWidth:1}}useProgram(a){if(this.sources[a])this.program=this.sources[a],this.gl.useProgram(this.program.program),this.gl.uniform2f(this.program.uniforms.resolution,this.canvas.width/2/this.dpr,this.canvas.height/2/this.dpr);else if(a.program)this.program=a,this.gl.useProgram(a.program);else throw Error(`${a} not fouund`);}createShader(a,
b){a=this.gl.createShader(a);this.gl.shaderSource(a,b);this.gl.compileShader(a);return this.gl.getShaderParameter(a,this.gl.COMPILE_STATUS)?a:(console.error(this.gl.getShaderInfoLog(a)),this.gl.deleteShader(a),null)}createProgram(a,b){const c=this.gl.createProgram();this.gl.attachShader(c,a);this.gl.attachShader(c,b);this.gl.linkProgram(c);return this.gl.getProgramParameter(c,this.gl.LINK_STATUS)?c:(console.error(this.gl.getProgramInfoLog(c)),this.gl.deleteProgram(c),null)}createProgramFromSource(a,
b){a=this.createShader(this.gl.VERTEX_SHADER,a);b=this.createShader(this.gl.FRAGMENT_SHADER,b);return this.createProgram(a,b)}resizeCanvas(a,b){a=void 0===a?300:a;b=void 0===b?300:b;var c=globalThis.devicePixelRatio;const d=Math.round(a*c);c=Math.round(b*c);this.canvas.style.width=a+"px";this.canvas.style.height=b+"px";this.canvas.width=d;this.canvas.height=c}putProperties(){let a=this.gl,b=3,c=a.FLOAT,d=!1,e=0,f=0;const h=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,h);a.bindBuffer(a.ARRAY_BUFFER,
h);a.vertexAttribPointer(this.program.attributes.vertexPosition,b,c,d,e,f);a.enableVertexAttribArray(this.program.attributes.vertexPosition);b=4;c=a.FLOAT;d=!1;f=e=0;a.bindBuffer(a.ARRAY_BUFFER,this.program.uniforms.vertexColor);a.vertexAttribPointer(this.program.uniforms.vertexColor,b,c,d,e,f)}createCustomProgram(a){let b=this.gl,c={},d={},e;a.vertex instanceof HTMLScriptElement&&(a.vertex=a.vertex.textContent.trim());a.fragment instanceof HTMLScriptElement&&(a.fragment=a.fragment.textContent.trim());
e=this.createProgramFromSource(a.vertex,a.fragment);for(let f in a.attributes)d[f]=b.getAttribLocation(e,a.attributes[f]);for(let f in a.uniforms)c[f]=b.getUniformLocation(e,a.uniforms[f]);return{program:e,uniforms:c,attributes:d,vertex:a.vertex,fragment:a.fragment}}attribUsage(a,b,c,d,e,f){b=void 0===b?3:b;c=void 0===c?this.gl.FLOAT:c;d=void 0===d?!1:d;e=void 0===e?0:e;f=void 0===f?0:f;this.gl.enableVertexAttribArray(a);this.gl.vertexAttribPointer(a,b,c,d,e,f)}}var uc={};uc.WebGL=Z;
uc.createWebGL=function(a){let b=y.workingContext;var c=y.workingCanvas;a=C({deleteOld:!1,dpr:Math.ceil(globalThis.devicePixelRatio),width:c.rWidth,height:c.rHeight},a);c=b.canvas.parentElement;let d=y.makeCanvas(a);a.deleteOld?c.removeChild(b.canvas):(c.style.position="relative",d.style.position="absolute",d.style.top="0",d.style.left="0");for(let e in b.canvas.events)d.addEventListener(e,b.canvas.events[e]);c.appendChild(d);return new Z(d)};function vc(a,b){let c=[],d=!1;if(0==a.length%b)if(2==a.length/b)for(d=!0,b=0;b<a.length;b+=2)c.push(a[b],a[b+1],0);else c=a;else throw Error("excess component in points");return[c,d]}Z.prototype.background=function(a,b,c,d){this.gl.clearColor(a,b,c,d);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT);return this};Z.prototype.clear=function(){this.background(0,0,0,0);return this};
Z.prototype.putBufferData=function(a,b,c){b=void 0===b?this.gl.ARRAY_BUFFER:b;c=void 0===c?this.gl.STATIC_DRAW:c;var d=this.gl.createBuffer();this.gl.bindBuffer(b,d);this.gl.bufferData(b,new Float32Array(a),c);return d};
Z.prototype.setGeometry=function(a,b,c,d){b=void 0===b?3:b;c=void 0===c?0:c;d=void 0===d?this.gl.TRIANGLES:d;let e=this.gl,f=this.program;this.computeMatrix();e.uniformMatrix4fv(f.uniforms.matrix,!1,this.matrix.mat);e.uniform4fv(f.uniforms.vertexColor,this.styles.fillColor);this.putBufferData(vc(a,b)[0]);e.enableVertexAttribArray(f.attributes.vertexPosition);e.vertexAttribPointer(f.attributes.vertexPosition,3,e.FLOAT,!1,0,0);e.drawArrays(d,c,b);return this};
Z.prototype.computeMatrix=function(){this.matrix=this.projectionMatrix.clone();this.matrix.multiply(this.viewMatrix).multiply(this.worldMatrix)};
Z.prototype.line=function(){let [a,b]=vc(arguments,2);const c=this.styles.fillColor;this.styles.fillColor=this.styles.strokeColor;if(1==this.styles.lineWidth)this.setGeometry(a,2,0,this.gl.LINES);else if(b){let e=a[0],f=a[1],h=a[3],g=a[4];var d=Math.atan2(g-f,h-e)+Math.PI/2;let k=this.styles.lineWidth/2,l=Math.cos(d)*k;d=Math.sin(d)*k;this.setGeometry([e-l,f-d,0,e+l,f+d,0,h+l,g+d,0,h+l,g+d,0,h-l,g-d,0,e-l,f-d,0],6)}this.styles.fillColor=c;return this};
Z.prototype.rotateX=function(a){this.worldMatrix.rotateX(a);return this};Z.prototype.rotateY=function(a){this.worldMatrix.rotateY(a);return this};Z.prototype.rotateZ=function(a){this.worldMatrix.rotateZ(a);return this};Z.prototype.translate=function(a,b,c){this.worldMatrix.translate(a,void 0===b?0:b,void 0===c?0:c);return this};Z.prototype.scale=function(a,b,c){this.worldMatrix.scale(a,void 0===b?a:b,void 0===c?1:c);return this};
Z.prototype.fill=function(...a){a=u(a).rgbaA;this.styles.fillColor=[a[0]/255,a[1]/255,a[2]/255,a[3]]};Z.prototype.fillRect=function(){let a,b,c,d;var e=0;a=arguments[e++];b=arguments[e++];c=4==arguments.length?0:arguments[e++];d=arguments[e++];e=arguments[e++];this.setGeometry([a,b,c,a+d,b,c,a+d,b+e,c,a+d,b+e,c,a,b+e,c,a,b,c],6)};Z.prototype.triangle=function(...a){this.setGeometry(a,3)};Z.prototype.lineWidth=function(a){this.styles.lineWidth=a};
Z.prototype.stroke=function(...a){a=u(a).rgbaA;this.styles.strokeColor=[a[0]/255,a[1]/255,a[2]/255,a[3]]};
Z.prototype.cube=function(a){a=void 0===a?200:a;let b=this.gl;this.putBufferData([-1*a,-1*a,1*a,1*a,-1*a,1*a,1*a,1*a,1*a,-1*a,1*a,1*a,-1*a,-1*a,-1*a,-1*a,1*a,-1*a,1*a,1*a,-1*a,1*a,-1*a,-1*a,-1*a,1*a,-1*a,-1*a,1*a,1*a,1*a,1*a,1*a,1*a,1*a,-1*a,-1*a,-1*a,-1*a,1*a,-1*a,-1*a,1*a,-1*a,1*a,-1*a,-1*a,1*a,1*a,-1*a,-1*a,1*a,1*a,-1*a,1*a,1*a,1*a,1*a,-1*a,1*a,-1*a,-1*a,-1*a,-1*a,-1*a,1*a,-1*a,1*a,1*a,-1*a,1*a,-1*a]);a=[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]];for(var c=[],d=0;d<a.length;++d){const e=
a[d];c=c.concat(e,e,e,e)}this.putBufferData(c);a=this.putBufferData([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],b.ELEMENT_ARRAY_BUFFER);b.enable(b.DEPTH_TEST);b.depthFunc(b.LEQUAL);Y.perspective(this.projectionMatrix,45*Math.PI/180,b.canvas.clientWidth/b.canvas.clientHeight,.1,100);this.worldMatrix.translate(-0,0,-6);this.worldMatrix.rotateZ(0);this.worldMatrix.rotateX(0);b.vertexAttribPointer(this.program.attributes.vertexPosition,3,b.FLOAT,!1,0,
0);b.enableVertexAttribArray(this.program.attributes.vertexPosition);b.vertexAttribPointer(this.program.uniforms.vertexColor,4,b.FLOAT,!1,0,0);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a);this.useProgram("multiColor");this.computeMatrix();b.uniformMatrix4fv(this.program.uniforms.matrix,!1,this.matrix.mat);b.drawElements(b.TRIANGLES,36,b.UNSIGNED_SHORT,0)};Z.prototype.lookAt=function(a,b,c){b=void 0===b?[0,0,0]:b;c=void 0===c?[0,1,0]:c;this.viewMatrix=Y.lookAt(a,b,c)};
Z.prototype.perspective=function(a,b,c,d){Y.perspective(this.projectionMatrix,a,b,c,d)};Object.clone=Object.clone||function(a){let b={};for(let c=0,d=Object.keys(a);c<d.length;c++)b[d[c]]=a[d[c]];return b};function F(a,b,c){b=void 0===b?globalThis:b;c=void 0===c?!1:c;Object.assign(b,a);c&&Object.assign(y.functions,a)}function Fb(a,b,c,d){let e=[];if(void 0===d?0:d)for(;b>=a;b-=c)e.push(b);else for(;a<=b;a+=c)e.push(a);return e}
function C(a,b,c){b=void 0===b?{}:b;c=void 0===c?!0:c;b=Object.clone(b);for(let d=0,e=Object.keys(a);d<e.length;d++){let f=e[d],h=a[f],g=b[f],k=Object.prototype.toString.call(h).slice(8,-1),l=Object.prototype.toString.call(g).slice(8,-1);"Object"==k&&c&&(b[f]=C(h,g,c));"Undefined"!=k&&"Null"!=k&&l!==k&&(b[f]=a[f])}return b}function Q(a){a.doFill&&a.fill();a.doStroke&&a.stroke()}function sb(a,b,c){c=void 0===c?1E-6:c;for(let d=0;d<b.length;d++)if(Math.abs(b[d]-a)<=c)return!0;return!1}
function wc(a,b){let c=Nb(a,b);return[`${a/c}`,`${b/c}`]}function xc(a,b,c,d,e){d=void 0===d?!0:d;e=void 0===e?"":e;if(void 0===c||c)[a,b]=wc(a,b);0==a?tex="0":1==b?tex=a:d?(1==a&&""!=e&&(a=""),tex=`\\frac{${a}${e}}{${b}}`):tex=`\\frac{${a}}{${b}}${e}`;return tex}function yc(a,b,c,d,e){d=void 0===d?!0:d;e=void 0===e?"":e;let f=b;if(void 0===c||c)[a,f]=wc(a,f);0==a?b="0":1==f?b=a+b:d?(1==a&&""!=e&&(a=""),b=`${a}${e}/${f}`):b=`(${a}/${f})${e}`;return b}
function Gb(a){let {actualBoundingBoxAscent:b,actualBoundingBoxDescent:c}=y.workingContext.measureText(a);return b+c};[{defineProperties:F,C:y},K,L,{ALPHABETIC:"alphabetic",BEVEL:"bevel",BOTTOM:"bottom",BUTT:"butt",CENTER:"center",CONDENSED:"condensed",END:"end",EXPANDED:"expanded",EXTRA_CONDENSED:"extra-condensed",EXTRA_EXPANDED:"extra-expanded",HANGING:"hanging",IDEOGRAPHIC:"ideographic",ITALIC:"italic",LEFT:"left",MIDDLE:"middle",MILTER:"milter",MITER:"miter",NORMAL:"normal",OBLIQUE:"oblique",RIGHT:"right",ROUND:"round",SEMI_CONDENSED:"semi-condensed",SEMI_EXPANDED:"semi-expanded",SQUARE:"square",START:"start",
TOP:"top",ULTRA_CONDENSED:"ultra-condensed",ULTRA_EXPANDED:"ultra-expanded"},{ColorPalettes:{YlGn:"#ffffe5 #f7fcb9 #d9f0a3 #addd8e #78c679 #41ab5d #238443 #006837 #004529".split(" "),GnBu:"#f7fcf0 #e0f3db #ccebc5 #a8ddb5 #7bccc4 #4eb3d3 #2b8cbe #0868ac #084081".split(" "),BuGn:"#f7fcfd #e5f5f9 #ccece6 #99d8c9 #66c2a4 #41ae76 #238b45 #006d2c #00441b".split(" "),PuBu:"#fff7fb #ece7f2 #d0d1e6 #a6bddb #74a9cf #3690c0 #0570b0 #045a8d #023858".split(" "),BuPu:"#f7fcfd #e0ecf4 #bfd3e6 #9ebcda #8c96c6 #8c6bb1 #88419d #810f7c #4d004b".split(" "),
RdPu:"#fff7f3 #fde0dd #fcc5c0 #fa9fb5 #f768a1 #dd3497 #ae017e #7a0177 #49006a".split(" "),PuRd:"#f7f4f9 #e7e1ef #d4b9da #c994c7 #df65b0 #e7298a #ce1256 #980043 #67001f".split(" "),OrRd:"#fff7ec #fee8c8 #fdd49e #fdbb84 #fc8d59 #ef6548 #d7301f #b30000 #7f0000".split(" "),Reds:"#fff5f0 #fee0d2 #fcbba1 #fc9272 #fb6a4a #ef3b2c #cb181d #a50f15 #67000d".split(" "),Blues:"#f7fbff #deebf7 #c6dbef #9ecae1 #6baed6 #4292c6 #2171b5 #08519c #08306b".split(" "),Greys:"#ffffff #f0f0f0 #d9d9d9 #bdbdbd #969696 #737373 #525252 #252525 #000000".split(" "),
YlGnBu:"#ffffd9 #edf8b1 #c7e9b4 #7fcdbb #41b6c4 #1d91c0 #225ea8 #253494 #081d58".split(" "),PuBuGn:"#fff7fb #ece2f0 #d0d1e6 #a6bddb #67a9cf #3690c0 #02818a #016c59 #014636".split(" "),YlOrRd:"#ffffcc #ffeda0 #fed976 #feb24c #fd8d3c #fc4e2a #e31a1c #bd0026 #800026".split(" "),YlOrBr:"#ffffe5 #fff7bc #fee391 #fec44f #fe9929 #ec7014 #cc4c02 #993404 #662506".split(" "),Greens:"#f7fcf5 #e5f5e0 #c7e9c0 #a1d99b #74c476 #41ab5d #238b45 #006d2c #00441b".split(" "),Purples:"#fcfbfd #efedf5 #dadaeb #bcbddc #9e9ac8 #807dba #6a51a3 #54278f #3f007d".split(" "),
Oranges:"#fff5eb #fee6ce #fdd0a2 #fdae6b #fd8d3c #f16913 #d94801 #a63603 #7f2704".split(" "),PuOr:"#7f3b08 #b35806 #e08214 #fdb863 #fee0b6 #f7f7f7 #d8daeb #b2abd2 #8073ac #542788 #2d004b".split(" "),BrBG:"#543005 #8c510a #bf812d #dfc27d #f6e8c3 #f5f5f5 #c7eae5 #80cdc1 #35978f #01665e #003c30".split(" "),PRGn:"#40004b #762a83 #9970ab #c2a5cf #e7d4e8 #f7f7f7 #d9f0d3 #a6dba0 #5aae61 #1b7837 #00441b".split(" "),PiYG:"#8e0152 #c51b7d #de77ae #f1b6da #fde0ef #f7f7f7 #e6f5d0 #b8e186 #7fbc41 #4d9221 #276419".split(" "),
RdBu:"#67001f #b2182b #d6604d #f4a582 #fddbc7 #f7f7f7 #d1e5f0 #92c5de #4393c3 #2166ac #053061".split(" "),RdGy:"#67001f #b2182b #d6604d #f4a582 #fddbc7 #ffffff #e0e0e0 #bababa #878787 #4d4d4d #1a1a1a".split(" "),RdYlBu:"#a50026 #d73027 #f46d43 #fdae61 #fee090 #ffffbf #e0f3f8 #abd9e9 #74add1 #4575b4 #313695".split(" "),RdYlGn:"#a50026 #d73027 #f46d43 #fdae61 #fee08b #ffffbf #d9ef8b #a6d96a #66bd63 #1a9850 #006837".split(" "),Spectral:"#9e0142 #d53e4f #f46d43 #fdae61 #fee08b #ffffbf #e6f598 #abdda4 #66c2a5 #3288bd #5e4fa2".split(" "),
Heat:["#0000ff","#00ffff","#00ff00","#ffff00","#ff0000"],Jet:"#000080 #0000ff #0080ff #00ffff #80ff80 #ffff00 #ff8000 #ff0000 #800000".split(" "),Parula:"#352a87 #2450d0 #0a72de #128ad2 #06a4ca #1ab2b1 #51bd90 #92bf72 #c6bc5e #f6ba46 #f9d528 #f9fb0e".split(" "),Magma:"#000004 #120d31 #331067 #5a167e #7e2482 #a3307e #c83e73 #e95462 #f97b5d #fea973 #fed395 #fcfdbf".split(" "),Inferno:"#000004 #140b34 #390963 #61136e #85216b #a92e5e #cb4149 #e65d2f #f78212 #fcae12 #f5db4c #fcffa4".split(" "),Plasma:"#0d0887 #3e049c #6300a7 #8707a6 #a62098 #c03a83 #d5546e #e76f5a #f58c46 #fdae32 #fcd225 #f0f921".split(" "),
Viridis:"#440154 #482173 #433e85 #38598c #2d708e #25858e #1e9b8a #2ab07f #50c46a #86d549 #c2df23 #fde725".split(" "),Cividis:"#00204d #00306f #2a406c #48526b #5e626e #727374 #878479 #9e9677 #b6a971 #d0be67 #ead357 #ffea46".split(" "),GitHub:"#eeeeee #c6e48b #7bc96f #239a3b #196127",Turbo:"#30123b #4454c3 #448ffe #1fc9dd #2aefa1 #7dff56 #c1f334 #f1cb3a #fe932a #ea4e0d #be2102 #7a0403",Grey:"#000000 #ffffff",Gray:"#000000 #ffffff"}},{linearGradient:function(a,b,c){a=y.workingContext.createLinearGradient(a[0],
a[1],b[0],b[1]);if("Array"==Object.prototype.toString.call(c).slice(8,-1)){b={};const d=1/c.length;for(let e=0;e<c.length;e++)b[d*e]=c[e];c=b}else if("Object"!=Object.prototype.toString.call(c).slice(8,-1))throw Error("Color Stops must be an Array or an Object");for(let d=Object.keys(c||{}),e=0;e<d.length;e++)b=Number(d[e]),a.addColorStop(b,c[b]);return a}},{randomColor:function(){let a="#";for(let b=0;3>b;b++){let c=Oa(255).toString(16);c=1===c.length?0+c:c;a+=c}return a},randomDefinedColor:function(){return ba[Qa[Oa(Qa.length-
1)]]}},ka,Na,La,Ta,{getPixelColor:function(a,b,c){b=a.width*c+b;return a.data.subarray(b,b+4)},hasNeighbourColor:function(a,b,c,d){let e=b.data;b=b.width;for(let h=c-1;h<=c+1;h++)for(let g=d-1;g<=d+1;g++)if(h!==c||g!==d){var f=b*d+c;f=e.subarray(f,f+4);if(f[0]===a[0]&&f[1]===a[1]&&f[2]===a[2]&&f[3]===a[3])return!0}return!1},imageDataToColorArray:function(a){let b=a.width,c=a.height;a=Array.from(a.data);let d=[];for(var e=0;e<c;e++){d.push([]);for(var f=0;f<b;f++){let h=c*e+f;d[e].push([a[h],a[h+1],
a[h+2],a[h+3]])}}return d},imageToData:function(a,b,c,d,e,f){f=void 0===f?!1:f;let h=document.createElement("canvas"),g=h.getContext("2d"),k=y.dpr;b=b*k||0;c=c*k||0;h.width=d=(isNaN(d)?a.width:d)*k;h.height=e=(isNaN(e)?a.height:e)*k;g.imageSmoothingEnabled=f;g.drawImage(a,0,0,d,e);return g.getImageData(b,c,d,e)},replaceColorInImage:function(a,b,c,d,e){d=void 0===d?!1:d;e=void 0===e?0:e;let f=a.data;a=y.workingContext.createImageData(a.width,a.height);const [h,g,k,l]=u(b).rgbaA,[p,n,q,t]=u(c).rgbaA;
b=0;for(c=0;c<f.length;c+=4){let v=f[c],B=f[c+1],x=f[c+2],w=f[c+3];Math.abs(v-h)<=e&&Math.abs(B-g)<=e&&Math.abs(x-k)<=e&&(d?Math.abs(w-l)<=e:1)?(a.data[c]=p,a.data[c+1]=n,a.data[c+2]=q,a.data[c+3]=d?t:255):(a.data[c]=v,a.data[c+1]=B,a.data[c+2]=x,a.data[c+3]=d?w:255,b++)}return a}},Ab,db,{arcBrace:function(a,b,c,d,e,f,h,g){c=void 0===c?100:c;d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;f=void 0===f?10:f;g=void 0===g?10:g;const k=y.workingContext,l=c-f;f=c+(void 0===h?f:h);k.save();k.translate(a,b);k.rotate(e);
k.beginPath();k.moveTo(c,0);k.lineTo(l,0);k.arc(0,0,c,0,d);k.lineTo(l*Math.cos(d),l*Math.sin(d));k.moveTo(c*Math.cos(d/2),c*Math.sin(d/2));k.lineTo(f*Math.cos(d/2),f*Math.sin(d/2));k.stroke();k.closePath();k.restore();return[(f+g)*Math.cos(d/2+e)+a,(f+g)*Math.sin(d/2+e)+b]},curlyBrace:function(a,b,c,d,e,f,h){e=void 0===e?20:e;f=void 0===f?.6:f;h=void 0===h?.8:h;let g=a-c,k=b-d,l=Math.sqrt(g*g+k*k);g/=l;k/=l;const p=a-.5*l*g+e*k*h;h=b-.5*l*k-e*g*h;y.workingContext.stroke(new Path2D(`M ${a} ${b} `+
`Q ${a+f*e*k} ${b-f*e*g} ${a-.25*l*g+(1-f)*e*k} ${b-.25*l*k-(1-f)*e*g} `+`T ${p} ${h} `+`M ${c} ${d} `+`Q ${c+f*e*k} ${d-f*e*g} ${a-.75*l*g+(1-f)*e*k} ${b-.75*l*k-(1-f)*e*g} `+`T ${p} ${h}`));return[p,h]}},S,T,U,Kb,Hb,{numberPlane:function(a={}){const b=y.workingContext;a=C({includeTicks:!0,includeLabels:!0,includeLeftTip:!1,includeRightTip:!1,excludeOriginTick:!0,unitSpace:50,subgrids:[1,1],gridStrokeWidth:1.3,subgridStrokeWidth:.8,gridStrokeColor:ba.aqua+"44",subgridStrokeColor:"#88888850",originPosition:Cb},
a);let {originPosition:c,subgrids:d,gridStrokeWidth:e,subgridStrokeWidth:f,gridStrokeColor:h}=a;var g=Jb(a);const {xAxis:k,yAxis:l}=g,[p,n,q]=k.range,[t,v,B]=l.range,x=g.unitSpace,w=g.unitValue;pa();g.scaleCanvas();b.translate(c[0],c[1]);e/=x[1];f/=x[1];b.beginPath();b.lineWidth=e;b.strokeStyle=h;g=v-v%B;for(var r=p;r<=n;r+=q)0==r||k.includeLeftTip&&r==p||k.includeRightTip&&r==n||(b.moveTo(r,t),b.lineTo(r,g));g=n-n%q;for(r=t;r<=v;r+=B)0==r||l.includeLeftTip&&r==t||l.includeRightTip&&r==v||(b.moveTo(p,
r),b.lineTo(g,r));b.stroke();b.closePath();b.beginPath();b.lineWidth=f;b.strokeStyle=a.subgridStrokeColor;a=1/(d[0]+1);for(g=p;g<=n;g+=a)0!=g%w[0]&&(b.moveTo(g,t),b.lineTo(g,v));a=1/(d[1]+1);for(g=t;g<=v;g+=a)0!=g%w[1]&&(b.moveTo(p,g),b.lineTo(n,g));b.stroke();b.closePath();ra();return Bb({originPosition:c,unitValue:w,unitSpace:x,xAxis:k,yAxis:l,subgridUnit:d})}},{polarPlane:function(a){a=void 0===a?{}:a;var b=y.workingContext,c=y.workingCanvas,d={pi:20,tau:20,deg:24,grad:20};a=C({originPosition:Mb,
maxRadius:4,size:.8*Math.min(parseInt(c.style.width),parseInt(c.style.height)),radiusStep:1,azimuthUnit:"PI radians",azimuthDivisions:0,azimuthCompactFraction:!0,azimuthDirection:"ccw",azimuthoffset:0,fadedLines:1,radiusConfigs:{includeLabels:!0,includeTicks:!1,includeRightTip:!1,strokeColor:"#fff",strokeWidth:2,fontSize:16,fontFamily:"serif",labelDirection:[.4,-1],labelAxis:[1],numbersToExclude:[0]},azimuthConfigs:{includeLabels:!0,labelBuff:.45,fontSize:15,fontFamily:"serif",textAlign:"center",
textBaseline:"middle",strokeColor:"#58c4ddaa",strokeWidth:1.3,textRenderer:cb,decimalPoints:0,numbersToExclude:[0]},fadedLineConfigs:{strokeColor:"#8888",strokeWidth:1}},a);const {originPosition:e,maxRadius:f,size:h,radiusStep:g,azimuthDivisions:k,radiusConfigs:l}=a;c=h/f/2;var p=a,n=a.azimuthUnit;n=n.toLowerCase().trim().replace(/(rad.*|\s*)/,"rad");if(/.*(pi|\u03c0).*/.test(n))n="pi";else if(/.*(tau|\u03c4).*/.test(n))n="tau";else if(/.*(deg|\u00b0).*/.test(n))n="deg";else if(/.*(grad|\u1d4d).*/.test(n))n=
"grad";else throw Error("Invalid azimuth units. Expected one of: PI radians, TAU radians, degrees, gradians.");p.azimuthUnit=n;a.azimuthDirection=a.azimuthDirection.toLowerCase();a.fadedLines++;if(0==k||isNaN(k))a.azimuthDivisions=d[a.azimuthUnit]||20;a.tickList=Fb(0,f,g);d=Array.isArray(l.labelsToInclude)?l.labelsToInclude:a.tickList;p=l.labelAxis;n=[];var q=[],t=[...d].reverse().slice(0,f),v=Array(f).fill("");p.includes(3)?n.push(...t):n.push(...v);p.includes(1)?n.push(...d):n.push(...v);p.includes(4)?
q.push(...t):q.push(...v);p.includes(2)?q.push(...d):q.push(...v);const [B,x]=[n,q];l.range=[-f,f,g];l.length=h;a.radiusConfigs=l;a.xLabels=B;a.yLabels=x;a.radialSpacing=c;d=C(l,{labelsToInclude:B,originPosition:e,axisLabel:""});p=C(l,{labelsToInclude:x,originPosition:e,axisLabel:""});pa();b.translate(e[0]*c,e[1]*c);let {azimuthDivisions:w,azimuthDirection:r,azimuthConfigs:I,fadedLines:E}=a;n=[];const {azimuthUnit:H,radialSpacing:D,azimuthConfigs:z,azimuthDivisions:A,azimuthCompactFraction:O}=a;if("pi"==
H||"tau"==H)for(xb()?(z.textRenderer=zb,t="tau"==H?"\\tau":"\\pi",Aa(z.fontSize*D),q=xc):(console.warn("MathJax not found, using fillText instead"),t="pi"==H?"\u03c0":"\u03c4",q=yc),v=0;v<A;v++)n.push(q(1*v,A,!0,O,t));else if("deg"==H)for(q=0;q<A;q++)n.push((360*q/A).toFixed(z.decimalPoints)+"\u00b0");else if("grad"==H)for(q=0;q<A;q++)n.push((400*q/A).toFixed(z.decimalPoints)+"\u1d4d");a.labels=n;a.angleIncrementor=2*Math.PI/w;"cw"==r&&(a.angleIncrementor*=-1);if(1<E){const {maxRadius:Ba,azimuthoffset:Ca,
angleIncrementor:Ya,fadedLineConfigs:R,azimuthDivisions:Da,fadedLines:na,tickList:Ea,radialSpacing:Za}=a;n=1/na;t=(Ea.length-1)*na;q=Da*na;b.doFill=!1;b.doStroke=!0;b.strokeStyle=R.strokeColor;b.lineWidth=R.strokeWidth;b.beginPath();b.moveTo(0,0);for(v=0;v<t;v++)b.arc(0,0,v*n*Za,0,2*Math.PI);b.lineWidth=R.strokeWidth;for(t=0;t<q;t++)v=t*Ya*n,b.moveTo(0,0),b.lineTo(Math.cos(v+Ca)*Ba*Za,Math.sin(v+Ca)*Ba*Za);b.stroke()}const {azimuthConfigs:P,tickList:ha,azimuthDivisions:la,angleIncrementor:aa,azimuthoffset:Ua,
maxRadius:ya,radialSpacing:$a}=a;b.beginPath();b.strokeStyle=P.strokeColor;b.lineWidth=P.strokeWidth;b.moveTo(0,0);for(n=0;n<ha.length;n++)b.arc(0,0,n*$a,0,2*Math.PI);for(n=0;n<la;n++)q=n*aa+Ua,0!=q%(Math.PI/2)&&(b.moveTo(0,0),b.lineTo(Math.cos(q)*ya*$a,Math.sin(q)*ya*$a));b.stroke();if(I.includeLabels){const {azimuthDivisions:Ba,angleIncrementor:Ca,azimuthoffset:Ya,azimuthConfigs:R,maxRadius:Da,labels:na,radialSpacing:Ea}=a;Aa(R.fontSize);Fa(R.fontFamily);Ha(R.textAlign);Ia(R.textBaseline);for(b=
0;b<Ba;b++)a=b*Ca+Ya,R.numbersToExclude.includes(a)||R.textRenderer(na[b],Math.cos(a)*(Da+R.labelBuff)*Ea,Math.sin(a)*(Da+R.labelBuff)*Ea)}ra();Jb({xAxis:d,yAxis:p});return Lb({azimuthAnglularSpace:2*Math.PI/k,radialSpacing:c})}},{lens:function(a,b,c,d){var e=ab(a,b,c,d),f=e[0],h=e[1];e=Math.atan2(f[1]-a[1],f[0]-a[0]);let g=Math.atan2(h[1]-a[1],h[0]-a[0]);f=Math.atan2(f[1]-c[1],f[0]-c[0]);h=Math.atan2(h[1]-c[1],h[0]-c[0]);let k=y.workingContext;k.beginPath();k.arc(a[0],a[1],b,e,g);k.arc(c[0],c[1],
d,h,f);k.doStroke&&k.stroke();k.doFill&&k.fill();k.closePath()},polygonWithRatioOfCentralAngles:function(a,b,c,d,e=0){Array.isArray(d)||console.error("ratio provided is not array");var f=d.reduce((g,k)=>g+k,0);f=2*Math.PI/f;let h=y.workingContext;h.save();h.translate(a,b);h.rotate(e);h.beginPath();h.moveTo(c,0);for(a=0;a<d.length;a++)h.rotate(f*d[a]),h.lineTo(c,0);h.doStroke&&h.stroke();h.doFill&&h.fill();h.closePath();h.restore()}},V,M,Pa,Pb,X,uc,{}].forEach(a=>F(a));}).call(this);
