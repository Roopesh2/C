(function(){'use strict';function f(a,b,c={}){var d={width:200,height:200,dpr:Math.ceil(window.devicePixelRatio||1),doFill:!0,doStroke:!0,pathStarted:!1,yAxisInverted:!1,pauseAnimations:!1,netRotation:0,currentLoop:void 0,currentLoopName:void 0,textAlign:"start",textBaseline:"alphabetic",fillStyle:"#ffffff",background:"#ffffff",strokeStyle:"#000000",colorMode:"rgba",lineWidth:1,fontSize:"20px",fontFamily:"serif",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",lineHeight:1.2,font:"20px serif",
events:{}};c=m(d,c);let e;"string"===typeof b?b=document.querySelector(b):b instanceof HTMLElement||(b=document.body);let g=b.querySelector("canvas");e=g?g:f.makeCanvas(c);"number"!==typeof b.CID&&(b.CID=1);let h=b.CID,k=b.id||b.classList.item(0),l=c.name||e.name;"string"!=typeof l&&(l=k+"-C-"+h,c.name=l);e.id=l;e.classList.add(l);b.appendChild(e);g?f.workingContext=e.context:(f.resizeCanvas(e,c),b=e.getContext("2d"),D(c,b),e.context=b,e.context.setTransform(c.dpr,0,0,c.dpr,0,0),f.workingContext=
e.context,f.workingContext.savedStates=d,f.workingContext.delayedAnimations=[]);f.contextList[l]=e.context;d={};for(let n in c.events)if(b=c.events[n])e.addEventListener(n,b),d[n]=b;e.events=d;f.dpr=c.dpr;f.workingCanvas=e;a()}f.contextList={};f.nameID=0;f.getWindowWidth=function(a=document.body){a=window.getComputedStyle(a);return parseInt(a.width,10)-parseInt(a.paddingRight,10)-parseInt(a.paddingLeft,10)};
f.resizeCanvas=function(a,b){const c=b.width,d=b.height;b=b.dpr||window.devicePixelRatio;a.style.width=c+"px";a.style.height=d+"px";a.width=b*c;a.height=b*d;a.rWidth=c;a.rHeight=d};f.makeCanvas=function(a){const b=document.createElement("canvas");f.resizeCanvas(b,a);return b};f.addExtension=function(a){D(a,window);D(a,f.extensions,!1)};f.debugAnimations=!1;f.extensions={};f.debug=function(a){f.debugAnimations="boolean"!==typeof a?!0:a};f.getCanvas=function(a){return f.contextList[a]||f.workingContext};
f._ANIMATIONLOG_=[];f.functions={};f.COLORLIST={};(function(a){let b=Object.keys(a);for(let c=0;c<b.length;c++){let d=b[c];Object.defineProperty(window,d,{configurable:!0,enumerable:!0,get:a[d],set:function(e){Object.defineProperty(window,d,{configurable:!0,enumerable:!0,value:e,writable:!0})}})}})({CENTERX:function(){return f.workingCanvas.rWidth/2},CENTERY:function(){return f.workingCanvas.rHeight/2}});window.C=f;Object.clone=Object.clone||function(a){let b={};for(let c=0,d=Object.keys(a);c<d.length;c++)b[d[c]]=a[d[c]];return b};function D(a,b=window,c=!1){Object.assign(b,a);c&&Object.assign(f.functions,a)}function aa(a,b,c,d=!1){let e=[];if(d)for(;b>=a;b-=c)e.push(b);else for(;a<=b;a+=c)e.push(a);return e}
function m(a,b={},c=!0){b=Object.clone(b);for(let d=0,e=Object.keys(a);d<e.length;d++){let g=e[d],h=a[g],k=b[g],l=Object.prototype.toString.call(h).slice(8,-1),n=Object.prototype.toString.call(k).slice(8,-1);"Object"==l&&c&&(b[g]=m(h,k,c));"Undefined"!=l&&"Null"!=l&&n!==l&&(b[g]=a[g])}return b}function I(a){a.doFill&&a.fill();a.doStroke&&a.stroke()}function ba(a,b,c=1E-6){for(let d=0;d<b.length;d++)if(Math.abs(b[d]-a)<=c)return d;return-1}window.applyDefault=m;var ea={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};let fa=/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,ha=/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,ia=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,ja=/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,ka=/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i,la=/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(?:(\d+(?:\.\d+)?)|(?:\.\d+))\)$/i;
function J(...a){var b;Array.isArray(a[0])&&(a=a[0]);let c=a[0];if("number"===typeof c)1===a.length?b=[c,c,c,1]:2===a.length?b=[c,a[1],0,1]:3===a.length?b=[c,a[1],a[2],1]:4===a.length&&(b=[c,a[1],a[2],a[3]]);else if("string"==typeof c)if(b=c.replace(/\s/g,"").toLowerCase(),ea[b])b=J(ea[b]).rgbaA;else if(fa.test(b))b=fa.exec(b).slice(1).map(g=>parseInt(g+g,16)),b[3]=1;else if(ia.test(b))b=ia.exec(b).slice(1).map(g=>parseInt(g,16)),b[3]=1;else if(ha.test(b))b=ha.exec(b).slice(1).map(g=>parseInt(g+g,
16));else if(ja.test(b))b=ja.exec(b).slice(1).map(g=>parseInt(g,16));else if(ka.test(b))b=ka.exec(b).slice(1).map(g=>parseInt(g,10)),b[3]=1;else if(la.test(b))b=la.exec(b).slice(1).map((g,h)=>3==h?parseFloat(g):parseInt(g,10));else throw console.log(b),Error("Given color is not valid");else return b=c,{rgbaA:b,rgba:b,hex6:b,hex8:b,hex:b,hsl:b};a=b[3];b[3]*=255;let d="#";b.map((g,h)=>{3>h&&(g=Math.round(g).toString(16),d+=1==g.length?"0"+g:g)});let e="#";b.map((g,h)=>{4>h&&(g=Math.round(g).toString(16),
e+=1==g.length?"0"+g:g)});b[3]=a;return{rgbaA:b,rgba:`rgba(${b[0]}, ${b[1]}, ${b[2]}, ${b[3]})`,hex6:d,hex8:e,hex:e,hsl:`hsl(${b[0]}, ${b[1]}, ${b[2]})`}};let ma={loop:1},K={number:"color: #9afcad;",keyword:"color: #adacdf;",running:"color: yellow;",delayed:"color: orange;",finished:"color: #3aff5f;"};function L(a,b=0){f.workingContext.translate(a,b)}function na(a){f.workingContext.lineWidth=Number(a)}function N(a,b=a){f.workingContext.scale(a,b)}function oa(a){let b=f.workingContext;b.rotate(a);b.netRotation=(b.netRotation+a)%Math.PI*2}function pa(){f.workingContext.savedStates=O();f.workingContext.save()}
function qa(){D(f.workingContext.savedStates,f.workingContext);f.workingContext.restore()}function ra(){f.workingContext.setTransform(f.dpr,0,0,f.dpr,0,0)}function sa(...a){let b=f.workingContext;0<arguments.length?(b.strokeStyle=J(a).hex8,b.doStroke=!0):b.stroke()}function ta(...a){let b=f.workingContext;0!==arguments.length?(b.fillStyle=J(a).hex8,b.doFill=!0):b.fill()}
function O(a){a=f.contextList[a]||f.workingContext;return{background:a.background,colorMode:a.colorMode,strokeStyle:a.strokeStyle,fillStyle:a.fillStyle,lineWidth:a.lineWidth,doStroke:a.doStroke,doFill:a.doFill,pathStarted:a.pathStarted,yAxisInverted:a.yAxisInverted,netRotation:a.netRotation,fontStyle:a.fontStyle,fontVariant:a.fontVariant,fontWeight:a.fontWeight,fontStretch:a.fontStretch,fontSize:a.fontSize,lineHeight:a.lineHeight,fontFamily:a.fontFamily,font:a.font,textAlign:a.textAlign,textBaseline:a.textBaseline,
events:a.events}}
function ua(a,b,c,d,e=100,g={},h){function k(){n.currentLoop=window.requestAnimationFrame(k);f.workingContext=n;let r=O(c);g&&D(p,f.workingContext);b(window.performance.now()-n.timeStart,l());g&&D(r,f.workingContext)}function l(){let r=window.performance.now(),q=r-n.recentTimeStamp;n.recentTimeStamp=r;n.timeDelayList.push(q);n.totalTimeCaptured+=q;n.timeDelayList.length>e&&(n.totalTimeCaptured-=n.timeDelayList.shift());return n.timeDelayList.length/(n.totalTimeCaptured/1E3)}let n;"function"==typeof a&&
(g=d=c=b=a=ma.loop++,h=arguments[4]);c?n=f.contextList[c]:(n=f.workingContext,c=n.name);n.timeDelayList=[];n.totalTimeCaptured=0;let p=Object.assign(O(c)||{},g);if(void 0!=n.currentLoop)f.debugAnimations&&(console.log(c+": "+a+" %cdelayed",K.delayed),f._ANIMATIONLOG_.push({canvas:n,animationName:a,state:"delayed",settings:p})),n.delayedAnimations.push({name:a,settings:p,functionToRun:b,canvasName:c,timeDelay:d,timeDelaysToRemember:e,dur:h});else{if(f.debugAnimations){let r=`${c}: ${a} %crunning`,
q=[K.running];void 0!=h&&(r+=`%c for %c${h}ms`,q.push(K.keyword,K.number));f._ANIMATIONLOG_.push({canvas:n,animationName:a,state:"running",settings:p,dur:h});console.log(r,...q)}n.recentTimeStamp=window.performance.now();n.timeStart=window.performance.now();isNaN(d)?k():(n.currentLoopName=a,n.currentLoop=setInterval(function(){f.workingContext=n;let r=O(c);D(p,f.workingContext);b(window.performance.now()-n.timeStart,l());D(r,f.workingContext)},d))}}
function va(a,b){let c=f.workingContext;a?c=f.contextList[a]:a=c.name;clearInterval(c.currentLoop);window.cancelAnimationFrame(c.currentLoop);c.currentLoop=void 0;if(f.debugAnimations){a=`${a}: ${c.currentLoopName} %cfinished`;let d=[K.finished];void 0!=b&&(a+=`%c in %c${b.toFixed(3)}ms`,d.push(K.keyword,K.number));console.log(a,...d);f._ANIMATIONLOG_.push({canvas:c,animationName:c.currentLoopName,state:"finished",endTime:b})}0<c.delayedAnimations.length&&(b=c.delayedAnimations.shift(),ua(b.name,
b.functionToRun,b.canvasName,b.timeDelay,b.timeDelaysToRememberm,b.settings,b.dur))}function wa(){let a=f.workingContext;a.beginPath();a.pathStarted=!0}function xa(){let a=f.workingContext;a.closePath();a.pathStarted=!1}function P(a=!1){let b=f.workingContext;if(a){let {fontStyle:c,fontVariant:d,fontWeight:e,fontStretch:g,fontSize:h,lineHeight:k,fontFamily:l}=b;return`${c} ${d} ${e} ${g} ${h}/${k} ${l}`}return b.font}
function ya(a){let b=f.workingContext;b.fontSize="number"===typeof a?a+"px":a;b.font=P(!0)}function za(a="image/png"){return f.workingContext.canvas.toDataURL(a)};const Aa=Math.PI/180,Ba=180/Math.PI;let Ca={YlGn:"#ffffe5 #f7fcb9 #d9f0a3 #addd8e #78c679 #41ab5d #238443 #006837 #004529",GnBu:"#f7fcf0 #e0f3db #ccebc5 #a8ddb5 #7bccc4 #4eb3d3 #2b8cbe #0868ac #084081",BuGn:"#f7fcfd #e5f5f9 #ccece6 #99d8c9 #66c2a4 #41ae76 #238b45 #006d2c #00441b",PuBu:"#fff7fb #ece7f2 #d0d1e6 #a6bddb #74a9cf #3690c0 #0570b0 #045a8d #023858",BuPu:"#f7fcfd #e0ecf4 #bfd3e6 #9ebcda #8c96c6 #8c6bb1 #88419d #810f7c #4d004b",RdPu:"#fff7f3 #fde0dd #fcc5c0 #fa9fb5 #f768a1 #dd3497 #ae017e #7a0177 #49006a",PuRd:"#f7f4f9 #e7e1ef #d4b9da #c994c7 #df65b0 #e7298a #ce1256 #980043 #67001f",
OrRd:"#fff7ec #fee8c8 #fdd49e #fdbb84 #fc8d59 #ef6548 #d7301f #b30000 #7f0000",Reds:"#fff5f0 #fee0d2 #fcbba1 #fc9272 #fb6a4a #ef3b2c #cb181d #a50f15 #67000d",Blues:"#f7fbff #deebf7 #c6dbef #9ecae1 #6baed6 #4292c6 #2171b5 #08519c #08306b",Greys:"#ffffff #f0f0f0 #d9d9d9 #bdbdbd #969696 #737373 #525252 #252525 #000000",YlGnBu:"#ffffd9 #edf8b1 #c7e9b4 #7fcdbb #41b6c4 #1d91c0 #225ea8 #253494 #081d58",PuBuGn:"#fff7fb #ece2f0 #d0d1e6 #a6bddb #67a9cf #3690c0 #02818a #016c59 #014636",YlOrRd:"#ffffcc #ffeda0 #fed976 #feb24c #fd8d3c #fc4e2a #e31a1c #bd0026 #800026",
YlOrBr:"#ffffe5 #fff7bc #fee391 #fec44f #fe9929 #ec7014 #cc4c02 #993404 #662506",Greens:"#f7fcf5 #e5f5e0 #c7e9c0 #a1d99b #74c476 #41ab5d #238b45 #006d2c #00441b",Purples:"#fcfbfd #efedf5 #dadaeb #bcbddc #9e9ac8 #807dba #6a51a3 #54278f #3f007d",Oranges:"#fff5eb #fee6ce #fdd0a2 #fdae6b #fd8d3c #f16913 #d94801 #a63603 #7f2704",PuOr:"#7f3b08 #b35806 #e08214 #fdb863 #fee0b6 #f7f7f7 #d8daeb #b2abd2 #8073ac #542788 #2d004b",BrBG:"#543005 #8c510a #bf812d #dfc27d #f6e8c3 #f5f5f5 #c7eae5 #80cdc1 #35978f #01665e #003c30",
PRGn:"#40004b #762a83 #9970ab #c2a5cf #e7d4e8 #f7f7f7 #d9f0d3 #a6dba0 #5aae61 #1b7837 #00441b",PiYG:"#8e0152 #c51b7d #de77ae #f1b6da #fde0ef #f7f7f7 #e6f5d0 #b8e186 #7fbc41 #4d9221 #276419",RdBu:"#67001f #b2182b #d6604d #f4a582 #fddbc7 #f7f7f7 #d1e5f0 #92c5de #4393c3 #2166ac #053061",RdGy:"#67001f #b2182b #d6604d #f4a582 #fddbc7 #ffffff #e0e0e0 #bababa #878787 #4d4d4d #1a1a1a",RdYlBu:"#a50026 #d73027 #f46d43 #fdae61 #fee090 #ffffbf #e0f3f8 #abd9e9 #74add1 #4575b4 #313695",RdYlGn:"#a50026 #d73027 #f46d43 #fdae61 #fee08b #ffffbf #d9ef8b #a6d96a #66bd63 #1a9850 #006837",
Spectral:"#9e0142 #d53e4f #f46d43 #fdae61 #fee08b #ffffbf #e6f598 #abdda4 #66c2a5 #3288bd #5e4fa2",Heat:"#0000ff #00ffff #00ff00 #ffff00 #ff0000",Jet:"#000080 #0000ff #0080ff #00ffff #80ff80 #ffff00 #ff8000 #ff0000 #800000",Parula:"#352a87 #2450d0 #0a72de #128ad2 #06a4ca #1ab2b1 #51bd90 #92bf72 #c6bc5e #f6ba46 #f9d528 #f9fb0e",Magma:"#000004 #120d31 #331067 #5a167e #7e2482 #a3307e #c83e73 #e95462 #f97b5d #fea973 #fed395 #fcfdbf",Inferno:"#000004 #140b34 #390963 #61136e #85216b #a92e5e #cb4149 #e65d2f #f78212 #fcae12 #f5db4c #fcffa4",
Plasma:"#0d0887 #3e049c #6300a7 #8707a6 #a62098 #c03a83 #d5546e #e76f5a #f58c46 #fdae32 #fcd225 #f0f921",Viridis:"#440154 #482173 #433e85 #38598c #2d708e #25858e #1e9b8a #2ab07f #50c46a #86d549 #c2df23 #fde725",Cividis:"#00204d #00306f #2a406c #48526b #5e626e #727374 #878479 #9e9677 #b6a971 #d0be67 #ead357 #ffea46",GitHub:"#eeeeee #c6e48b #7bc96f #239a3b #196127",Turbo:"#30123b #4454c3 #448ffe #1fc9dd #2aefa1 #7dff56 #c1f334 #f1cb3a #fe932a #ea4e0d #be2102 #7a0403",Grey:"#000000 #ffffff",Gray:"#000000 #ffffff"};
for(var Da in Ca)Ca[Da]=Ca[Da].split(" ");function Ga(a=10,b=0){return Math.round(Math.random()*(a-b)+b)};let S=Object.keys(ea);const Ha=S.indexOf("TRANSPARENT");S=S.slice(0,Ha).concat(S.slice(Ha+1));function Ia(a,b,c){a=J(a).rgbaA;b=J(b).rgbaA;return J(Math.min(Math.max(0,(b[0]-a[0])*c+a[0]),255),Math.min(Math.max(0,(b[1]-a[1])*c+a[1]),255),Math.min(Math.max(0,(b[2]-a[2])*c+a[2]),255),Math.min(Math.max(0,(b[3]-a[3])*c+a[3]),255)).hex8};function Ja(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a};function Ka(a,b,c){var d=new Image;d.src=a;"function"==typeof b&&d.addEventListener("load",()=>b(d),!1);"function"==typeof c&&d.addEventListener("error",e=>c(e,d),!1);return d};function La(a){if("object"!=typeof window.MathJax||"function"!=typeof window.MathJax.tex2svg)throw Error("MathJax is not found. Please include it.");var b=f.workingContext;a=window.MathJax.tex2svg(a).getElementsByTagName("svg")[0];let c=a.getElementsByTagName("g")[0];a.style.verticalAlign="1ex";c.setAttribute("stroke",b.strokeStyle);c.setAttribute("fill",b.fillStyle);b=new Blob([a.outerHTML],{type:"image/svg+xml;charset=utf-8"});b=(window.URL||window.webkitURL).createObjectURL(b);a=new Image;a.src=
b;return a};function Ma(a,b=0,c=0,d){let e=f.workingContext;e.yAxisInverted&&(N(1,-1),c*=-1);e.fillText(a,b,c,d);e.yAxisInverted&&N(1,-1)};function Na(a,b){return Math.sqrt(Math.pow(a[0]-b[0],2)+Math.pow(a[1]-b[1],2))}function Oa(a,b,c,d=10){Array.isArray(a)&&2===a.length&&(b=a[1],a=a[0]);return[Math.cos(c)*d+a,Math.sin(c)*d+b]}function Pa(a,b,c,d){b=(b[1]-a[1])/(b[0]-a[0]);d=(d[1]-c[1])/(d[0]-c[0]);a=a[1]-a[0]*b;c=(c[1]-c[0]*d-a)/(b-d);return[c,b*c+a]}
function Qa(a,b,c,d){const e=Na(a,c);d=(b*b-d*d+e*e)/(2*e);b=Math.sqrt(b*b-d*d);d/=e;d=[(c[0]-a[0])*d+a[0],(c[1]-a[1])*d+a[1]];return[[d[0]+b*(c[1]-a[1])/e,d[1]-b*(c[0]-a[0])/e],[d[0]-b*(c[1]-a[1])/e,d[1]+b*(c[0]-a[0])/e]]}function Ra(a,b,c=10){let d=b[0]-a[0],e=b[1]-a[1];b=Math.atan2(e,d);c=Math.sqrt(d*d+e*e)+c;return[a[0]+Math.cos(b)*c,a[1]+Math.sin(b)*c]};function T(a,b,c,d,e,g){let h=f.workingContext,k=h.lineWidth;var l=Math.sqrt(Math.pow(a-c,2)+Math.pow(b-d,2));isNaN(e)&&(e=l);g=g||e/1.2;let n=e-l;var p=Math.sqrt(Math.pow(n,2)+Math.pow(g/2,2));g=Math.atan(g/(2*n));l>e&&(g+=Math.PI);e=Math.atan2(d-b,c-a);l=[a-Math.cos(g+e)*p,b-Math.sin(g+e)*p];p=[a-Math.cos(-g+e)*p,b-Math.sin(-g+e)*p];h.doStroke&&"bevel"!=h.lineJoin&&(c-=Math.cos(e)*k,d-=Math.sin(e)*k);h.save();h.pathStarted||h.beginPath();h.moveTo(a,b);h.lineTo(l[0],l[1]);h.lineTo(c,d);h.lineTo(p[0],
p[1]);h.lineTo(a,b);h.pathStarted||(I(h),h.closePath());h.restore()}function Sa(a,b,c,d,e,g,h,k){e=void 0===e?15:e;g=void 0===g?e/1.2:g;h=void 0===h?0:h;k=void 0===k?0:k;var l=Math.atan2(d-b,c-a),n=Math.sin(l)*k;c-=Math.cos(l)*k;d-=n;k=Math.cos(l)*(e-h);h=Math.sin(l)*(e-h);l=f.workingContext;(n=l.pathStarted)||wa();l.moveTo(a,b);l.lineTo(c-k,d-h);l.stroke();T(c-k,d-h,c,d,e,g);n||(I(l),xa())}
function Ta(a,b,c,d,e,g,h,k,l,n){d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;g=void 0===g?15:g;h=void 0===h?g/1.2:h;k=void 0===k?0:k;l=void 0===l?0:l;n=void 0===n?!1:n;const p=f.workingContext,r=g/c;p.save();k=r-k/c;p.beginPath();n?(k+=l,p.arc(a,b,c,k+e,d+e),p.stroke(),p.closePath(),T(a+c*Math.cos(e+k),b+c*Math.sin(e+k),a+c*Math.cos(e+l),b+c*Math.sin(e+l),g,h)):(d-=l,p.arc(a,b,c,e,d-k+e),p.stroke(),p.closePath(),T(a+c*Math.cos(e+d-k),b+c*Math.sin(e+d-k),a+c*Math.cos(e+d),b+c*Math.sin(e+d),g,h));p.restore()}
;function Ua(a,b,c,d,e=1){return[b[0]+(c[0]-a[0])/6*e,b[1]+(c[1]-a[1])/6*e,c[0]-(d[0]-b[0])/6*e,c[1]-(d[1]-b[1])/6*e]}function Va(a,b=1,c=!0){for(let d=0;d<a.length-1;d++){let e=a[d+1],g=Ua(0<d?a[d-1]:c?a[a.length-2]:a[0],a[d],e,d!=a.length-2?a[d+2]:c?a[1]:e,b);f.workingContext.bezierCurveTo(g[0],g[1],g[2],g[3],e[0],e[1])}}function Wa(a,b=1,c=!0){let d=f.workingContext;d.beginPath();d.moveTo(a[0][0],a[0][1]);Va(a,b,c);d.doFill&&c&&d.fill();d.doStroke&&d.stroke();d.closePath()}
function U(a,b,c,d){let e=f.workingContext;e.beginPath();e.moveTo(a,b);e.lineTo(c,d);e.stroke();e.closePath()}function Xa(a,b,c,d){let e=f.workingContext;e.beginPath();e.rect(a,b,c,d);e.doFill&&e.fill();e.doStroke&&e.stroke();e.closePath()}function Ya(a,b,c,d,e=0){Za(a,b,c,d/(2*Math.sin(Math.PI/c)),e)}
function Za(a,b,c,d,e=0){let g=0,h=2*Math.PI/c,k=f.workingContext;e+=h/2;let l=[Math.cos(e)*d+a,Math.sin(e)*d+b];k.beginPath();for(k.moveTo(l[0],l[1]);g++<c;)k.lineTo(Math.cos(g*h+e)*d+a,Math.sin(g*h+e)*d+b);k.lineTo(l[0],l[1]);k.closePath();k.doFill&&k.fill();k.doStroke&&k.stroke()};const $a={then:function(a){a();return $a}};let ab={parametricFunction:1};const bb=[0,10,.1],cb=[1,1];
function db(a){function b(){let v=f.workingContext;for(let y=0;y<l.length;y++){let x=l[y];if(e)Wa(x,g,k);else{v.beginPath();v.moveTo(x[0][0],x[0][1]);for(let t=1;t<x.length;t++)v.lineTo(x[t][0],x[t][1]);v.closePath();I(v)}}}a=m({tension:1,unitValue:cb,unitSpace:cb,range:bb,discontinuities:[],smoothen:!0,closed:!1,draw:!0,dur:4E3},a);let {paramFunction:c,range:d,smoothen:e,tension:g,discontinuities:h,closed:k}=a;Array.isArray(d)&&2==d.length&&d.push((d[1]-d[0])/20);let l=[[]];var n=d[0];let p=d[1],
r=d[2];Array.isArray(h)||(h=[]);let q=1E-6,C=0,B=0,F=a.unitSpace[0]/a.unitValue[0],w=a.unitSpace[1]/a.unitValue[1];for(r<q&&(q=r/2);n<=p+q;n+=r){if(-1<ba(n,h,q)){-1<ba(n+r,h,q)&&(C++,l.push([]));continue}let v=c(n);l[C].push([v[0]*F,v[1]*w]);B++}a.draw&&b();let z=f.workingContext;return{points:l[0],dur:a.dur,name:"parametric-plot-"+ab.parametricFunction++,closed:a.closed,tension:a.tension||1,smoothen:a.smoothen,rateFunction:a.rateFunction,syncWithTime:a.syncWithTime||!1,draw:function(v=2E3){function y(u){return function(){u>=
t.length-2&&(va(),z.closePath(),z.doFill&&this.draw());let A=t[u],E=t[u+1],M=Ua(0<u?t[u-1]:k?t[t.length-2]:t[0],A,E,u!=t.length-2?t[u+2]:k?t[1]:E);u++;z.beginPath();z.moveTo(A[0],A[1]);z.bezierCurveTo(M[0],M[1],M[2],M[3],E[0],E[1]);z.stroke()}}function x(u){return function(){u>=t.length-2&&(va(),z.doFill&&this.draw());let A=t[u],E=t[++u];U(A[0],A[1],E[0],E[1])}}v/=B;for(let u=0;u<l.length;u++){var t=l[u];e?ua("parametric-plot-"+ab.parametricFunction++,y(0),f.workingContext.name,v):ua("parametric-plot-"+
ab.parametricFunction++,x(0),f.workingContext.name,v)}return $a}}}function eb(a){let b=a.paramFunction;a.paramFunction=c=>[c,b(c)];return db(a)}
function fb(a){function b(w){if(w>=F)return"rgba("+e[F].join()+")";if(w<=B)return"rgba("+e[B].join()+")";for(let z=0;z<q.length-1;z++){let v=q[z],y=q[z+1],x=e[v],t=e[y],u=k((w-v)/(y-v));if(w>=v&&w<y)return"rgba("+[(t[0]-x[0])*u+x[0],(t[1]-x[1])*u+x[1],(t[2]-x[2])*u+x[2],(t[3]-x[3])*u+x[3]].join()+")"}}a=m({min:[-4,-4],max:[4,4],colors:{"-5":"#b36e38b0","-3":"#ff9c52b0","-1":"#ffcea9b0",0:"#dcdcddb0",1:"#9fcaedb0",3:"#3d96dab0",5:"#2b6b99b0"},unitSpace:cb,unitValue:cb,resolution:1,interpolator:w=>
w},a,!1);let {min:c,max:d,colors:e,resolution:g,plotFunction:h,interpolator:k}=a,l=f.workingContext,n=a.unitSpace[0]/a.unitValue[0],p=a.unitSpace[1]/a.unitValue[1],r=a.unitValue[0]/a.unitSpace[0];a=a.unitValue[1]/a.unitSpace[1];let q=Object.keys(e).sort();for(var C of q)e[C]=J(e[C]).rgbaA;let B=Math.min(...q),F=Math.max(...q);l.save();for(C=c[0];C<=d[0];C+=g*r)for(let w=c[1];w<=d[1];w+=g*a)l.fillStyle=b(h(C,w)),l.fillRect(C*n,w*p,g,g);l.restore();return{min:B,max:F,colors:e}};function gb(a,b,c={}){return{getParametricFunction:function(d){d.unitSpace=a;d.unitValue=b;return db(d)},getFunctionGraph:function(d){d.unitSpace=a;d.unitValue=b;return eb(d)},getHeatPlot:function(d){d.unitSpace=a;d.unitValue=b;d.min=d.min||[c.xAxis.range[0],c.yAxis.range[0]];d.max=d.max||[c.xAxis.range[1],c.yAxis.range[1]];return fb(d)}}}const hb=[0,0];
function jb(a={}){var b=f.workingContext,c=f.workingCanvas;a=m({xAxis:{length:c.rWidth,includeTick:!0,includeLeftTip:!0,includeRightTip:!0,excludeOriginTick:!0,includeNumbers:!1},yAxis:{length:c.rHeight,rotation:Math.PI/2,textRotation:-Math.PI/2,textDirection:[0,.4],includeTick:!0,includeLeftTip:!0,includeRightTip:!0,excludeOriginTick:!0,includeNumbers:!1},center:hb},a);const {xAxis:d,yAxis:e}=a;a=a.center;var g=d.range;c=e.range;var h=d.length/2+g[0]/g[2]*(d.length/((g[1]-g[0])/g[2]));c=e.length/
2+c[0]/c[2]*(e.length/((c[1]-c[0])/c[2]));b.save();b.beginPath();b.translate(a[0],a[1]);b.translate(h,0);g=kb(d);b.translate(-h,c);const k=kb(e);h=[g.unitSpace,k.unitSpace];const l=[g.unitValue,k.unitValue];b.translate(-a[0],-a[1]-c);b.closePath();b.restore();b={center:a,xAxis:g,yAxis:k,unitValue:l,unitSpace:h};return Object.assign(b,gb(h,l,b))}
function kb(a={}){function b(){sa(g);d.lineWidth=p;var G=w?1:0;const Q=z?Y.length-1:Y.length;for(;G<Q&&0>v.indexOf(Y[0][G]);G++){const H=Y[G];if(0===Number(H)&&x)continue;let ca=C;-1<u.indexOf(H)&&(ca*=t);U(R*G,-ca/2,R*G,ca/2)}}function c(){const G=0<y.length?y:Y;ta(a.textColor);ya(n);const Q=-n/3*Math.cos(B)+F[1]*n;var H=w?1:0;const ca=z?G.length-1:G.length;for(;H<ca&&0>v.indexOf(G[H]);H++){const Ea="number"==typeof G[H]?G[H].toFixed(E):G[H];if(0===Number(Ea)&&x)continue;const Fa=d.measureText(Ea).width,
ib=-Fa/2*Math.cos(B)+F[0]*n+n/2*Math.sin(B);L(R*H+ib,Q-Fa*Math.sin(B));oa(B);Ma(Ea,0,0);oa(-B);L(-(R*H+ib),-(Q-Fa*Math.sin(B)))}}const d=f.workingContext;var e={rotation:0,lineWidth:2,tipWidth:13,textSize:17,tipHeight:10,tickHeight:10,textRotation:0,length:parseInt(f.workingCanvas.rWidth),longerTickMultiple:1.5,center:hb,range:[-5,5,1],numbersToInclude:[],numbersToExclude:[],textDirection:[-.3,-0],numbersWithElongatedTicks:[],includeTick:!0,includeNumbers:!0,includeLeftTip:!1,includeRightTip:!1,excludeOriginTick:!1,
color:"#808080",textColor:"#ffffff"};a=m(e,a);const {color:g,center:h,rotation:k,tipWidth:l,textSize:n,lineWidth:p,tipHeight:r,length:q,tickHeight:C,textRotation:B,textDirection:F,includeLeftTip:w,includeRightTip:z,numbersToExclude:v,numbersToInclude:y,excludeOriginTick:x,longerTickMultiple:t,numbersWithElongatedTicks:u}=a;let {range:A,decimalPlaces:E}=a;Array.isArray(A)&&2===A.length&&(A=[A[0],A[1],1]);isNaN(E)&&(E=(A[2].toString().split(".")[1]||[]).length||0);e=A[0];const M=A[1],da=A[2],R=q/((M-
e)/da),Y=aa(e,M,da);d.beginPath();pa();L(h[0]*R,h[1]*R);oa(k);L(-q/2,0);a.includeTick&&b();a.includeNumbers&&c();L(q/2,0);(function(){sa(g);d.lineWidth=p;ta(g);const G=Math.atan(r/2);let Q=-q/2,H=q/2;w&&(T(Q+l,0,Q,0,l,r),Q+=l*Math.cos(G));z&&(T(H-l,0,H,0,l,r),H-=l*Math.cos(G));U(Q,0,H,0)})();d.closePath();qa();return{range:A,center:h,tickList:Y,unitValue:da,unitSpace:R}};const {abs:lb,acos:mb,asin:nb,atan:ob,atan2:pb,cbrt:qb,ceil:rb,cos:sb,cosh:tb,exp:ub,floor:vb,log:wb,log2:xb,log10:yb,max:zb,min:Ab,pow:Bb,random:Cb,round:Db,sign:Eb,sin:Fb,sqrt:Gb,tanh:Hb}=Math;function Ib(a){return 1/(1+Math.exp(-a))};function Jb(a,b){for(;0!=b;){let c=b;b=a%b;a=c}return a}function Kb(a,b){return a*b/Jb(a,b)};const Lb=2*Math.PI/3,Mb=2*Math.PI/4.5;function Nb(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function V(a,b){b=void 0===b?10:b;let c=Ib(-b/2);return Math.min(Math.max((Ib(b*(a-.5))-c)/(1-2*c),0),1)}function Ob(a,b){return V(.5>a?2*a:2*(1-a),void 0===b?10:b)}function Pb(a,b,c){b=void 0===b?.4:b;c=void 0===c?.6:c;return function(d){return b==c?b:d<b?a(0):d>c?a(1):a((d-b)/(c-b))}};function Qb(a){a=Array.isArray(a[0])&&16==a[0].length?a[0]:16==a.length?a:a[0]instanceof W?a[0].mat:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new Float32Array(a)}
class W{constructor(a){this.mat=Qb(arguments);return this}multiply(a){let b=Qb(arguments),c=this.mat[0],d=this.mat[1],e=this.mat[2],g=this.mat[3];this.mat[0]=c*b[0]+d*b[4]+e*b[8]+g*b[12];this.mat[1]=c*b[1]+d*b[5]+e*b[9]+g*b[13];this.mat[2]=c*b[2]+d*b[6]+e*b[10]+g*b[14];this.mat[3]=c*b[3]+d*b[7]+e*b[11]+g*b[15];c=this.mat[4];d=this.mat[5];e=this.mat[6];g=this.mat[7];this.mat[4]=c*b[0]+d*b[4]+e*b[8]+g*b[12];this.mat[5]=c*b[1]+d*b[5]+e*b[9]+g*b[13];this.mat[6]=c*b[2]+d*b[6]+e*b[10]+g*b[14];this.mat[7]=
c*b[3]+d*b[7]+e*b[11]+g*b[15];c=this.mat[8];d=this.mat[9];e=this.mat[10];g=this.mat[11];this.mat[8]=c*b[0]+d*b[4]+e*b[8]+g*b[12];this.mat[9]=c*b[1]+d*b[5]+e*b[9]+g*b[13];this.mat[10]=c*b[2]+d*b[6]+e*b[10]+g*b[14];this.mat[11]=c*b[3]+d*b[7]+e*b[11]+g*b[15];c=this.mat[12];d=this.mat[13];e=this.mat[14];g=this.mat[15];this.mat[12]=c*b[0]+d*b[4]+e*b[8]+g*b[12];this.mat[13]=c*b[1]+d*b[5]+e*b[9]+g*b[13];this.mat[14]=c*b[2]+d*b[6]+e*b[10]+g*b[14];this.mat[15]=c*b[3]+d*b[7]+e*b[11]+g*b[15];return this}rotate(a,
b,c,d){b instanceof Array&&(c=b[1],d=b[2],b=b[0]);var e=Math.sqrt(b*b+c*c+d*d);b*=1/e;c*=1/e;d*=1/e;e=this.mat[0];const g=this.mat[1],h=this.mat[2],k=this.mat[3],l=this.mat[4],n=this.mat[5],p=this.mat[6],r=this.mat[7],q=this.mat[8],C=this.mat[9],B=this.mat[10],F=this.mat[11],w=Math.sin(a),z=Math.cos(a),v=1-z;a=b*b*v+z;const y=c*b*v+d*w,x=d*b*v-c*w,t=b*c*v-d*w,u=c*c*v+z,A=d*c*v+b*w,E=b*d*v+c*w;b=c*d*v-b*w;d=d*d*v+z;this.mat[0]=e*a+l*y+q*x;this.mat[1]=g*a+n*y+C*x;this.mat[2]=h*a+p*y+B*x;this.mat[3]=
k*a+r*y+F*x;this.mat[4]=e*t+l*u+q*A;this.mat[5]=g*t+n*u+C*A;this.mat[6]=h*t+p*u+B*A;this.mat[7]=k*t+r*u+F*A;this.mat[8]=e*E+l*b+q*d;this.mat[9]=g*E+n*b+C*d;this.mat[10]=h*E+p*b+B*d;this.mat[11]=k*E+r*b+F*d;return this}scale(a,b,c){a instanceof Array&&(b=a[1],c=a[2],a=a[0]);this.mat[0]*=a;this.mat[1]*=a;this.mat[2]*=a;this.mat[3]*=a;this.mat[4]*=b;this.mat[5]*=b;this.mat[6]*=b;this.mat[7]*=b;this.mat[8]*=c;this.mat[9]*=c;this.mat[10]*=c;this.mat[11]*=c;return this}rotateX(a){this.rotate(a,1,0,0);return this}rotateY(a){this.rotate(a,
0,1,0);return this}rotateZ(a){this.rotate(a,0,0,1);return this}translate(a,b,c=0){this.mat[12]+=this.mat[0]*a+this.mat[4]*b+this.mat[8]*c;this.mat[13]+=this.mat[1]*a+this.mat[5]*b+this.mat[9]*c;this.mat[14]+=this.mat[2]*a+this.mat[6]*b+this.mat[10]*c;this.mat[15]+=this.mat[3]*a+this.mat[7]*b+this.mat[11]*c;return this}clone(){let a=[];for(let b=0;b<this.mat.length;b++)a.push(this.mat[b]);return new W(a)}static lookAt(a,b,c){let d,e;let g=a[0],h=a[1];a=a[2];var k=c[0];var l=c[1];var n=c[2];var p=b[0];
c=b[1];var r=b[2];if(1E-6>Math.abs(g-p)&&1E-6>Math.abs(h-c)&&1E-6>Math.abs(a-r))return W.identity();b=g-p;c=h-c;p=a-r;var q=1/Math.hypot(b,c,p);b*=q;c*=q;p*=q;r=l*p-n*c;n=n*b-k*p;k=k*c-l*b;(q=Math.hypot(r,n,k))?(q=1/q,r*=q,n*=q,k*=q):k=n=r=0;l=c*k-p*n;d=p*r-b*k;e=b*n-c*r;(q=Math.hypot(l,d,e))?(q=1/q,l*=q,d*=q,e*=q):e=d=l=0;q=new Float32Array(16);q[0]=r;q[1]=l;q[2]=b;q[3]=0;q[4]=n;q[5]=d;q[6]=c;q[7]=0;q[8]=k;q[9]=e;q[10]=p;q[11]=0;q[12]=-(r*g+n*h+k*a);q[13]=-(l*g+d*h+e*a);q[14]=-(b*g+c*h+p*a);q[15]=
1;return new W(q)}static identity(){return new W(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)}static perspective(a,b,c,d,e){const g=1/Math.tan(b/2);b=a.mat;b[0]=g/c;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=g;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[11]=-1;b[12]=0;b[13]=0;b[15]=0;null!=e&&Infinity!==e?(c=1/(d-e),b[10]=(e+d)*c,b[14]=2*e*d*c):(b[10]=-1,b[14]=-2*d);return a}};class X{constructor(a){let b=a.getContext("webgl");b||(b=a.getContext("experimental-webgl"));if(!b)throw Error("WebGL is not supported");b.viewport(0,0,a.width,a.height);this.gl=b;this.canvas=a;this.width=a.rWidth;this.height=a.rHeight;this.dpr=a.dpr||Math.ceil(window.devicePixelRatio);this.canvas=a;this.sources={singleColor:{vertex:"attribute vec3 a_position;\n\t\t\t\t\tuniform vec2 u_resolution;\n\t\t\t\t\tuniform mat4 u_matrix;\n\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_Position = u_matrix * vec4(a_position, 1) / vec4(u_resolution, 1, 1);\n\t\t\t\t\t}",
fragment:"precision mediump float;\n\t\t\t\t\tuniform vec4 u_color;\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_FragColor = u_color;\n\t\t\t\t\t}",uniforms:{resolution:"u_resolution",matrix:"u_matrix",vertexColor:"u_color"},attributes:{vertexPosition:"a_position"},program:null},multiColor:{vertex:"attribute vec3 a_position;\n\t\t\t\t\tattribute vec4 aVertexColor;\n\t\t\t\t\tuniform vec2 u_resolution;\n\t\t\t\t\tuniform mat4 u_matrix;\n\t\t\t\t\tvarying lowp vec4 vColor;\n\t\t\t\t\tvoid main() {\n\t\t\t\t\t\tgl_Position = u_matrix * vec4(a_position, 1);\n\t\t\t\t\t\t// / vec4(u_resolution, 1, 1);\n\t\t\t\t\t\tvColor = aVertexColor;\n\t\t\t\t\t}",
fragment:"precision mediump float;\n\t\t\t\t\tvarying lowp vec4 vColor;\n\t\t\t\t\tvoid main(void) {\n\t\t\t\t\t\tgl_FragColor = vColor;\n\t\t\t\t\t}",uniforms:{resolution:"u_resolution",matrix:"u_matrix"},attributes:{vertexPosition:"a_position",vertexColor:"aVertexColor"},program:null}};for(let c in this.sources)this.sources[c]=this.createCustomProgram(this.sources[c]);this.program=this.sources.singleColor;b.useProgram(this.program.program);this.projectionMatrix=new W;this.worldMatrix=new W;this.viewMatrix=
new W;this.matrix=new W;b.uniform2f(this.program.uniforms.resolution,a.width/2/this.dpr,a.height/2/this.dpr);this.styles={fillColor:[1,0,1,1],strokeColor:[1,1,0,1],lineWidth:1}}useProgram(a){if(this.sources[a])this.program=this.sources[a],this.gl.useProgram(this.program.program),this.gl.uniform2f(this.program.uniforms.resolution,this.canvas.width/2/this.dpr,this.canvas.height/2/this.dpr);else if(a.program)this.program=a,this.gl.useProgram(a.program);else throw Error(`${a} not fouund`);}createShader(a,
b){a=this.gl.createShader(a);this.gl.shaderSource(a,b);this.gl.compileShader(a);return this.gl.getShaderParameter(a,this.gl.COMPILE_STATUS)?a:(console.error(this.gl.getShaderInfoLog(a)),this.gl.deleteShader(a),null)}createProgram(a,b){const c=this.gl.createProgram();this.gl.attachShader(c,a);this.gl.attachShader(c,b);this.gl.linkProgram(c);return this.gl.getProgramParameter(c,this.gl.LINK_STATUS)?c:(console.error(this.gl.getProgramInfoLog(c)),this.gl.deleteProgram(c),null)}createProgramFromSource(a,
b){a=this.createShader(this.gl.VERTEX_SHADER,a);b=this.createShader(this.gl.FRAGMENT_SHADER,b);return this.createProgram(a,b)}resizeCanvas(a=300,b=300){var c=window.devicePixelRatio;const d=Math.round(a*c);c=Math.round(b*c);this.canvas.style.width=a+"px";this.canvas.style.height=b+"px";this.canvas.width=d;this.canvas.height=c}putProperties(){let a=this.gl,b=3,c=a.FLOAT,d=!1,e=0,g=0;const h=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,h);a.bindBuffer(a.ARRAY_BUFFER,h);a.vertexAttribPointer(this.program.attributes.vertexPosition,
b,c,d,e,g);a.enableVertexAttribArray(this.program.attributes.vertexPosition);b=4;c=a.FLOAT;d=!1;g=e=0;a.bindBuffer(a.ARRAY_BUFFER,this.program.uniforms.vertexColor);a.vertexAttribPointer(this.program.uniforms.vertexColor,b,c,d,e,g)}createCustomProgram(a){let b=this.gl,c={},d={},e;a.vertex instanceof HTMLScriptElement&&(a.vertex=a.vertex.textContent.trim());a.fragment instanceof HTMLScriptElement&&(a.fragment=a.fragment.textContent.trim());e=this.createProgramFromSource(a.vertex,a.fragment);for(let g in a.attributes)d[g]=
b.getAttribLocation(e,a.attributes[g]);for(let g in a.uniforms)c[g]=b.getUniformLocation(e,a.uniforms[g]);return{program:e,uniforms:c,attributes:d,vertex:a.vertex,fragment:a.fragment}}attribUsage(a,b=3,c=this.gl.FLOAT,d=!1,e=0,g=0){this.gl.enableVertexAttribArray(a);this.gl.vertexAttribPointer(a,b,c,d,e,g)}};function Rb(a,b){let c=[],d=!1;if(0==a.length%b)if(2==a.length/b)for(d=!0,b=0;b<a.length;b+=2)c.push(a[b],a[b+1],0);else c=a;else throw Error("excess component in points");return[c,d]}X.prototype.background=function(a,b,c,d){this.gl.clearColor(a,b,c,d);this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT);return this};X.prototype.clear=function(){this.background(0,0,0,0);return this};
X.prototype.putBufferData=function(a,b=this.gl.ARRAY_BUFFER,c=this.gl.STATIC_DRAW){var d=this.gl.createBuffer();this.gl.bindBuffer(b,d);this.gl.bufferData(b,new Float32Array(a),c);return d};
X.prototype.setGeometry=function(a,b=3,c=0,d=this.gl.TRIANGLES){let e=this.gl,g=this.program;this.computeMatrix();e.uniformMatrix4fv(g.uniforms.matrix,!1,this.matrix.mat);e.uniform4fv(g.uniforms.vertexColor,this.styles.fillColor);this.putBufferData(Rb(a,b)[0]);e.enableVertexAttribArray(g.attributes.vertexPosition);e.vertexAttribPointer(g.attributes.vertexPosition,3,e.FLOAT,!1,0,0);e.drawArrays(d,c,b);return this};X.prototype.computeMatrix=function(){this.matrix=this.projectionMatrix.clone();this.matrix.multiply(this.viewMatrix).multiply(this.worldMatrix)};
X.prototype.line=function(){let [a,b]=Rb(arguments,2);const c=this.styles.fillColor;this.styles.fillColor=this.styles.strokeColor;if(1==this.styles.lineWidth)this.setGeometry(a,2,0,this.gl.LINES);else if(b){let e=a[0],g=a[1],h=a[3],k=a[4];var d=Math.atan2(k-g,h-e)+Math.PI/2;let l=this.styles.lineWidth/2,n=Math.cos(d)*l;d=Math.sin(d)*l;this.setGeometry([e-n,g-d,0,e+n,g+d,0,h+n,k+d,0,h+n,k+d,0,h-n,k-d,0,e-n,g-d,0],6)}this.styles.fillColor=c;return this};
X.prototype.rotateX=function(a){this.worldMatrix.rotateX(a);return this};X.prototype.rotateY=function(a){this.worldMatrix.rotateY(a);return this};X.prototype.rotateZ=function(a){this.worldMatrix.rotateZ(a);return this};X.prototype.translate=function(a,b=0,c=0){this.worldMatrix.translate(a,b,c);return this};X.prototype.scale=function(a,b=a,c=1){this.worldMatrix.scale(a,b,c);return this};X.prototype.fill=function(...a){a=J(a).rgbaA;this.styles.fillColor=[a[0]/255,a[1]/255,a[2]/255,a[3]]};
X.prototype.fillRect=function(){let a,b,c,d;var e=0;a=arguments[e++];b=arguments[e++];c=4==arguments.length?0:arguments[e++];d=arguments[e++];e=arguments[e++];this.setGeometry([a,b,c,a+d,b,c,a+d,b+e,c,a+d,b+e,c,a,b+e,c,a,b,c],6)};X.prototype.triangle=function(...a){this.setGeometry(a,3)};X.prototype.lineWidth=function(a){this.styles.lineWidth=a};X.prototype.stroke=function(...a){a=J(a).rgbaA;this.styles.strokeColor=[a[0]/255,a[1]/255,a[2]/255,a[3]]};
X.prototype.cube=function(a=200){let b=this.gl;this.putBufferData([-1*a,-1*a,1*a,1*a,-1*a,1*a,1*a,1*a,1*a,-1*a,1*a,1*a,-1*a,-1*a,-1*a,-1*a,1*a,-1*a,1*a,1*a,-1*a,1*a,-1*a,-1*a,-1*a,1*a,-1*a,-1*a,1*a,1*a,1*a,1*a,1*a,1*a,1*a,-1*a,-1*a,-1*a,-1*a,1*a,-1*a,-1*a,1*a,-1*a,1*a,-1*a,-1*a,1*a,1*a,-1*a,-1*a,1*a,1*a,-1*a,1*a,1*a,1*a,1*a,-1*a,1*a,-1*a,-1*a,-1*a,-1*a,-1*a,1*a,-1*a,1*a,1*a,-1*a,1*a,-1*a]);a=[[1,1,1,1],[1,0,0,1],[0,1,0,1],[0,0,1,1],[1,1,0,1],[1,0,1,1]];for(var c=[],d=0;d<a.length;++d){const e=a[d];
c=c.concat(e,e,e,e)}this.putBufferData(c);a=this.putBufferData([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],b.ELEMENT_ARRAY_BUFFER);b.enable(b.DEPTH_TEST);b.depthFunc(b.LEQUAL);W.perspective(this.projectionMatrix,45*Math.PI/180,b.canvas.clientWidth/b.canvas.clientHeight,.1,100);this.worldMatrix.translate(-0,0,-6);this.worldMatrix.rotateZ(0);this.worldMatrix.rotateX(0);b.vertexAttribPointer(this.program.attributes.vertexPosition,3,b.FLOAT,!1,0,0);b.enableVertexAttribArray(this.program.attributes.vertexPosition);
b.vertexAttribPointer(this.program.uniforms.vertexColor,4,b.FLOAT,!1,0,0);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a);this.useProgram("multiColor");this.computeMatrix();b.uniformMatrix4fv(this.program.uniforms.matrix,!1,this.matrix.mat);b.drawElements(b.TRIANGLES,36,b.UNSIGNED_SHORT,0)};X.prototype.lookAt=function(a,b=[0,0,0],c=[0,1,0]){this.viewMatrix=W.lookAt(a,b,c)};X.prototype.perspective=function(a,b,c,d){W.perspective(this.projectionMatrix,a,b,c,d)};var Z={ALPHABETIC:"alphabetic",BEVEL:"bevel",BOTTOM:"bottom",BUTT:"butt"};Z.C=f;Z.CENTER="center";Z.CONDENSED="condensed";Z.ColorPalettes=Ca;Z.DEG=Aa;Z.E=2.718281828459045;Z.END="end";Z.EXPANDED="expanded";Z.EXTRA_CONDENSED="extra-condensed";Z.EXTRA_EXPANDED="extra-expanded";Z.HALF_PI=1.5707963267948966;Z.HANGING="hanging";Z.HSLToRGB=function(a,b,c){a/=360;if(0===b)c=b=a=c;else{let d=.5>c?c*(1+b):c+b-c*b,e=2*c-d;c=Ja(e,d,a+1/3);b=Ja(e,d,a);a=Ja(e,d,a-1/3)}return[c,b,a]};
Z.HSVToRGB=function(a,b,c){let d,e,g,h=Math.floor(a/60),k=a/60-h;a=c*(1-b);let l=c*(1-k*b);b=c*(1-(1-k)*b);h%=6;0==h?(d=c,e=b,g=a):1==h?(d=l,e=c,g=a):2==h?(d=a,e=c,g=b):3==h?(d=a,e=l,g=c):4==h?(d=b,e=a,g=c):5==h&&(d=c,e=a,g=l);return[d,e,g]};Z.IDEOGRAPHIC="ideographic";Z.ITALIC="italic";Z.LARGE="large";Z.LARGER="larger";Z.LEFT="left";Z.LN10=2.302585092994046;Z.LN2=.6931471805599453;Z.MEDIUM="medium";Z.MIDDLE="middle";Z.MILTER="milter";Z.MITER="miter";Z.NORMAL="normal";Z.OBLIQUE="oblique";Z.PHI=1.618033988749894;
Z.PI=3.141592653589793;Z.QUATER_PI=.7853981633974483;Z.RAD=Ba;Z.RGBToHSL=function(a,b,c){let d=Math.max(a,b,c);var e=Math.min(a,b,c);let g,h=(d+e)/2;if(d===e)g=e=0;else{let k=d-e;e=.5<h?k/(2-d-e):k/(d+e);d==a?g=(b-c)/k+(b<c?6:0):d==b?g=(c-a)/k+2:d==c&&(g=(a-b)/k+4);g/=6}return[g,e,h]};Z.RGBToHSV=function(a,b,c){let d=Math.max(a,b,c),e=Math.min(a,b,c),g,h=d-e;d===e?g=0:(d==a?g=(b-c)/h+(b<c?6:0):d==b?g=(c-a)/h+2:d==c&&(g=(a-b)/h+4),g/=6);return[g,0===d?0:h/d,d]};Z.RIGHT="right";Z.ROUND="round";
Z.SEMI_CONDENSED="semi-condensed";Z.SEMI_EXPANDED="semi-expanded";Z.SMALL="small";Z.SMALLER="smaller";Z.SQRT2=1.4142135623730951;Z.SQUARE="square";Z.START="start";Z.TAU=6.283185307179586;Z.TIERCE_PI=1.0471975511965976;Z.TOP="top";Z.TWO_PI=6.283185307179586;Z.ULTRA_CONDENSED="ultra-condensed";Z.ULTRA_EXPANDED="ultra-expanded";Z.WebGL=X;Z.XXX_LARGE="xxx-large";Z.XX_LARGE="xx-large";Z.XX_SMALL="xx-small";Z.X_LARGE="x-large";Z.X_SMALL="x-small";Z.abs=lb;Z.acos=mb;Z.aliceblue="#f0f8ff";
Z.angle=function(a,b,c,d,e=20,g=10,h=!1,k=1){var l=Pa(a,b,c,d);let n=l[0];l=l[1];if(isNaN(n)||isNaN(l))throw Error("No intersection point");a=Math.atan2(a[1]-l,a[0]-n);b=Math.atan2(b[1]-l,b[0]-n);c=Math.atan2(c[1]-l,c[0]-n);d=Math.atan2(d[1]-l,d[0]-n);d={1:[b,d],2:[d,a],3:[a,c],4:[c,b]}[k];k=f.workingContext;h?(h=d[1],d=d[0]-d[1]):(h=d[0],d=d[1]-d[0]);k.doFill&&(k.beginPath(),k.moveTo(n,l),k.arc(n,l,e,h,d+h),k.fill(),k.closePath());k.doStroke&&(k.beginPath(),k.arc(n,l,e,h,d+h),k.stroke(),k.closePath());
return{center:[n+(e+g)*Math.cos(h+d/2),l+(e+g)*Math.sin(h+d/2)],ang:d}};Z.annulus=function(a,b,c,d){let e=f.workingContext;e.beginPath();e.arc(a,b,c,0,2*Math.PI,!1);e.moveTo(d,0);e.arc(a,b,d,0,2*Math.PI,!0);I(e)};Z.annulusSector=function(a,b,c,d,e,g){let h=f.workingContext;h.beginPath();h.arc(a,b,c,g,g+e,!1);h.arc(a,b,d,g+e,g,!0);I(h)};Z.antiquewhite="#faebd7";Z.aqua="#00ffff";Z.aquamarine="#7fffd4";
Z.arc=function(a,b,c,d=Math.PI/2,e=0){let g=f.workingContext;g.pathStarted||g.beginPath();g.arc(a,b,c,e,e+d);g.pathStarted||I(g)};Z.arcBetweenPoints=function(a,b,c,d,e,g=!1){a==c&&b==d&&console.error("Can't draw a arc between points. Given points are exactly same");let h=Qa([a,b],e,[c,d],e)[0],k=f.workingContext;a=Math.atan2(b-h[1],a-h[0]);c=Math.atan2(d-h[1],c-h[0])-a;k.pathStarted||(k.save(),k.beginPath());k.arc(h[0],h[1],e,a,c+a,!g);k.pathStarted||(I(k),k.restore());return h};
Z.arcBrace=function(a,b,c=100,d=Math.PI/2,e=0,g=10,h=g,k=10){const l=f.workingContext;g=c-g;h=c+h;l.save();l.translate(a,b);l.rotate(e);l.beginPath();l.moveTo(c,0);l.lineTo(g,0);l.arc(0,0,c,0,d);l.lineTo(g*Math.cos(d),g*Math.sin(d));l.moveTo(c*Math.cos(d/2),c*Math.sin(d/2));l.lineTo(h*Math.cos(d/2),h*Math.sin(d/2));l.stroke();l.closePath();l.restore();return[(h+k)*Math.cos(d/2+e)+a,(h+k)*Math.sin(d/2+e)+b]};Z.arrow=Sa;Z.arrowTip=T;Z.asin=nb;Z.atan=ob;Z.atan2=pb;Z.axes=jb;Z.azure="#f0ffff";
Z.background=function(...a){a=J(a).hex8;let b=f.workingContext;b.background=a;b.save();ra();b.fillStyle=a;b.fillRect(0,0,b.canvas.width,b.canvas.height);b.restore()};Z.beige="#f5f5dc";Z.bezier=function(a,b,c,d,e,g){let h=f.workingContext;h.pathStarted||h.beginPath();h.bezierCurveTo(a,b,c,d,e,g);h.pathStarted||I(h)};Z.bisque="#ffe4c4";Z.black="#000000";Z.blanchedalmond="#ffebcd";Z.blue="#0000ff";Z.blueviolet="#8a2be2";Z.brown="#a52a2a";Z.burlywood="#deb887";Z.cadetblue="#5f9ea0";Z.cbrt=qb;Z.ceil=rb;
Z.chartreuse="#7fff00";Z.chocolate="#d2691e";Z.circle=function(a,b,c){let d=f.workingContext;d.beginPath();d.arc(a,b,c,0,2*Math.PI);I(d)};Z.circleIntersection=Qa;Z.circularSegment=function(a,b,c,d=Math.PI/2,e=0){let g=f.workingContext;g.pathStarted||g.beginPath();g.arc(a,b,c,e,e+d);g.pathStarted||I(g)};Z.clear=function(a,b,c,d){let e=f.workingContext,g=f.dpr;a=a||0;b=b||0;c=c||e.canvas.width;d=d||e.canvas.height;e.save();e.setTransform(g,0,0,g,0,0);e.clearRect(a,b,c,d);e.restore()};Z.coral="#ff7f50";
Z.cornflowerblue="#6495ed";Z.cornsilk="#fff8dc";Z.cos=sb;Z.cosh=tb;Z.createWebGL=function(a){let b=f.workingContext;var c=f.workingCanvas;a=m({deleteOld:!1,dpr:Math.ceil(window.devicePixelRatio),width:c.rWidth,height:c.rHeight},a);c=b.canvas.parentElement;let d=f.makeCanvas(a);a.deleteOld?c.removeChild(b.canvas):(c.style.position="relative",d.style.position="absolute",d.style.top="0",d.style.left="0");for(let e in b.canvas.events)d.addEventListener(e,b.canvas.events[e]);c.appendChild(d);return new X(d)};
Z.crimson="#dc143c";Z.curlyBrace=function(a,b,c,d,e=20,g=.6,h=.8){let k=a-c,l=b-d,n=Math.sqrt(k*k+l*l);k/=n;l/=n;const p=a-.5*n*k+e*l*h;h=b-.5*n*l-e*k*h;f.workingContext.stroke(new Path2D(`M ${a} ${b} `+`Q ${a+g*e*l} ${b-g*e*k} ${a-.25*n*k+(1-g)*e*l} ${b-.25*n*l-(1-g)*e*k} `+`T ${p} ${h} `+`M ${c} ${d} `+`Q ${c+g*e*l} ${d-g*e*k} ${a-.75*n*k+(1-g)*e*l} ${b-.75*n*l-(1-g)*e*k} `+`T ${p} ${h}`));return[p,h]};Z.curvedArrow=Ta;
Z.curvedArrowBetweenPoints=function(a,b,c,d,e,g,h,k,l){d=void 0===d?15:d;e=void 0===e?d/1.2:e;g=void 0===g?0:g;h=void 0===h?0:h;k=void 0===k?!1:k;l=void 0===l?!1:l;const n=f.workingContext,p=n.pathStarted;n.save();p||n.beginPath();const r=Qa(a,c,b,c)[0];a[0]-=r[0];a[1]-=r[1];b[0]-=r[0];b[1]-=r[1];a=Math.atan2(a[1],a[0]);b=Math.atan2(b[1],b[0]);k?(k=a,a=b-a):(k=b,a-=b);Ta(r[0],r[1],c,a,k,d,e,g,h,l);p||n.closePath();n.restore();return r};
Z.curvedDoubleArrow=function(a,b,c,d,e,g,h,k,l){d=void 0===d?Math.PI/2:d;e=void 0===e?0:e;g=void 0===g?15:g;h=void 0===h?g/1.2:h;k=void 0===k?0:k;l=void 0===l?0:l;const n=f.workingContext;n.save();const p=g/c,r=[-Math.cos(e+p/2+Math.PI/2),-Math.sin(e+p/2+Math.PI/2)];e+=p+2*l;Ta(a,b,c,d-p+k/c,e-k/c,g,h,k,l);T(Math.cos(e-k/c)*c,Math.sin(e-k/c)*c,Math.cos(e)*c+g*r[0],Math.sin(e)*c+g*r[1],g,h);n.restore()};
Z.curvedDoubleArrowBetweenPoints=function(a,b,c,d,e,g,h,k){d=void 0===d?15:d;e=void 0===e?d/1.2:e;g=void 0===g?0:g;h=void 0===h?0:h;k=void 0===k?!1:k;const l=f.workingContext;l.save();const n=Qa(a,c,b,c)[0];a[0]-=n[0];a[1]-=n[1];b[0]-=n[0];b[1]-=n[1];const p=d/c;a=Math.atan2(a[1],a[0]);b=Math.atan2(b[1],b[0])+p;k?(k=a,a=b-a):(k=b,a-=b);g/=c;Ta(n[0],n[1],c,a+g-h,k-g+h,d,e,g*c,h);g=p-g+h;k-=p;T(n[0]+c*Math.cos(k+g),n[1]+c*Math.sin(k+g),n[0]+c*Math.cos(k+h),n[1]+c*Math.sin(k+h),d,e);l.restore();return n};
Z.cyan="#00ffff";Z.darkblue="#00008b";Z.darkcyan="#008b8b";Z.darkgoldenrod="#b8860b";Z.darkgray="#a9a9a9";Z.darkgreen="#006400";Z.darkgrey="#a9a9a9";Z.darkkhaki="#bdb76b";Z.darkmagenta="#8b008b";Z.darkolivegreen="#556b2f";Z.darkorange="#ff8c00";Z.darkorchid="#9932cc";Z.darkred="#8b0000";Z.darksalmon="#e9967a";Z.darkseagreen="#8fbc8f";Z.darkslateblue="#483d8b";Z.darkslategray="#2f4f4f";Z.darkslategrey="#2f4f4f";Z.darkturquoise="#00ced1";Z.darkviolet="#9400d3";Z.deeppink="#ff1493";Z.deepskyblue="#00bfff";
Z.defineProperties=D;Z.dimgray="#696969";Z.dimgrey="#696969";Z.dist=Na;Z.dodgerblue="#1e90ff";Z.doubleArrow=function(a,b,c,d,e,g,h,k){e=void 0===e?15:e;g=void 0===g?e/1.2:g;h=void 0===h?0:h;k=void 0===k?0:k;var l=Math.atan2(d-b,c-a);const n=Math.cos(l)*(e-h),p=Math.sin(l)*(e-h),r=Math.sin(l)*k;l=Math.cos(l)*k;wa();a+=n+l;b+=p+r;Sa(a,b,c,d,e,g,h,k);T(a,b,a-n,b-p,e,g);I(f.workingContext);xa()};Z.doubleSmooth=function(a){return.5>a?.5*V(2*a):.5*(1+V(2*a-1))};
Z.drawImage=function(a){let b=f.workingContext,c,d;6>arguments.length?(c=arguments[1],d=arguments[2]):(c=arguments[5],d=arguments[6]);b.yAxisInverted?(b.save(),b.translate(c,d),b.scale(1,-1),b.drawImage(a,0,0,...Array.prototype.slice.call(arguments,3)),b.restore()):b.drawImage(a,c,d,...Array.prototype.slice.call(arguments,3))};Z.easeInBack=function(a){return 2.70158*Math.pow(a,3)-1.70158*Math.pow(a,2)};Z.easeInBounce=function(a){return 1-Nb(1-a)};
Z.easeInCirc=function(a){return 1-Math.sqrt(1-Math.pow(a,2))};Z.easeInCubic=function(a){return Math.pow(a,3)};Z.easeInElastic=function(a){return 0===a?0:1===a?1:-Math.pow(2,10*a-10)*Math.sin((10*a-10.75)*Lb)};Z.easeInExpo=function(a){return 0==a?0:Math.pow(2,10*a-10)};Z.easeInOutBack=function(a){return.5>a?Math.pow(2*a,2)*(7.189819*a-2.5949095)/2:(Math.pow(2*a-2,2)*(3.5949095*(2*a-2)+2.5949095)+2)/2};Z.easeInOutBounce=function(a){return.5>a?(1-Nb(1-2*a))/2:(1+Nb(2*a-1))/2};
Z.easeInOutCirc=function(a){return.5>a?(1-Math.sqrt(1-Math.pow(2*a,2)))/2:(Math.sqrt(1-Math.pow(2-2*a,2))+1)/2};Z.easeInOutCubic=function(a){return.5>a?4*Math.pow(a,3):1-Math.pow(2-2*a,3)/2};Z.easeInOutElastic=function(a){return 0==a?0:1==a?1:.5>a?-(Math.pow(2,20*a-10)*Math.sin((20*a-11.125)*Mb))/2:Math.pow(2,-20*a+10)*Math.sin((20*a-11.125)*Mb)/2+1};Z.easeInOutExpo=function(a){return 0==a?0:1==a?1:.5>a?Math.pow(2,20*a-10)/2:(2-Math.pow(2,10-20*a))/2};
Z.easeInOutQuad=function(a){return.5>a?2*Math.pow(a,2):1-Math.pow(2-2*a,2)/2};Z.easeInOutQuart=function(a){return.5>a?8*Math.pow(a,4):1-Math.pow(2-2*a,4)/2};Z.easeInOutQuint=function(a){return.5>a?16*Math.pow(a,5):1-Math.pow(2-2*a,5)/2};Z.easeInOutSine=function(a){return-(Math.cos(Math.PI*a)-1)/2};Z.easeInQuad=function(a){return Math.pow(a,2)};Z.easeInQuart=function(a){return Math.pow(a,4)};Z.easeInQuint=function(a){return Math.pow(a,5)};Z.easeInSine=function(a){return 1-Math.cos(a*Math.PI/2)};
Z.easeOutBack=function(a){return 1+2.70158*Math.pow(a-1,3)+1.70158*Math.pow(a-1,2)};Z.easeOutBounce=Nb;Z.easeOutCirc=function(a){return Math.sqrt(1-Math.pow(a-1,2))};Z.easeOutCubic=function(a){return 1-Math.pow(1-a,3)};Z.easeOutElastic=function(a){return 0===a?0:1===a?1:Math.pow(2,-10*a)*Math.sin((10*a-.75)*Lb)+1};Z.easeOutExpo=function(a){return 1==a?1:1-Math.pow(2,-10*a)};Z.easeOutQuad=function(a){return 1-Math.pow(1-a,2)};Z.easeOutQuart=function(a){return 1-Math.pow(1-a,4)};
Z.easeOutQuint=function(a){return 1-Math.pow(1-a,5)};Z.easeOutSine=function(a){return Math.sin(a*Math.PI/2)};Z.ellipse=function(a,b,c,d,e=0,g=0,h=2*Math.PI){let k=f.workingContext;k.pathStarted||k.beginPath();k.ellipse(a,b,c,d,e,g,g+h);k.pathStarted||I(k)};Z.endShape=xa;Z.equiTriangle=function(a,b,c,d=0){Ya(a,b,3,c,d)};Z.exp=ub;Z.exponentialDecay=function(a,b){return 1-Math.exp(-a/(void 0===b?.1:b))};Z.extendFromOrigin=function(a,b=10){return Ra([0,0],a,b)};Z.extendFromPoint=Ra;Z.fill=ta;
Z.fillText=Ma;Z.firebrick="#b22222";Z.floor=vb;Z.floralwhite="#fffaf0";Z.fontFamily=function(a){let b=f.workingContext;b.fontFamily=a;b.font=P(!0)};Z.fontSize=ya;Z.fontStretch=function(a){let b=f.workingContext;b.fontStretch=a;b.font=P(!0)};Z.fontStyle=function(a){let b=f.workingContext;b.fontStyle=a;b.font=P(!0)};Z.fontVariant=function(a){let b=f.workingContext;b.fontVariant=a;b.font=P(!0)};Z.fontWeight=function(a){let b=f.workingContext;b.fontWeight=a;b.font=P(!0)};Z.forestgreen="#228b22";
Z.fuchsia="#ff00ff";Z.functionGraph=eb;Z.gainsboro="#dcdcdc";Z.gcd=Jb;Z.gcdArray=function(a){let b=Array.isArray(a)?a:arguments,c=b[0];for(let d=1;d<b.length;++d)c=Jb(b[d],c);return c};Z.getBezierControlPoints=Ua;Z.getCanvasData=za;Z.getContextStates=O;Z.getFont=P;Z.getImageFromTex=La;
Z.getInterpolatedColorList=function(a,b=0,c=5,d){if(1==a.length)throw Error("Atleast 2 colors are needed to create interpolatable object");c=(c-b)/(a.length-1);let e={};for(let g=0;g<a.length;g++){let h=b+g*c,k=J(a[g]).rgbaA;k[3]=isNaN(d)?k[3]:d;e[h]=k}return e};Z.getPixelColor=function(a,b,c){b=a.width*c+b;return a.data.subarray(b,b+4)};Z.ghostwhite="#f8f8ff";Z.gold="#ffd700";Z.goldenrod="#daa520";Z.gray="#808080";Z.green="#008000";Z.greenyellow="#adff2f";Z.grey="#808080";
Z.hasNeighbourColor=function(a,b,c,d){let e=b.data;b=b.width;for(let h=c-1;h<=c+1;h++)for(let k=d-1;k<=d+1;k++)if(h!==c||k!==d){var g=b*d+c;g=e.subarray(g,g+4);if(g[0]===a[0]&&g[1]===a[1]&&g[2]===a[2]&&g[3]===a[3])return!0}return!1};Z.heatPlot=fb;Z.honeydew="#f0fff0";Z.hotpink="#ff69b4";Z.hue2RGB=Ja;Z.imageDataToColorArray=function(a){let b=a.width,c=a.height;a=Array.from(a.data);let d=[];for(var e=0;e<c;e++){d.push([]);for(var g=0;g<b;g++){let h=c*e+g;d[e].push([a[h],a[h+1],a[h+2],a[h+3]])}}return d};
Z.imageToData=function(a,b,c,d,e,g=!1){let h=document.createElement("canvas"),k=h.getContext("2d"),l=f.dpr;b=b*l||0;c=c*l||0;h.width=d=(isNaN(d)?a.width:d)*l;h.height=e=(isNaN(e)?a.height:e)*l;k.imageSmoothingEnabled=g;k.drawImage(a,0,0,d,e);return k.getImageData(b,c,d,e)};Z.indianred="#cd5c5c";Z.indigo="#4b0082";Z.ivory="#fffff0";Z.khaki="#f0e68c";Z.lavender="#e6e6fa";Z.lavenderblush="#fff0f5";Z.lawngreen="#7cfc00";Z.lcm=Kb;
Z.lcmArray=function(a){let b=1,c=Array.isArray(a)?a:arguments;for(let d=0;d<c.length;++d)b=Kb(c[d],b);return b};Z.lemonchiffon="#fffacd";Z.lens=function(a,b,c,d){var e=Qa(a,b,c,d),g=e[0],h=e[1];e=Math.atan2(g[1]-a[1],g[0]-a[0]);let k=Math.atan2(h[1]-a[1],h[0]-a[0]);g=Math.atan2(g[1]-c[1],g[0]-c[0]);h=Math.atan2(h[1]-c[1],h[0]-c[0]);let l=f.workingContext;l.beginPath();l.arc(a[0],a[1],b,e,k);l.arc(c[0],c[1],d,h,g);l.doStroke&&l.stroke();l.doFill&&l.fill();l.closePath()};Z.lerpColor=Ia;
Z.lerpColorArray=function(a,b,c=0,d=1){let e=a.length-1;if(b>=d)return a[e];if(b<=c)return a[0];b=(b-c)/(d-c)*e;c=Math.floor(b);return Ia(a[c],a[c+1],b-c)};Z.lerpColorObject=function(a,b){const c=Object.keys(a||{}).sort();var d=Math.min(...c),e=Math.max(...c);let g="#000000";if(b>=e)return a[e];if(b<=d)return a[d];for(d=0;d<c.length-1;d++)if(e=c[d],b>e){g=Ia(a[e],a[c[d+1]],(b-e)/(c[d+1]-e));break}else if(b==e){g=a[e];break}return g};Z.lightblue="#add8e6";Z.lightcoral="#f08080";Z.lightcyan="#e0ffff";
Z.lightgoldenrodyellow="#fafad2";Z.lightgray="#d3d3d3";Z.lightgreen="#90ee90";Z.lightgrey="#d3d3d3";Z.lightpink="#ffb6c1";Z.lightsalmon="#ffa07a";Z.lightseagreen="#20b2aa";Z.lightskyblue="#87cefa";Z.lightslategray="#778899";Z.lightslategrey="#778899";Z.lightsteelblue="#b0c4de";Z.lightyellow="#ffffe0";Z.lime="#00ff00";Z.limegreen="#32cd32";Z.line=U;Z.lineCap=function(a){f.workingContext.lineCap=a};Z.lineDash=function(){f.workingContext.setLineDash([...arguments])};
Z.lineHeight=function(a){let b=f.workingContext;b.lineHeight=a;b.font=P(!0)};Z.lineIntersection=Pa;Z.lineJoin=function(a){f.workingContext.lineJoin=a};Z.lineTo=function(a,b){f.workingContext.lineTo(a,b)};Z.linear=function(a){return a};
Z.linearGradient=function(a,b,c){a=f.workingContext.createLinearGradient(a[0],a[1],b[0],b[1]);if("Array"==Object.prototype.toString.call(c).slice(8,-1)){b={};const d=1/c.length;for(let e=0;e<c.length;e++)b[d*e]=c[e];c=b}else if("Object"!=Object.prototype.toString.call(c).slice(8,-1))throw Error("Color Stops must be an Array or an Object");for(let d=Object.keys(c||{}),e=0;e<d.length;e++)b=Number(d[e]),a.addColorStop(b,c[b]);return a};Z.linen="#faf0e6";Z.lingering=function(a){return Pb(b=>b,0,.8)(a)};
Z.loadImage=Ka;Z.loadImagePromise=function(a){return new Promise((b,c)=>{Ka(a,b,c)})};Z.log=wb;Z.log10=yb;Z.log2=xb;Z.loop=ua;Z.magenta="#ff00ff";Z.maroon="#800000";Z.max=zb;Z.measureText=function(a){return f.workingContext.measureText(a)};
Z.measurement=function(a){const b=f.workingContext;a=m({background:"rgba(0,0,0,0)",tipWidth:15,tipHeight:12.5,innerPadding:3,outerPadding:0,textRotation:0,arrowCurving:0},a);const {p1:c,p2:d}=a;var e=Math.atan2(d[1]-c[1],d[0]-c[0]),{width:g}=b.measureText(a.text);e=[Math.cos(e)*(a.innerPadding+g/2),Math.sin(e)*(a.innerPadding+g/2)];g=[(c[0]+d[0])/2,(c[1]+d[1])/2];Sa(g[0]-e[0],g[1]-e[1],c[0],c[1],a.tipWidth,a.tipHeight,a.arrowCurving,a.outerPadding);Sa(g[0]+e[0],g[1]+e[1],d[0],d[1],a.tipWidth,a.tipHeight,
a.arrowCurving,a.outerPadding);pa();b.translate(g[0],g[1]);b.textAlign="center";b.textBaseline="middle";b.rotate(Math.atan2(d[1]-c[1],d[0]-c[0])+a.textRotation);Ma(a.text,0,0);qa()};Z.mediumaquamarine="#66cdaa";Z.mediumblue="#0000cd";Z.mediumorchid="#ba55d3";Z.mediumpurple="#9370db";Z.mediumseagreen="#3cb371";Z.mediumslateblue="#7b68ee";Z.mediumspringgreen="#00fa9a";Z.mediumturquoise="#48d1cc";Z.mediumvioletred="#c71585";Z.midnightblue="#191970";Z.min=Ab;Z.mintcream="#f5fffa";Z.mistyrose="#ffe4e1";
Z.moccasin="#ffe4b5";Z.moveTo=function(a,b){f.workingContext.moveTo(a,b)};Z.navajowhite="#ffdead";Z.navy="#000080";Z.noFill=function(){f.workingContext.doFill=!1};Z.noLoop=va;Z.noStroke=function(){f.workingContext.doStroke=!1};Z.notQuiteThere=function(a,b){a=void 0===a?V:a;b=void 0===b?.7:b;return c=>b*a(c)};Z.numberLine=kb;
Z.numberPlane=function(a={}){var b=f.workingCanvas;b={xAxis:{length:parseInt(b.rWidth),includeTick:!0,includeNumbers:!0,includeLeftTip:!1,includeRightTip:!1,excludeOriginTick:!0,unitSpace:50},yAxis:{length:parseInt(b.style.height),textRotation:-Math.PI/2,unitSpace:50,includeTick:!0,includeNumbers:!0,includeLeftTip:!1,includeRightTip:!1,excludeOriginTick:!0},grid:{subgrids:1,lineWidth:1,subgridLineWidth:.7,color:"#58c4dda0",subgridLineColor:"#80808050"},center:hb};a=m(b,a);const {xAxis:c,yAxis:d,grid:e}=
a,g=e.subgrids;a=a.center;Array.isArray(c.range)?(isNaN(c.range[2])&&(c.range[2]=1),c.unitSpace=c.length/((c.range[1]-c.range[0])/c.range[2])):(b=c.length/c.unitSpace/2,c.range=[-b,b,1]);Array.isArray(d.range)?(isNaN(d.range[2])&&(d.range[2]=1),d.unitSpace=d.length/((d.range[1]-d.range[0])/d.range[2])):(b=d.length/d.unitSpace/2,d.range=[-b,b,1]);b=c.range;var h=d.range;const k=(b[1]-b[0])/b[2],l=(h[1]-h[0])/h[2],n=c.unitSpace,p=d.unitSpace,r=b[0]/b[2]*n,q=b[1]/b[2]*n,C=h[0]/h[2]*p,B=h[1]/h[2]*p,F=
[n/g,p/g];pa();a[0]*=n;a[1]*=p;L(a[0],a[1]);const w=jb({xAxis:c,yAxis:d});(function(){function z(u,A,E,M,da,R){L(u,A);na(e.lineWidth);sa(e.color);U(E,M,da,R)}function v(u,A,E,M){na(e.subgridLineWidth);sa(e.subgridLineColor);U(u,A,E,M)}L(r,0);var y=F[0];const x=F[1];for(var t=0;t<=k;t++)if(t!=c.center-c.range[0]){z(t*n,0,0,C,0,B);for(let u=1;u<=g&&t<k;u++)v(u*y,C,u*y,B);L(-t*n)}L(-r,C);for(y=0;y<=l;y++)if(y!=d.center-d.range[0]){z(0,y*p,r,0,q,0);for(t=1;t<=g&&y<l;t++)v(r,t*x,q,t*x);L(0,-y*p)}L(0,-C)})();
b=w.unitSpace;h=w.unitValue;qa();a={center:a,unitValue:h,unitSpace:b,xAxis:w.xAxis,yAxis:w.yAxis,subgridUnit:F};return Object.assign(a,gb(b,h,a))};Z.oldlace="#fdf5e6";Z.olive="#808000";Z.olivedrab="#6b8e23";Z.orange="#ffa500";Z.orangered="#ff4500";Z.orchid="#da70d6";Z.palegoldenrod="#eee8aa";Z.palegreen="#98fb98";Z.paleturquoise="#afeeee";Z.palevioletred="#db7093";Z.papayawhip="#ffefd5";Z.parametricFunction=db;Z.peachpuff="#ffdab9";
Z.permaBackground=function(a){"string"!=typeof a&&(a=za());let b=f.workingContext.canvas.style;b.background="url('"+a+"')";b.backgroundPosition="center";b.backgroundSize="cover"};Z.peru="#cd853f";Z.pink="#ffc0cb";Z.pixel=function(a,b,c,d){let e=f.workingContext;c&&(e.fillStyle=c);d||(d=1/f.dpr);e.fillRect(a,b,d,d)};Z.plum="#dda0dd";Z.point=function(a,b,c=10,d=!1){let e=f.workingContext;e.beginPath();e.arc(a,b,c/2,0,2*Math.PI);e.fill();d&&e.stroke();e.beginPath()};
Z.polygon=function(){let a=arguments;if(2<a.length){let b=f.workingContext,c=a[0];b.beginPath();b.moveTo(c[0],c[1]);for(let d=1;d<a.length;d++)b.lineTo(a[d][0],a[d][1]);b.lineTo(c[0],c[1]);b.doFill&&b.fill();b.doStroke&&b.stroke();b.closePath()}};
Z.polygonWithRatioOfCentralAngles=function(a,b,c,d,e=0){Array.isArray(d)||console.error("ratio provided is not array");var g=d.reduce((k,l)=>k+l,0);g=2*Math.PI/g;let h=f.workingContext;h.save();h.translate(a,b);h.rotate(e);h.beginPath();h.moveTo(c,0);for(a=0;a<d.length;a++)h.rotate(g*d[a]),h.lineTo(c,0);h.doStroke&&h.stroke();h.doFill&&h.fill();h.closePath();h.restore()};Z.pow=Bb;Z.powderblue="#b0e0e6";Z.purple="#800080";Z.putImageData=function(){f.workingContext.putImageData(...arguments)};
Z.quad=function(a,b,c,d){let e=f.workingContext;e.beginPath();e.moveTo(a[0],a[1]);e.lineTo(b[0],b[1]);e.lineTo(c[0],c[1]);e.lineTo(d[0],d[1]);e.lineTo(a[0],a[1]);e.doFill&&e.fill();e.doStroke&&e.stroke();e.closePath()};Z.quadraticCurve=function(){let a=f.workingContext,b=arguments;4==b.length?a.quadraticCurveTo(b[0],b[1],b[2],b[3]):6==b.length&&(a.beginPath(),a.moveTo(b[0],b[1]),a.quadraticCurveTo(b[2],b[3],b[4],b[5]),I(a))};Z.random=Cb;
Z.randomColor=function(){let a="#";for(let b=0;3>b;b++){let c=Ga(255).toString(16);c=1===c.length?0+c:c;a+=c}return a};Z.randomDefinedColor=function(){return ea[S[Ga(S.length-1)]]};Z.randomInt=Ga;Z.readColor=J;Z.rebeccapurple="#663399";Z.rect=Xa;Z.red="#ff0000";Z.regularPolygon=Ya;Z.regularPolygonWithRadius=Za;
Z.replaceColorInImage=function(a,b,c,d=!1,e=0){let g=a.data;a=f.workingContext.createImageData(a.width,a.height);const [h,k,l,n]=J(b).rgbaA,[p,r,q,C]=J(c).rgbaA;b=0;for(c=0;c<g.length;c+=4){let B=g[c],F=g[c+1],w=g[c+2],z=g[c+3];Math.abs(B-h)<=e&&Math.abs(F-k)<=e&&Math.abs(w-l)<=e&&(d?Math.abs(z-n)<=e:1)?(a.data[c]=p,a.data[c+1]=r,a.data[c+2]=q,a.data[c+3]=d?C:255):(a.data[c]=B,a.data[c+1]=F,a.data[c+2]=w,a.data[c+3]=d?z:255,b++)}console.log(b);return a};Z.rest=ra;Z.restore=qa;Z.rosybrown="#bc8f8f";
Z.rotate=oa;Z.rotateAroundOrigin=function(a,b=10){return Oa(0,0,a,b)};Z.rotateAroundPoint=Oa;Z.round=Db;Z.royalblue="#4169e1";Z.rushFrom=function(a,b){return 2*V(a/2+.5,void 0===b?10:b)-1};Z.rushInto=function(a,b){return 2*V(a/2,void 0===b?10:b)};Z.saddlebrown="#8b4513";Z.salmon="#fa8072";Z.sandybrown="#f4a460";Z.save=pa;Z.saveCanvas=function(a="drawing",b="image/png"){b=za().replace(b,"image/octet-stream");let c=document.createElement("a");c.download=a+".png";c.href=b;c.click()};Z.scale=N;
Z.seagreen="#2e8b57";Z.seashell="#fff5ee";Z.sector=function(a,b,c,d=Math.PI/2,e=0){let g=f.workingContext;g.beginPath();g.moveTo(a,b);g.arc(a,b,c,e,e+d);g.lineTo(a,b);I(g)};Z.setImageSmoothing=function(a){f.workingContext.imageSmoothingEnabled=!!a};Z.sgn=Eb;Z.sienna="#a0522d";Z.sigmoid=Ib;Z.silver="#c0c0c0";Z.sin=Fb;Z.skyblue="#87ceeb";Z.slateblue="#6a5acd";Z.slategray="#708090";Z.slategrey="#708090";Z.slowInto=function(a){return Math.sqrt(1-(1-a)*(1-a))};Z.smooth=V;Z.smoothCurveThroughPoints=Wa;
Z.smoothCurveThroughPointsTo=Va;Z.snow="#fffafa";Z.springgreen="#00ff7f";Z.sqrt=Gb;Z.square=function(a,b,c){Xa(a,b,c,c)};Z.squishRateFunc=Pb;Z.startShape=wa;Z.steelblue="#4682b4";Z.stroke=sa;Z.strokeText=function(a,b=0,c=0,d){let e=f.workingContext;e.yAxisInverted&&(N(1,-1),c*=-1);e.strokeText(a,b,c,d);e.yAxisInverted&&N(1,-1)};Z.strokeWidth=na;Z.tanh=Hb;Z.teal="#008080";
Z.tex=function(a,b,c){let d=La(a),e=f.workingContext,g=e.textAlign,h=e.textBaseline;d.onload=function(){e.save();let {width:k,height:l}=d;switch(g){case "center":e.translate(-k/2,0);break;case "right":e.translate(-k,0)}switch(h){case "middle":e.translate(0,l/2);break;case "bottom":e.translate(0,l)}e.yAxisInverted&&(e.scale(1,-1),c*=-1);e.drawImage(d,b||0,c||0);e.restore()};return d};
Z.text=function(a,b=0,c=0,d){let e=f.workingContext;e.yAxisInverted&&(N(1,-1),c*=-1);e.doFill?e.fillText(a,b,c,d):e.doStroke&&e.strokeText(a,b,c,d);e.yAxisInverted&&N(1,-1)};Z.textAlign=function(a){f.workingContext.textAlign=a};Z.textBaseline=function(a){f.workingContext.textBaseline=a};Z.thereAndBack=Ob;Z.thereAndBackWithPause=function(a,b){b=void 0===b?1/3:b;let c=1/b;return a<.5-b/2?V(c*a):a<.5+b/2?1:V(c-c*a)};Z.thistle="#d8bfd8";Z.tomato="#ff6347";
Z.transform=function(a,b,c,d,e,g){let h=f.workingContext;if(void 0==a||null==a)return f.workingContext.getTransform();a instanceof DOMMatrix?h.setTransform(a.a,a.b,a.c,a.d,a.e,a.f):h.setTransform(a||0,b||0,c||0,d||0,e||0,g||0);h.scale(f.dpr,f.dpr)};Z.translate=L;Z.triangle=function(a,b,c){let d=f.workingContext;d.beginPath();d.moveTo(a[0],a[1]);d.lineTo(b[0],b[1]);d.lineTo(c[0],c[1]);d.lineTo(a[0],a[1]);d.doFill&&d.fill();d.doStroke&&d.stroke();d.closePath()};Z.turquoise="#40e0d0";Z.violet="#ee82ee";
Z.wheat="#f5deb3";Z.white="#ffffff";Z.whitesmoke="#f5f5f5";Z.wiggle=function(a,b){b=void 0===b?2:b;return Ob(a)*Math.sin(b*Math.PI*a)};Z.yellow="#ffff00";Z.yellowgreen="#9acd32";defineProperties(Z);}).call(this);
